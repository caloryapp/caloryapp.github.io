import{l as lt,x as yn,_ as Pe,k as Nt,H as Xt,b as Ws,Q as wn,K as Ku,G as kr,J as Bu,u as L}from"./styles.js";var Lt,Te,mi,Ua,Un=0,Gs=[],Ke=lt,Va=Ke.__b,Ha=Ke.__r,Wa=Ke.diffed,Ga=Ke.__c,Ya=Ke.unmount,Za=Ke.__;function _n(t,e){Ke.__h&&Ke.__h(Te,t,Un||e),Un=0;var n=Te.__H||(Te.__H={__:[],__h:[]});return t>=n.__.length&&n.__.push({}),n.__[t]}function _t(t){return Un=1,Cr(Ys,t)}function Cr(t,e,n){var o=_n(Lt++,2);if(o.t=t,!o.__c&&(o.__=[n?n(e):Ys(void 0,e),function(d){var h=o.__N?o.__N[0]:o.__[0],g=o.t(h,d);h!==g&&(o.__N=[g,o.__[1]],o.__c.setState({}))}],o.__c=Te,!Te.__f)){var a=function(d,h,g){if(!o.__c.__H)return!0;var w=o.__c.__H.__.filter(function(I){return!!I.__c});if(w.every(function(I){return!I.__N}))return!l||l.call(this,d,h,g);var y=o.__c.props!==d;return w.forEach(function(I){if(I.__N){var R=I.__[0];I.__=I.__N,I.__N=void 0,R!==I.__[0]&&(y=!0)}}),l&&l.call(this,d,h,g)||y};Te.__f=!0;var l=Te.shouldComponentUpdate,u=Te.componentWillUpdate;Te.componentWillUpdate=function(d,h,g){if(this.__e){var w=l;l=void 0,a(d,h,g),l=w}u&&u.call(this,d,h,g)},Te.shouldComponentUpdate=a}return o.__N||o.__}function Je(t,e){var n=_n(Lt++,3);!Ke.__s&&Gi(n.__H,e)&&(n.__=t,n.u=e,Te.__H.__h.push(n))}function Wn(t,e){var n=_n(Lt++,4);!Ke.__s&&Gi(n.__H,e)&&(n.__=t,n.u=e,Te.__h.push(n))}function Ae(t){return Un=5,Xe(function(){return{current:t}},[])}function Hi(t,e,n){Un=6,Wn(function(){if(typeof t=="function"){var o=t(e());return function(){t(null),o&&typeof o=="function"&&o()}}if(t)return t.current=e(),function(){return t.current=null}},n==null?n:n.concat(t))}function Xe(t,e){var n=_n(Lt++,7);return Gi(n.__H,e)&&(n.__=t(),n.__H=e,n.__h=t),n.__}function vn(t,e){return Un=8,Xe(function(){return t},e)}function Qt(t){var e=Te.context[t.__c],n=_n(Lt++,9);return n.c=t,e?(n.__==null&&(n.__=!0,e.sub(Te)),e.props.value):t.__}function Wi(t,e){Ke.useDebugValue&&Ke.useDebugValue(e?e(t):t)}function $u(t){var e=_n(Lt++,10),n=_t();return e.__=t,Te.componentDidCatch||(Te.componentDidCatch=function(o,a){e.__&&e.__(o,a),n[1](o)}),[n[0],function(){n[1](void 0)}]}function Ao(){var t=_n(Lt++,11);if(!t.__){for(var e=Te.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var n=e.__m||(e.__m=[0,0]);t.__="P"+n[0]+"-"+n[1]++}return t.__}function zu(){for(var t;t=Gs.shift();)if(t.__P&&t.__H)try{t.__H.__h.forEach(co),t.__H.__h.forEach(Ni),t.__H.__h=[]}catch(e){t.__H.__h=[],Ke.__e(e,t.__v)}}Ke.__b=function(t){Te=null,Va&&Va(t)},Ke.__=function(t,e){t&&e.__k&&e.__k.__m&&(t.__m=e.__k.__m),Za&&Za(t,e)},Ke.__r=function(t){Ha&&Ha(t),Lt=0;var e=(Te=t.__c).__H;e&&(mi===Te?(e.__h=[],Te.__h=[],e.__.forEach(function(n){n.__N&&(n.__=n.__N),n.u=n.__N=void 0})):(e.__h.forEach(co),e.__h.forEach(Ni),e.__h=[],Lt=0)),mi=Te},Ke.diffed=function(t){Wa&&Wa(t);var e=t.__c;e&&e.__H&&(e.__H.__h.length&&(Gs.push(e)!==1&&Ua===Ke.requestAnimationFrame||((Ua=Ke.requestAnimationFrame)||qu)(zu)),e.__H.__.forEach(function(n){n.u&&(n.__H=n.u),n.u=void 0})),mi=Te=null},Ke.__c=function(t,e){e.some(function(n){try{n.__h.forEach(co),n.__h=n.__h.filter(function(o){return!o.__||Ni(o)})}catch(o){e.some(function(a){a.__h&&(a.__h=[])}),e=[],Ke.__e(o,n.__v)}}),Ga&&Ga(t,e)},Ke.unmount=function(t){Ya&&Ya(t);var e,n=t.__c;n&&n.__H&&(n.__H.__.forEach(function(o){try{co(o)}catch(a){e=a}}),n.__H=void 0,e&&Ke.__e(e,n.__v))};var Xa=typeof requestAnimationFrame=="function";function qu(t){var e,n=function(){clearTimeout(o),Xa&&cancelAnimationFrame(e),setTimeout(t)},o=setTimeout(n,35);Xa&&(e=requestAnimationFrame(n))}function co(t){var e=Te,n=t.__c;typeof n=="function"&&(t.__c=void 0,n()),Te=e}function Ni(t){var e=Te;t.__c=t.__(),Te=e}function Gi(t,e){return!t||t.length!==e.length||e.some(function(n,o){return n!==t[o]})}function Ys(t,e){return typeof e=="function"?e(t):e}function Zs(t,e){for(var n in e)t[n]=e[n];return t}function Li(t,e){for(var n in t)if(n!=="__source"&&!(n in e))return!0;for(var o in e)if(o!=="__source"&&t[o]!==e[o])return!0;return!1}function Yi(t,e){var n=e(),o=_t({t:{__:n,u:e}}),a=o[0].t,l=o[1];return Wn(function(){a.__=n,a.u=e,yi(a)&&l({t:a})},[t,n,e]),Je(function(){return yi(a)&&l({t:a}),t(function(){yi(a)&&l({t:a})})},[t]),n}function yi(t){var e,n,o=t.u,a=t.__;try{var l=o();return!((e=a)===(n=l)&&(e!==0||1/e==1/n)||e!=e&&n!=n)}catch{return!0}}function Zi(t){t()}function Xi(t){return t}function Qi(){return[!1,Zi]}var Ji=Wn;function bo(t,e){this.props=t,this.context=e}function Xs(t,e){function n(a){var l=this.props.ref,u=l==a.ref;return!u&&l&&(l.call?l(null):l.current=null),e?!e(this.props,a)||!u:Li(this.props,a)}function o(a){return this.shouldComponentUpdate=n,Pe(t,a)}return o.displayName="Memo("+(t.displayName||t.name)+")",o.prototype.isReactComponent=!0,o.__f=!0,o.type=t,o}(bo.prototype=new yn).isPureReactComponent=!0,bo.prototype.shouldComponentUpdate=function(t,e){return Li(this.props,t)||Li(this.state,e)};var Qa=lt.__b;lt.__b=function(t){t.type&&t.type.__f&&t.ref&&(t.props.ref=t.ref,t.ref=null),Qa&&Qa(t)};var Uu=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function ea(t){function e(n){var o=Zs({},n);return delete o.ref,t(o,n.ref||null)}return e.$$typeof=Uu,e.render=t,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(t.displayName||t.name)+")",e}var Ja=function(t,e){return t==null?null:Xt(Xt(t).map(e))},Qs={map:Ja,forEach:Ja,count:function(t){return t?Xt(t).length:0},only:function(t){var e=Xt(t);if(e.length!==1)throw"Children.only";return e[0]},toArray:Xt},Vu=lt.__e;lt.__e=function(t,e,n,o){if(t.then){for(var a,l=e;l=l.__;)if((a=l.__c)&&a.__c)return e.__e==null&&(e.__e=n.__e,e.__k=n.__k),a.__c(t,e)}Vu(t,e,n,o)};var es=lt.unmount;function Js(t,e,n){return t&&(t.__c&&t.__c.__H&&(t.__c.__H.__.forEach(function(o){typeof o.__c=="function"&&o.__c()}),t.__c.__H=null),(t=Zs({},t)).__c!=null&&(t.__c.__P===n&&(t.__c.__P=e),t.__c.__e=!0,t.__c=null),t.__k=t.__k&&t.__k.map(function(o){return Js(o,e,n)})),t}function el(t,e,n){return t&&n&&(t.__v=null,t.__k=t.__k&&t.__k.map(function(o){return el(o,e,n)}),t.__c&&t.__c.__P===e&&(t.__e&&n.appendChild(t.__e),t.__c.__e=!0,t.__c.__P=n)),t}function mr(){this.__u=0,this.o=null,this.__b=null}function tl(t){var e=t.__.__c;return e&&e.__a&&e.__a(t)}function nl(t){var e,n,o,a=null;function l(u){if(e||(e=t()).then(function(d){d&&(a=d.default||d),o=!0},function(d){n=d,o=!0}),n)throw n;if(!o)throw e;return a?Pe(a,u):null}return l.displayName="Lazy",l.__f=!0,l}function Bn(){this.i=null,this.l=null}lt.unmount=function(t){var e=t.__c;e&&e.__R&&e.__R(),e&&32&t.__u&&(t.type=null),es&&es(t)},(mr.prototype=new yn).__c=function(t,e){var n=e.__c,o=this;o.o==null&&(o.o=[]),o.o.push(n);var a=tl(o.__v),l=!1,u=function(){l||(l=!0,n.__R=null,a?a(d):d())};n.__R=u;var d=function(){if(!--o.__u){if(o.state.__a){var h=o.state.__a;o.__v.__k[0]=el(h,h.__c.__P,h.__c.__O)}var g;for(o.setState({__a:o.__b=null});g=o.o.pop();)g.forceUpdate()}};o.__u++||32&e.__u||o.setState({__a:o.__b=o.__v.__k[0]}),t.then(u,u)},mr.prototype.componentWillUnmount=function(){this.o=[]},mr.prototype.render=function(t,e){if(this.__b){if(this.__v.__k){var n=document.createElement("div"),o=this.__v.__k[0].__c;this.__v.__k[0]=Js(this.__b,n,o.__O=o.__P)}this.__b=null}var a=e.__a&&Pe(Nt,null,t.fallback);return a&&(a.__u&=-33),[Pe(Nt,null,e.__a?null:t.children),a]};var ts=function(t,e,n){if(++n[1]===n[0]&&t.l.delete(e),t.props.revealOrder&&(t.props.revealOrder[0]!=="t"||!t.l.size))for(n=t.i;n;){for(;n.length>3;)n.pop()();if(n[1]<n[0])break;t.i=n=n[2]}};function Hu(t){return this.getChildContext=function(){return t.context},t.children}function Wu(t){var e=this,n=t.h;if(e.componentWillUnmount=function(){kr(null,e.v),e.v=null,e.h=null},e.h&&e.h!==n&&e.componentWillUnmount(),!e.v){for(var o=e.__v;o!==null&&!o.__m&&o.__!==null;)o=o.__;e.h=n,e.v={nodeType:1,parentNode:n,childNodes:[],__k:{__m:o.__m},contains:function(){return!0},insertBefore:function(a,l){this.childNodes.push(a),e.h.insertBefore(a,l)},removeChild:function(a){this.childNodes.splice(this.childNodes.indexOf(a)>>>1,1),e.h.removeChild(a)}}}kr(Pe(Hu,{context:e.context},t.__v),e.v)}function rl(t,e){var n=Pe(Wu,{__v:t,h:e});return n.containerInfo=e,n}(Bn.prototype=new yn).__a=function(t){var e=this,n=tl(e.__v),o=e.l.get(t);return o[0]++,function(a){var l=function(){e.props.revealOrder?(o.push(a),ts(e,t,o)):a()};n?n(l):l()}},Bn.prototype.render=function(t){this.i=null,this.l=new Map;var e=Xt(t.children);t.revealOrder&&t.revealOrder[0]==="b"&&e.reverse();for(var n=e.length;n--;)this.l.set(e[n],this.i=[1,0,this.i]);return t.children},Bn.prototype.componentDidUpdate=Bn.prototype.componentDidMount=function(){var t=this;this.l.forEach(function(e,n){ts(t,n,e)})};var ol=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,Gu=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,Yu=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,Zu=/[A-Z0-9]/g,Xu=typeof document<"u",Qu=function(t){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(t)};function il(t,e,n){return e.__k==null&&(e.textContent=""),kr(t,e),typeof n=="function"&&n(),t?t.__c:null}function al(t,e,n){return Bu(t,e),typeof n=="function"&&n(),t?t.__c:null}yn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(t){Object.defineProperty(yn.prototype,t,{configurable:!0,get:function(){return this["UNSAFE_"+t]},set:function(e){Object.defineProperty(this,t,{configurable:!0,writable:!0,value:e})}})});var ns=lt.event;function Ju(){}function ec(){return this.cancelBubble}function tc(){return this.defaultPrevented}lt.event=function(t){return ns&&(t=ns(t)),t.persist=Ju,t.isPropagationStopped=ec,t.isDefaultPrevented=tc,t.nativeEvent=t};var ta,nc={enumerable:!1,configurable:!0,get:function(){return this.class}},rs=lt.vnode;lt.vnode=function(t){typeof t.type=="string"&&(function(e){var n=e.props,o=e.type,a={},l=o.indexOf("-")===-1;for(var u in n){var d=n[u];if(!(u==="value"&&"defaultValue"in n&&d==null||Xu&&u==="children"&&o==="noscript"||u==="class"||u==="className")){var h=u.toLowerCase();u==="defaultValue"&&"value"in n&&n.value==null?u="value":u==="download"&&d===!0?d="":h==="translate"&&d==="no"?d=!1:h[0]==="o"&&h[1]==="n"?h==="ondoubleclick"?u="ondblclick":h!=="onchange"||o!=="input"&&o!=="textarea"||Qu(n.type)?h==="onfocus"?u="onfocusin":h==="onblur"?u="onfocusout":Yu.test(u)&&(u=h):h=u="oninput":l&&Gu.test(u)?u=u.replace(Zu,"-$&").toLowerCase():d===null&&(d=void 0),h==="oninput"&&a[u=h]&&(u="oninputCapture"),a[u]=d}}o=="select"&&a.multiple&&Array.isArray(a.value)&&(a.value=Xt(n.children).forEach(function(g){g.props.selected=a.value.indexOf(g.props.value)!=-1})),o=="select"&&a.defaultValue!=null&&(a.value=Xt(n.children).forEach(function(g){g.props.selected=a.multiple?a.defaultValue.indexOf(g.props.value)!=-1:a.defaultValue==g.props.value})),n.class&&!n.className?(a.class=n.class,Object.defineProperty(a,"className",nc)):(n.className&&!n.class||n.class&&n.className)&&(a.class=a.className=n.className),e.props=a})(t),t.$$typeof=ol,rs&&rs(t)};var os=lt.__r;lt.__r=function(t){os&&os(t),ta=t.__c};var is=lt.diffed;lt.diffed=function(t){is&&is(t);var e=t.props,n=t.__e;n!=null&&t.type==="textarea"&&"value"in e&&e.value!==n.value&&(n.value=e.value==null?"":e.value),ta=null};var sl={ReactCurrentDispatcher:{current:{readContext:function(t){return ta.__n[t.__c].props.value},useCallback:vn,useContext:Qt,useDebugValue:Wi,useDeferredValue:Xi,useEffect:Je,useId:Ao,useImperativeHandle:Hi,useInsertionEffect:Ji,useLayoutEffect:Wn,useMemo:Xe,useReducer:Cr,useRef:Ae,useState:_t,useSyncExternalStore:Yi,useTransition:Qi}}},rc="18.3.1";function ll(t){return Pe.bind(null,t)}function Or(t){return!!t&&t.$$typeof===ol}function ul(t){return Or(t)&&t.type===Nt}function cl(t){return!!t&&!!t.displayName&&(typeof t.displayName=="string"||t.displayName instanceof String)&&t.displayName.startsWith("Memo(")}function fl(t){return Or(t)?Ku.apply(null,arguments):t}function dl(t){return!!t.__k&&(kr(null,t),!0)}function hl(t){return t&&(t.base||t.nodeType===1&&t)||null}var pl=function(t,e){return t(e)},gl=function(t,e){return t(e)},ml=Nt,yl=Or,Mn={useState:_t,useId:Ao,useReducer:Cr,useEffect:Je,useLayoutEffect:Wn,useInsertionEffect:Ji,useTransition:Qi,useDeferredValue:Xi,useSyncExternalStore:Yi,startTransition:Zi,useRef:Ae,useImperativeHandle:Hi,useMemo:Xe,useCallback:vn,useContext:Qt,useDebugValue:Wi,version:"18.3.1",Children:Qs,render:il,hydrate:al,unmountComponentAtNode:dl,createPortal:rl,createElement:Pe,createContext:wn,createFactory:ll,cloneElement:fl,createRef:Ws,Fragment:Nt,isValidElement:Or,isElement:yl,isFragment:ul,isMemo:cl,findDOMNode:hl,Component:yn,PureComponent:bo,memo:Xs,forwardRef:ea,flushSync:gl,unstable_batchedUpdates:pl,StrictMode:ml,Suspense:mr,SuspenseList:Bn,lazy:nl,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sl};const oc=Object.freeze(Object.defineProperty({__proto__:null,Children:Qs,Component:yn,Fragment:Nt,PureComponent:bo,StrictMode:ml,Suspense:mr,SuspenseList:Bn,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:sl,cloneElement:fl,createContext:wn,createElement:Pe,createFactory:ll,createPortal:rl,createRef:Ws,default:Mn,findDOMNode:hl,flushSync:gl,forwardRef:ea,hydrate:al,isElement:yl,isFragment:ul,isMemo:cl,isValidElement:Or,lazy:nl,memo:Xs,render:il,startTransition:Zi,unmountComponentAtNode:dl,unstable_batchedUpdates:pl,useCallback:vn,useContext:Qt,useDebugValue:Wi,useDeferredValue:Xi,useEffect:Je,useErrorBoundary:$u,useId:Ao,useImperativeHandle:Hi,useInsertionEffect:Ji,useLayoutEffect:Wn,useMemo:Xe,useReducer:Cr,useRef:Ae,useState:_t,useSyncExternalStore:Yi,useTransition:Qi,version:rc},Symbol.toStringTag,{value:"Module"})),ic=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-7",...t},Pe("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M15.75 15.75V18m-7.5-6.75h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V13.5Zm0 2.25h.008v.008H8.25v-.008Zm0 2.25h.008v.008H8.25V18Zm2.498-6.75h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V13.5Zm0 2.25h.007v.008h-.007v-.008Zm0 2.25h.007v.008h-.007V18Zm2.504-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5Zm0 2.25h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V18Zm2.498-6.75h.008v.008h-.008v-.008Zm0 2.25h.008v.008h-.008V13.5ZM8.25 6h7.5v2.25h-7.5V6ZM12 2.25c-1.892 0-3.758.11-5.593.322C5.307 2.7 4.5 3.65 4.5 4.757V19.5a2.25 2.25 0 0 0 2.25 2.25h10.5a2.25 2.25 0 0 0 2.25-2.25V4.757c0-1.108-.806-2.057-1.907-2.185A48.507 48.507 0 0 0 12 2.25Z"}));function vl(t){var e,n,o="";if(typeof t=="string"||typeof t=="number")o+=t;else if(typeof t=="object")if(Array.isArray(t)){var a=t.length;for(e=0;e<a;e++)t[e]&&(n=vl(t[e]))&&(o&&(o+=" "),o+=n)}else for(n in t)t[n]&&(o&&(o+=" "),o+=n);return o}function ac(){for(var t,e,n=0,o="",a=arguments.length;n<a;n++)(t=arguments[n])&&(e=vl(t))&&(o&&(o+=" "),o+=e);return o}const sc=(t,e)=>{const n=new Array(t.length+e.length);for(let o=0;o<t.length;o++)n[o]=t[o];for(let o=0;o<e.length;o++)n[t.length+o]=e[o];return n},lc=(t,e)=>({classGroupId:t,validator:e}),bl=(t=new Map,e=null,n)=>({nextPart:t,validators:e,classGroupId:n}),wo="-",as=[],uc="arbitrary..",cc=t=>{const e=dc(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:o}=t;return{getClassGroupId:u=>{if(u.startsWith("[")&&u.endsWith("]"))return fc(u);const d=u.split(wo),h=d[0]===""&&d.length>1?1:0;return wl(d,h,e)},getConflictingClassGroupIds:(u,d)=>{if(d){const h=o[u],g=n[u];return h?g?sc(g,h):h:g||as}return n[u]||as}}},wl=(t,e,n)=>{if(t.length-e===0)return n.classGroupId;const a=t[e],l=n.nextPart.get(a);if(l){const g=wl(t,e+1,l);if(g)return g}const u=n.validators;if(u===null)return;const d=e===0?t.join(wo):t.slice(e).join(wo),h=u.length;for(let g=0;g<h;g++){const w=u[g];if(w.validator(d))return w.classGroupId}},fc=t=>t.slice(1,-1).indexOf(":")===-1?void 0:(()=>{const e=t.slice(1,-1),n=e.indexOf(":"),o=e.slice(0,n);return o?uc+o:void 0})(),dc=t=>{const{theme:e,classGroups:n}=t;return hc(n,e)},hc=(t,e)=>{const n=bl();for(const o in t){const a=t[o];na(a,n,o,e)}return n},na=(t,e,n,o)=>{const a=t.length;for(let l=0;l<a;l++){const u=t[l];pc(u,e,n,o)}},pc=(t,e,n,o)=>{if(typeof t=="string"){gc(t,e,n);return}if(typeof t=="function"){mc(t,e,n,o);return}yc(t,e,n,o)},gc=(t,e,n)=>{const o=t===""?e:_l(e,t);o.classGroupId=n},mc=(t,e,n,o)=>{if(vc(t)){na(t(o),e,n,o);return}e.validators===null&&(e.validators=[]),e.validators.push(lc(n,t))},yc=(t,e,n,o)=>{const a=Object.entries(t),l=a.length;for(let u=0;u<l;u++){const[d,h]=a[u];na(h,_l(e,d),n,o)}},_l=(t,e)=>{let n=t;const o=e.split(wo),a=o.length;for(let l=0;l<a;l++){const u=o[l];let d=n.nextPart.get(u);d||(d=bl(),n.nextPart.set(u,d)),n=d}return n},vc=t=>"isThemeGetter"in t&&t.isThemeGetter===!0,bc=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=Object.create(null),o=Object.create(null);const a=(l,u)=>{n[l]=u,e++,e>t&&(e=0,o=n,n=Object.create(null))};return{get(l){let u=n[l];if(u!==void 0)return u;if((u=o[l])!==void 0)return a(l,u),u},set(l,u){l in n?n[l]=u:a(l,u)}}},ji="!",ss=":",wc=[],ls=(t,e,n,o,a)=>({modifiers:t,hasImportantModifier:e,baseClassName:n,maybePostfixModifierPosition:o,isExternal:a}),_c=t=>{const{prefix:e,experimentalParseClassName:n}=t;let o=a=>{const l=[];let u=0,d=0,h=0,g;const w=a.length;for(let F=0;F<w;F++){const oe=a[F];if(u===0&&d===0){if(oe===ss){l.push(a.slice(h,F)),h=F+1;continue}if(oe==="/"){g=F;continue}}oe==="["?u++:oe==="]"?u--:oe==="("?d++:oe===")"&&d--}const y=l.length===0?a:a.slice(h);let I=y,R=!1;y.endsWith(ji)?(I=y.slice(0,-1),R=!0):y.startsWith(ji)&&(I=y.slice(1),R=!0);const N=g&&g>h?g-h:void 0;return ls(l,R,I,N)};if(e){const a=e+ss,l=o;o=u=>u.startsWith(a)?l(u.slice(a.length)):ls(wc,!1,u,void 0,!0)}if(n){const a=o;o=l=>n({className:l,parseClassName:a})}return o},xc=t=>{const e=new Map;return t.orderSensitiveModifiers.forEach((n,o)=>{e.set(n,1e6+o)}),n=>{const o=[];let a=[];for(let l=0;l<n.length;l++){const u=n[l],d=u[0]==="[",h=e.has(u);d||h?(a.length>0&&(a.sort(),o.push(...a),a=[]),o.push(u)):a.push(u)}return a.length>0&&(a.sort(),o.push(...a)),o}},Sc=t=>({cache:bc(t.cacheSize),parseClassName:_c(t),sortModifiers:xc(t),...cc(t)}),kc=/\s+/,Ec=(t,e)=>{const{parseClassName:n,getClassGroupId:o,getConflictingClassGroupIds:a,sortModifiers:l}=e,u=[],d=t.trim().split(kc);let h="";for(let g=d.length-1;g>=0;g-=1){const w=d[g],{isExternal:y,modifiers:I,hasImportantModifier:R,baseClassName:N,maybePostfixModifierPosition:F}=n(w);if(y){h=w+(h.length>0?" "+h:h);continue}let oe=!!F,te=o(oe?N.substring(0,F):N);if(!te){if(!oe){h=w+(h.length>0?" "+h:h);continue}if(te=o(N),!te){h=w+(h.length>0?" "+h:h);continue}oe=!1}const ee=I.length===0?"":I.length===1?I[0]:l(I).join(":"),fe=R?ee+ji:ee,se=fe+te;if(u.indexOf(se)>-1)continue;u.push(se);const ne=a(te,oe);for(let K=0;K<ne.length;++K){const Z=ne[K];u.push(fe+Z)}h=w+(h.length>0?" "+h:h)}return h},Cc=(...t)=>{let e=0,n,o,a="";for(;e<t.length;)(n=t[e++])&&(o=xl(n))&&(a&&(a+=" "),a+=o);return a},xl=t=>{if(typeof t=="string")return t;let e,n="";for(let o=0;o<t.length;o++)t[o]&&(e=xl(t[o]))&&(n&&(n+=" "),n+=e);return n},Oc=(t,...e)=>{let n,o,a,l;const u=h=>{const g=e.reduce((w,y)=>y(w),t());return n=Sc(g),o=n.cache.get,a=n.cache.set,l=d,d(h)},d=h=>{const g=o(h);if(g)return g;const w=Ec(h,n);return a(h,w),w};return l=u,(...h)=>l(Cc(...h))},Pc=[],Ge=t=>{const e=n=>n[t]||Pc;return e.isThemeGetter=!0,e},Sl=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,kl=/^\((?:(\w[\w-]*):)?(.+)\)$/i,Dc=/^\d+\/\d+$/,Ac=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,Ic=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,Tc=/^(rgba?|hsla?|hwb|(ok)?(lab|lch)|color-mix)\(.+\)$/,Rc=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,Nc=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,In=t=>Dc.test(t),_e=t=>!!t&&!Number.isNaN(Number(t)),Ht=t=>!!t&&Number.isInteger(Number(t)),vi=t=>t.endsWith("%")&&_e(t.slice(0,-1)),Tt=t=>Ac.test(t),Lc=()=>!0,jc=t=>Ic.test(t)&&!Tc.test(t),El=()=>!1,Fc=t=>Rc.test(t),Mc=t=>Nc.test(t),Kc=t=>!Q(t)&&!J(t),Bc=t=>Gn(t,Pl,El),Q=t=>Sl.test(t),dn=t=>Gn(t,Dl,jc),bi=t=>Gn(t,Vc,_e),us=t=>Gn(t,Cl,El),$c=t=>Gn(t,Ol,Mc),ro=t=>Gn(t,Al,Fc),J=t=>kl.test(t),cr=t=>Yn(t,Dl),zc=t=>Yn(t,Hc),cs=t=>Yn(t,Cl),qc=t=>Yn(t,Pl),Uc=t=>Yn(t,Ol),oo=t=>Yn(t,Al,!0),Gn=(t,e,n)=>{const o=Sl.exec(t);return o?o[1]?e(o[1]):n(o[2]):!1},Yn=(t,e,n=!1)=>{const o=kl.exec(t);return o?o[1]?e(o[1]):n:!1},Cl=t=>t==="position"||t==="percentage",Ol=t=>t==="image"||t==="url",Pl=t=>t==="length"||t==="size"||t==="bg-size",Dl=t=>t==="length",Vc=t=>t==="number",Hc=t=>t==="family-name",Al=t=>t==="shadow",Wc=()=>{const t=Ge("color"),e=Ge("font"),n=Ge("text"),o=Ge("font-weight"),a=Ge("tracking"),l=Ge("leading"),u=Ge("breakpoint"),d=Ge("container"),h=Ge("spacing"),g=Ge("radius"),w=Ge("shadow"),y=Ge("inset-shadow"),I=Ge("text-shadow"),R=Ge("drop-shadow"),N=Ge("blur"),F=Ge("perspective"),oe=Ge("aspect"),te=Ge("ease"),ee=Ge("animate"),fe=()=>["auto","avoid","all","avoid-page","page","left","right","column"],se=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ne=()=>[...se(),J,Q],K=()=>["auto","hidden","clip","visible","scroll"],Z=()=>["auto","contain","none"],B=()=>[J,Q,h],Y=()=>[In,"full","auto",...B()],ie=()=>[Ht,"none","subgrid",J,Q],he=()=>["auto",{span:["full",Ht,J,Q]},Ht,J,Q],ge=()=>[Ht,"auto",J,Q],ye=()=>["auto","min","max","fr",J,Q],Ce=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Re=()=>["start","end","center","stretch","center-safe","end-safe"],le=()=>["auto",...B()],we=()=>[In,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...B()],W=()=>[t,J,Q],ze=()=>[...se(),cs,us,{position:[J,Q]}],et=()=>["no-repeat",{repeat:["","x","y","space","round"]}],Fe=()=>["auto","cover","contain",qc,Bc,{size:[J,Q]}],it=()=>[vi,cr,dn],Ie=()=>["","none","full",g,J,Q],We=()=>["",_e,cr,dn],Pt=()=>["solid","dashed","dotted","double"],Dt=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Be=()=>[_e,vi,cs,us],Ar=()=>["","none",N,J,Q],re=()=>["none",_e,J,Q],Jt=()=>["none",_e,J,Q],Mt=()=>[_e,J,Q],Oe=()=>[In,"full",...B()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[Tt],breakpoint:[Tt],color:[Lc],container:[Tt],"drop-shadow":[Tt],ease:["in","out","in-out"],font:[Kc],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[Tt],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[Tt],shadow:[Tt],spacing:["px",_e],text:[Tt],"text-shadow":[Tt],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",In,Q,J,oe]}],container:["container"],columns:[{columns:[_e,Q,J,d]}],"break-after":[{"break-after":fe()}],"break-before":[{"break-before":fe()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ne()}],overflow:[{overflow:K()}],"overflow-x":[{"overflow-x":K()}],"overflow-y":[{"overflow-y":K()}],overscroll:[{overscroll:Z()}],"overscroll-x":[{"overscroll-x":Z()}],"overscroll-y":[{"overscroll-y":Z()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:Y()}],"inset-x":[{"inset-x":Y()}],"inset-y":[{"inset-y":Y()}],start:[{start:Y()}],end:[{end:Y()}],top:[{top:Y()}],right:[{right:Y()}],bottom:[{bottom:Y()}],left:[{left:Y()}],visibility:["visible","invisible","collapse"],z:[{z:[Ht,"auto",J,Q]}],basis:[{basis:[In,"full","auto",d,...B()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[_e,In,"auto","initial","none",Q]}],grow:[{grow:["",_e,J,Q]}],shrink:[{shrink:["",_e,J,Q]}],order:[{order:[Ht,"first","last","none",J,Q]}],"grid-cols":[{"grid-cols":ie()}],"col-start-end":[{col:he()}],"col-start":[{"col-start":ge()}],"col-end":[{"col-end":ge()}],"grid-rows":[{"grid-rows":ie()}],"row-start-end":[{row:he()}],"row-start":[{"row-start":ge()}],"row-end":[{"row-end":ge()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":ye()}],"auto-rows":[{"auto-rows":ye()}],gap:[{gap:B()}],"gap-x":[{"gap-x":B()}],"gap-y":[{"gap-y":B()}],"justify-content":[{justify:[...Ce(),"normal"]}],"justify-items":[{"justify-items":[...Re(),"normal"]}],"justify-self":[{"justify-self":["auto",...Re()]}],"align-content":[{content:["normal",...Ce()]}],"align-items":[{items:[...Re(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Re(),{baseline:["","last"]}]}],"place-content":[{"place-content":Ce()}],"place-items":[{"place-items":[...Re(),"baseline"]}],"place-self":[{"place-self":["auto",...Re()]}],p:[{p:B()}],px:[{px:B()}],py:[{py:B()}],ps:[{ps:B()}],pe:[{pe:B()}],pt:[{pt:B()}],pr:[{pr:B()}],pb:[{pb:B()}],pl:[{pl:B()}],m:[{m:le()}],mx:[{mx:le()}],my:[{my:le()}],ms:[{ms:le()}],me:[{me:le()}],mt:[{mt:le()}],mr:[{mr:le()}],mb:[{mb:le()}],ml:[{ml:le()}],"space-x":[{"space-x":B()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":B()}],"space-y-reverse":["space-y-reverse"],size:[{size:we()}],w:[{w:[d,"screen",...we()]}],"min-w":[{"min-w":[d,"screen","none",...we()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[u]},...we()]}],h:[{h:["screen","lh",...we()]}],"min-h":[{"min-h":["screen","lh","none",...we()]}],"max-h":[{"max-h":["screen","lh",...we()]}],"font-size":[{text:["base",n,cr,dn]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[o,J,bi]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",vi,Q]}],"font-family":[{font:[zc,Q,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[a,J,Q]}],"line-clamp":[{"line-clamp":[_e,"none",J,bi]}],leading:[{leading:[l,...B()]}],"list-image":[{"list-image":["none",J,Q]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",J,Q]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:W()}],"text-color":[{text:W()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Pt(),"wavy"]}],"text-decoration-thickness":[{decoration:[_e,"from-font","auto",J,dn]}],"text-decoration-color":[{decoration:W()}],"underline-offset":[{"underline-offset":[_e,"auto",J,Q]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:B()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",J,Q]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",J,Q]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ze()}],"bg-repeat":[{bg:et()}],"bg-size":[{bg:Fe()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},Ht,J,Q],radial:["",J,Q],conic:[Ht,J,Q]},Uc,$c]}],"bg-color":[{bg:W()}],"gradient-from-pos":[{from:it()}],"gradient-via-pos":[{via:it()}],"gradient-to-pos":[{to:it()}],"gradient-from":[{from:W()}],"gradient-via":[{via:W()}],"gradient-to":[{to:W()}],rounded:[{rounded:Ie()}],"rounded-s":[{"rounded-s":Ie()}],"rounded-e":[{"rounded-e":Ie()}],"rounded-t":[{"rounded-t":Ie()}],"rounded-r":[{"rounded-r":Ie()}],"rounded-b":[{"rounded-b":Ie()}],"rounded-l":[{"rounded-l":Ie()}],"rounded-ss":[{"rounded-ss":Ie()}],"rounded-se":[{"rounded-se":Ie()}],"rounded-ee":[{"rounded-ee":Ie()}],"rounded-es":[{"rounded-es":Ie()}],"rounded-tl":[{"rounded-tl":Ie()}],"rounded-tr":[{"rounded-tr":Ie()}],"rounded-br":[{"rounded-br":Ie()}],"rounded-bl":[{"rounded-bl":Ie()}],"border-w":[{border:We()}],"border-w-x":[{"border-x":We()}],"border-w-y":[{"border-y":We()}],"border-w-s":[{"border-s":We()}],"border-w-e":[{"border-e":We()}],"border-w-t":[{"border-t":We()}],"border-w-r":[{"border-r":We()}],"border-w-b":[{"border-b":We()}],"border-w-l":[{"border-l":We()}],"divide-x":[{"divide-x":We()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":We()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Pt(),"hidden","none"]}],"divide-style":[{divide:[...Pt(),"hidden","none"]}],"border-color":[{border:W()}],"border-color-x":[{"border-x":W()}],"border-color-y":[{"border-y":W()}],"border-color-s":[{"border-s":W()}],"border-color-e":[{"border-e":W()}],"border-color-t":[{"border-t":W()}],"border-color-r":[{"border-r":W()}],"border-color-b":[{"border-b":W()}],"border-color-l":[{"border-l":W()}],"divide-color":[{divide:W()}],"outline-style":[{outline:[...Pt(),"none","hidden"]}],"outline-offset":[{"outline-offset":[_e,J,Q]}],"outline-w":[{outline:["",_e,cr,dn]}],"outline-color":[{outline:W()}],shadow:[{shadow:["","none",w,oo,ro]}],"shadow-color":[{shadow:W()}],"inset-shadow":[{"inset-shadow":["none",y,oo,ro]}],"inset-shadow-color":[{"inset-shadow":W()}],"ring-w":[{ring:We()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:W()}],"ring-offset-w":[{"ring-offset":[_e,dn]}],"ring-offset-color":[{"ring-offset":W()}],"inset-ring-w":[{"inset-ring":We()}],"inset-ring-color":[{"inset-ring":W()}],"text-shadow":[{"text-shadow":["none",I,oo,ro]}],"text-shadow-color":[{"text-shadow":W()}],opacity:[{opacity:[_e,J,Q]}],"mix-blend":[{"mix-blend":[...Dt(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Dt()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[_e]}],"mask-image-linear-from-pos":[{"mask-linear-from":Be()}],"mask-image-linear-to-pos":[{"mask-linear-to":Be()}],"mask-image-linear-from-color":[{"mask-linear-from":W()}],"mask-image-linear-to-color":[{"mask-linear-to":W()}],"mask-image-t-from-pos":[{"mask-t-from":Be()}],"mask-image-t-to-pos":[{"mask-t-to":Be()}],"mask-image-t-from-color":[{"mask-t-from":W()}],"mask-image-t-to-color":[{"mask-t-to":W()}],"mask-image-r-from-pos":[{"mask-r-from":Be()}],"mask-image-r-to-pos":[{"mask-r-to":Be()}],"mask-image-r-from-color":[{"mask-r-from":W()}],"mask-image-r-to-color":[{"mask-r-to":W()}],"mask-image-b-from-pos":[{"mask-b-from":Be()}],"mask-image-b-to-pos":[{"mask-b-to":Be()}],"mask-image-b-from-color":[{"mask-b-from":W()}],"mask-image-b-to-color":[{"mask-b-to":W()}],"mask-image-l-from-pos":[{"mask-l-from":Be()}],"mask-image-l-to-pos":[{"mask-l-to":Be()}],"mask-image-l-from-color":[{"mask-l-from":W()}],"mask-image-l-to-color":[{"mask-l-to":W()}],"mask-image-x-from-pos":[{"mask-x-from":Be()}],"mask-image-x-to-pos":[{"mask-x-to":Be()}],"mask-image-x-from-color":[{"mask-x-from":W()}],"mask-image-x-to-color":[{"mask-x-to":W()}],"mask-image-y-from-pos":[{"mask-y-from":Be()}],"mask-image-y-to-pos":[{"mask-y-to":Be()}],"mask-image-y-from-color":[{"mask-y-from":W()}],"mask-image-y-to-color":[{"mask-y-to":W()}],"mask-image-radial":[{"mask-radial":[J,Q]}],"mask-image-radial-from-pos":[{"mask-radial-from":Be()}],"mask-image-radial-to-pos":[{"mask-radial-to":Be()}],"mask-image-radial-from-color":[{"mask-radial-from":W()}],"mask-image-radial-to-color":[{"mask-radial-to":W()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":se()}],"mask-image-conic-pos":[{"mask-conic":[_e]}],"mask-image-conic-from-pos":[{"mask-conic-from":Be()}],"mask-image-conic-to-pos":[{"mask-conic-to":Be()}],"mask-image-conic-from-color":[{"mask-conic-from":W()}],"mask-image-conic-to-color":[{"mask-conic-to":W()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ze()}],"mask-repeat":[{mask:et()}],"mask-size":[{mask:Fe()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",J,Q]}],filter:[{filter:["","none",J,Q]}],blur:[{blur:Ar()}],brightness:[{brightness:[_e,J,Q]}],contrast:[{contrast:[_e,J,Q]}],"drop-shadow":[{"drop-shadow":["","none",R,oo,ro]}],"drop-shadow-color":[{"drop-shadow":W()}],grayscale:[{grayscale:["",_e,J,Q]}],"hue-rotate":[{"hue-rotate":[_e,J,Q]}],invert:[{invert:["",_e,J,Q]}],saturate:[{saturate:[_e,J,Q]}],sepia:[{sepia:["",_e,J,Q]}],"backdrop-filter":[{"backdrop-filter":["","none",J,Q]}],"backdrop-blur":[{"backdrop-blur":Ar()}],"backdrop-brightness":[{"backdrop-brightness":[_e,J,Q]}],"backdrop-contrast":[{"backdrop-contrast":[_e,J,Q]}],"backdrop-grayscale":[{"backdrop-grayscale":["",_e,J,Q]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[_e,J,Q]}],"backdrop-invert":[{"backdrop-invert":["",_e,J,Q]}],"backdrop-opacity":[{"backdrop-opacity":[_e,J,Q]}],"backdrop-saturate":[{"backdrop-saturate":[_e,J,Q]}],"backdrop-sepia":[{"backdrop-sepia":["",_e,J,Q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":B()}],"border-spacing-x":[{"border-spacing-x":B()}],"border-spacing-y":[{"border-spacing-y":B()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",J,Q]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[_e,"initial",J,Q]}],ease:[{ease:["linear","initial",te,J,Q]}],delay:[{delay:[_e,J,Q]}],animate:[{animate:["none",ee,J,Q]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[F,J,Q]}],"perspective-origin":[{"perspective-origin":ne()}],rotate:[{rotate:re()}],"rotate-x":[{"rotate-x":re()}],"rotate-y":[{"rotate-y":re()}],"rotate-z":[{"rotate-z":re()}],scale:[{scale:Jt()}],"scale-x":[{"scale-x":Jt()}],"scale-y":[{"scale-y":Jt()}],"scale-z":[{"scale-z":Jt()}],"scale-3d":["scale-3d"],skew:[{skew:Mt()}],"skew-x":[{"skew-x":Mt()}],"skew-y":[{"skew-y":Mt()}],transform:[{transform:[J,Q,"","none","gpu","cpu"]}],"transform-origin":[{origin:ne()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:Oe()}],"translate-x":[{"translate-x":Oe()}],"translate-y":[{"translate-y":Oe()}],"translate-z":[{"translate-z":Oe()}],"translate-none":["translate-none"],accent:[{accent:W()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:W()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",J,Q]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":B()}],"scroll-mx":[{"scroll-mx":B()}],"scroll-my":[{"scroll-my":B()}],"scroll-ms":[{"scroll-ms":B()}],"scroll-me":[{"scroll-me":B()}],"scroll-mt":[{"scroll-mt":B()}],"scroll-mr":[{"scroll-mr":B()}],"scroll-mb":[{"scroll-mb":B()}],"scroll-ml":[{"scroll-ml":B()}],"scroll-p":[{"scroll-p":B()}],"scroll-px":[{"scroll-px":B()}],"scroll-py":[{"scroll-py":B()}],"scroll-ps":[{"scroll-ps":B()}],"scroll-pe":[{"scroll-pe":B()}],"scroll-pt":[{"scroll-pt":B()}],"scroll-pr":[{"scroll-pr":B()}],"scroll-pb":[{"scroll-pb":B()}],"scroll-pl":[{"scroll-pl":B()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",J,Q]}],fill:[{fill:["none",...W()]}],"stroke-w":[{stroke:[_e,cr,dn,bi]}],stroke:[{stroke:["none",...W()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},Gc=Oc(Wc),wt=(...t)=>Gc(ac(t)),Yc=()=>{const[t,e]=_t(localStorage.getItem("theme")||document.documentElement.getAttribute("data-theme")||"light");return Je(()=>{localStorage.setItem("theme",t),document.documentElement.setAttribute("data-theme",t)},[t]),Xe(()=>({theme:t,setTheme:e}),[t])},Zc=t=>t.length?t.charAt(0).toUpperCase()+t.slice(1):t,de=t=>typeof t=="string",fr=()=>{let t,e;const n=new Promise((o,a)=>{t=o,e=a});return n.resolve=t,n.reject=e,n},fs=t=>t==null?"":""+t,Xc=(t,e,n)=>{t.forEach(o=>{e[o]&&(n[o]=e[o])})},Qc=/###/g,ds=t=>t&&t.indexOf("###")>-1?t.replace(Qc,"."):t,hs=t=>!t||de(t),yr=(t,e,n)=>{const o=de(e)?e.split("."):e;let a=0;for(;a<o.length-1;){if(hs(t))return{};const l=ds(o[a]);!t[l]&&n&&(t[l]=new n),Object.prototype.hasOwnProperty.call(t,l)?t=t[l]:t={},++a}return hs(t)?{}:{obj:t,k:ds(o[a])}},ps=(t,e,n)=>{const{obj:o,k:a}=yr(t,e,Object);if(o!==void 0||e.length===1){o[a]=n;return}let l=e[e.length-1],u=e.slice(0,e.length-1),d=yr(t,u,Object);for(;d.obj===void 0&&u.length;)l=`${u[u.length-1]}.${l}`,u=u.slice(0,u.length-1),d=yr(t,u,Object),d?.obj&&typeof d.obj[`${d.k}.${l}`]<"u"&&(d.obj=void 0);d.obj[`${d.k}.${l}`]=n},Jc=(t,e,n,o)=>{const{obj:a,k:l}=yr(t,e,Object);a[l]=a[l]||[],a[l].push(n)},_o=(t,e)=>{const{obj:n,k:o}=yr(t,e);if(n&&Object.prototype.hasOwnProperty.call(n,o))return n[o]},ef=(t,e,n)=>{const o=_o(t,n);return o!==void 0?o:_o(e,n)},Il=(t,e,n)=>{for(const o in e)o!=="__proto__"&&o!=="constructor"&&(o in t?de(t[o])||t[o]instanceof String||de(e[o])||e[o]instanceof String?n&&(t[o]=e[o]):Il(t[o],e[o],n):t[o]=e[o]);return t},Tn=t=>t.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var tf={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const nf=t=>de(t)?t.replace(/[&<>"'\/]/g,e=>tf[e]):t;class rf{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const n=this.regExpMap.get(e);if(n!==void 0)return n;const o=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,o),this.regExpQueue.push(e),o}}const of=[" ",",","?","!",";"],af=new rf(20),sf=(t,e,n)=>{e=e||"",n=n||"";const o=of.filter(u=>e.indexOf(u)<0&&n.indexOf(u)<0);if(o.length===0)return!0;const a=af.getRegExp(`(${o.map(u=>u==="?"?"\\?":u).join("|")})`);let l=!a.test(t);if(!l){const u=t.indexOf(n);u>0&&!a.test(t.substring(0,u))&&(l=!0)}return l},Fi=(t,e,n=".")=>{if(!t)return;if(t[e])return Object.prototype.hasOwnProperty.call(t,e)?t[e]:void 0;const o=e.split(n);let a=t;for(let l=0;l<o.length;){if(!a||typeof a!="object")return;let u,d="";for(let h=l;h<o.length;++h)if(h!==l&&(d+=n),d+=o[h],u=a[d],u!==void 0){if(["string","number","boolean"].indexOf(typeof u)>-1&&h<o.length-1)continue;l+=h-l+1;break}a=u}return a},Er=t=>t?.replace("_","-"),lf={type:"logger",log(t){this.output("log",t)},warn(t){this.output("warn",t)},error(t){this.output("error",t)},output(t,e){console?.[t]?.apply?.(console,e)}};class xo{constructor(e,n={}){this.init(e,n)}init(e,n={}){this.prefix=n.prefix||"i18next:",this.logger=e||lf,this.options=n,this.debug=n.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,n,o,a){return a&&!this.debug?null:(de(e[0])&&(e[0]=`${o}${this.prefix} ${e[0]}`),this.logger[n](e))}create(e){return new xo(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new xo(this.logger,e)}}var Et=new xo;class Io{constructor(){this.observers={}}on(e,n){return e.split(" ").forEach(o=>{this.observers[o]||(this.observers[o]=new Map);const a=this.observers[o].get(n)||0;this.observers[o].set(n,a+1)}),this}off(e,n){if(this.observers[e]){if(!n){delete this.observers[e];return}this.observers[e].delete(n)}}emit(e,...n){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a(...n)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([a,l])=>{for(let u=0;u<l;u++)a.apply(a,[e,...n])})}}class gs extends Io{constructor(e,n={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const n=this.options.ns.indexOf(e);n>-1&&this.options.ns.splice(n,1)}getResource(e,n,o,a={}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,u=a.ignoreJSONStructure!==void 0?a.ignoreJSONStructure:this.options.ignoreJSONStructure;let d;e.indexOf(".")>-1?d=e.split("."):(d=[e,n],o&&(Array.isArray(o)?d.push(...o):de(o)&&l?d.push(...o.split(l)):d.push(o)));const h=_o(this.data,d);return!h&&!n&&!o&&e.indexOf(".")>-1&&(e=d[0],n=d[1],o=d.slice(2).join(".")),h||!u||!de(o)?h:Fi(this.data?.[e]?.[n],o,l)}addResource(e,n,o,a,l={silent:!1}){const u=l.keySeparator!==void 0?l.keySeparator:this.options.keySeparator;let d=[e,n];o&&(d=d.concat(u?o.split(u):o)),e.indexOf(".")>-1&&(d=e.split("."),a=n,n=d[1]),this.addNamespaces(n),ps(this.data,d,a),l.silent||this.emit("added",e,n,o,a)}addResources(e,n,o,a={silent:!1}){for(const l in o)(de(o[l])||Array.isArray(o[l]))&&this.addResource(e,n,l,o[l],{silent:!0});a.silent||this.emit("added",e,n,o)}addResourceBundle(e,n,o,a,l,u={silent:!1,skipCopy:!1}){let d=[e,n];e.indexOf(".")>-1&&(d=e.split("."),a=o,o=n,n=d[1]),this.addNamespaces(n);let h=_o(this.data,d)||{};u.skipCopy||(o=JSON.parse(JSON.stringify(o))),a?Il(h,o,l):h={...h,...o},ps(this.data,d,h),u.silent||this.emit("added",e,n,o)}removeResourceBundle(e,n){this.hasResourceBundle(e,n)&&delete this.data[e][n],this.removeNamespaces(n),this.emit("removed",e,n)}hasResourceBundle(e,n){return this.getResource(e,n)!==void 0}getResourceBundle(e,n){return n||(n=this.options.defaultNS),this.getResource(e,n)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const n=this.getDataByLanguage(e);return!!(n&&Object.keys(n)||[]).find(a=>n[a]&&Object.keys(n[a]).length>0)}toJSON(){return this.data}}var Tl={processors:{},addPostProcessor(t){this.processors[t.name]=t},handle(t,e,n,o,a){return t.forEach(l=>{e=this.processors[l]?.process(e,n,o,a)??e}),e}};const Rl=Symbol("i18next/PATH_KEY");function uf(){const t=[],e=Object.create(null);let n;return e.get=(o,a)=>(n?.revoke?.(),a===Rl?t:(t.push(a),n=Proxy.revocable(o,e),n.proxy)),Proxy.revocable(Object.create(null),e).proxy}function Mi(t,e){const{[Rl]:n}=t(uf());return n.join(e?.keySeparator??".")}const ms={},wi=t=>!de(t)&&typeof t!="boolean"&&typeof t!="number";class So extends Io{constructor(e,n={}){super(),Xc(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=n,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=Et.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,n={interpolation:{}}){const o={...n};if(e==null)return!1;const a=this.resolve(e,o);if(a?.res===void 0)return!1;const l=wi(a.res);return!(o.returnObjects===!1&&l)}extractFromKey(e,n){let o=n.nsSeparator!==void 0?n.nsSeparator:this.options.nsSeparator;o===void 0&&(o=":");const a=n.keySeparator!==void 0?n.keySeparator:this.options.keySeparator;let l=n.ns||this.options.defaultNS||[];const u=o&&e.indexOf(o)>-1,d=!this.options.userDefinedKeySeparator&&!n.keySeparator&&!this.options.userDefinedNsSeparator&&!n.nsSeparator&&!sf(e,o,a);if(u&&!d){const h=e.match(this.interpolator.nestingRegexp);if(h&&h.length>0)return{key:e,namespaces:de(l)?[l]:l};const g=e.split(o);(o!==a||o===a&&this.options.ns.indexOf(g[0])>-1)&&(l=g.shift()),e=g.join(a)}return{key:e,namespaces:de(l)?[l]:l}}translate(e,n,o){let a=typeof n=="object"?{...n}:n;if(typeof a!="object"&&this.options.overloadTranslationOptionHandler&&(a=this.options.overloadTranslationOptionHandler(arguments)),typeof a=="object"&&(a={...a}),a||(a={}),e==null)return"";typeof e=="function"&&(e=Mi(e,{...this.options,...a})),Array.isArray(e)||(e=[String(e)]);const l=a.returnDetails!==void 0?a.returnDetails:this.options.returnDetails,u=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator,{key:d,namespaces:h}=this.extractFromKey(e[e.length-1],a),g=h[h.length-1];let w=a.nsSeparator!==void 0?a.nsSeparator:this.options.nsSeparator;w===void 0&&(w=":");const y=a.lng||this.language,I=a.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if(y?.toLowerCase()==="cimode")return I?l?{res:`${g}${w}${d}`,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:`${g}${w}${d}`:l?{res:d,usedKey:d,exactUsedKey:d,usedLng:y,usedNS:g,usedParams:this.getUsedParamsDetails(a)}:d;const R=this.resolve(e,a);let N=R?.res;const F=R?.usedKey||d,oe=R?.exactUsedKey||d,te=["[object Number]","[object Function]","[object RegExp]"],ee=a.joinArrays!==void 0?a.joinArrays:this.options.joinArrays,fe=!this.i18nFormat||this.i18nFormat.handleAsObject,se=a.count!==void 0&&!de(a.count),ne=So.hasDefaultValue(a),K=se?this.pluralResolver.getSuffix(y,a.count,a):"",Z=a.ordinal&&se?this.pluralResolver.getSuffix(y,a.count,{ordinal:!1}):"",B=se&&!a.ordinal&&a.count===0,Y=B&&a[`defaultValue${this.options.pluralSeparator}zero`]||a[`defaultValue${K}`]||a[`defaultValue${Z}`]||a.defaultValue;let ie=N;fe&&!N&&ne&&(ie=Y);const he=wi(ie),ge=Object.prototype.toString.apply(ie);if(fe&&ie&&he&&te.indexOf(ge)<0&&!(de(ee)&&Array.isArray(ie))){if(!a.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const ye=this.options.returnedObjectHandler?this.options.returnedObjectHandler(F,ie,{...a,ns:h}):`key '${d} (${this.language})' returned an object instead of string.`;return l?(R.res=ye,R.usedParams=this.getUsedParamsDetails(a),R):ye}if(u){const ye=Array.isArray(ie),Ce=ye?[]:{},Re=ye?oe:F;for(const le in ie)if(Object.prototype.hasOwnProperty.call(ie,le)){const we=`${Re}${u}${le}`;ne&&!N?Ce[le]=this.translate(we,{...a,defaultValue:wi(Y)?Y[le]:void 0,joinArrays:!1,ns:h}):Ce[le]=this.translate(we,{...a,joinArrays:!1,ns:h}),Ce[le]===we&&(Ce[le]=ie[le])}N=Ce}}else if(fe&&de(ee)&&Array.isArray(N))N=N.join(ee),N&&(N=this.extendTranslation(N,e,a,o));else{let ye=!1,Ce=!1;!this.isValidLookup(N)&&ne&&(ye=!0,N=Y),this.isValidLookup(N)||(Ce=!0,N=d);const le=(a.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&Ce?void 0:N,we=ne&&Y!==N&&this.options.updateMissing;if(Ce||ye||we){if(this.logger.log(we?"updateKey":"missingKey",y,g,d,we?Y:N),u){const Fe=this.resolve(d,{...a,keySeparator:!1});Fe&&Fe.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let W=[];const ze=this.languageUtils.getFallbackCodes(this.options.fallbackLng,a.lng||this.language);if(this.options.saveMissingTo==="fallback"&&ze&&ze[0])for(let Fe=0;Fe<ze.length;Fe++)W.push(ze[Fe]);else this.options.saveMissingTo==="all"?W=this.languageUtils.toResolveHierarchy(a.lng||this.language):W.push(a.lng||this.language);const et=(Fe,it,Ie)=>{const We=ne&&Ie!==N?Ie:le;this.options.missingKeyHandler?this.options.missingKeyHandler(Fe,g,it,We,we,a):this.backendConnector?.saveMissing&&this.backendConnector.saveMissing(Fe,g,it,We,we,a),this.emit("missingKey",Fe,g,it,N)};this.options.saveMissing&&(this.options.saveMissingPlurals&&se?W.forEach(Fe=>{const it=this.pluralResolver.getSuffixes(Fe,a);B&&a[`defaultValue${this.options.pluralSeparator}zero`]&&it.indexOf(`${this.options.pluralSeparator}zero`)<0&&it.push(`${this.options.pluralSeparator}zero`),it.forEach(Ie=>{et([Fe],d+Ie,a[`defaultValue${Ie}`]||Y)})}):et(W,d,Y))}N=this.extendTranslation(N,e,a,R,o),Ce&&N===d&&this.options.appendNamespaceToMissingKey&&(N=`${g}${w}${d}`),(Ce||ye)&&this.options.parseMissingKeyHandler&&(N=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${g}${w}${d}`:d,ye?N:void 0,a))}return l?(R.res=N,R.usedParams=this.getUsedParamsDetails(a),R):N}extendTranslation(e,n,o,a,l){if(this.i18nFormat?.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...o},o.lng||this.language||a.usedLng,a.usedNS,a.usedKey,{resolved:a});else if(!o.skipInterpolation){o.interpolation&&this.interpolator.init({...o,interpolation:{...this.options.interpolation,...o.interpolation}});const h=de(e)&&(o?.interpolation?.skipOnVariables!==void 0?o.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let g;if(h){const y=e.match(this.interpolator.nestingRegexp);g=y&&y.length}let w=o.replace&&!de(o.replace)?o.replace:o;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,o.lng||this.language||a.usedLng,o),h){const y=e.match(this.interpolator.nestingRegexp),I=y&&y.length;g<I&&(o.nest=!1)}!o.lng&&a&&a.res&&(o.lng=this.language||a.usedLng),o.nest!==!1&&(e=this.interpolator.nest(e,(...y)=>l?.[0]===y[0]&&!o.context?(this.logger.warn(`It seems you are nesting recursively key: ${y[0]} in key: ${n[0]}`),null):this.translate(...y,n),o)),o.interpolation&&this.interpolator.reset()}const u=o.postProcess||this.options.postProcess,d=de(u)?[u]:u;return e!=null&&d?.length&&o.applyPostProcessor!==!1&&(e=Tl.handle(d,e,n,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...a,usedParams:this.getUsedParamsDetails(o)},...o}:o,this)),e}resolve(e,n={}){let o,a,l,u,d;return de(e)&&(e=[e]),e.forEach(h=>{if(this.isValidLookup(o))return;const g=this.extractFromKey(h,n),w=g.key;a=w;let y=g.namespaces;this.options.fallbackNS&&(y=y.concat(this.options.fallbackNS));const I=n.count!==void 0&&!de(n.count),R=I&&!n.ordinal&&n.count===0,N=n.context!==void 0&&(de(n.context)||typeof n.context=="number")&&n.context!=="",F=n.lngs?n.lngs:this.languageUtils.toResolveHierarchy(n.lng||this.language,n.fallbackLng);y.forEach(oe=>{this.isValidLookup(o)||(d=oe,!ms[`${F[0]}-${oe}`]&&this.utils?.hasLoadedNamespace&&!this.utils?.hasLoadedNamespace(d)&&(ms[`${F[0]}-${oe}`]=!0,this.logger.warn(`key "${a}" for languages "${F.join(", ")}" won't get resolved as namespace "${d}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),F.forEach(te=>{if(this.isValidLookup(o))return;u=te;const ee=[w];if(this.i18nFormat?.addLookupKeys)this.i18nFormat.addLookupKeys(ee,w,te,oe,n);else{let se;I&&(se=this.pluralResolver.getSuffix(te,n.count,n));const ne=`${this.options.pluralSeparator}zero`,K=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(I&&(n.ordinal&&se.indexOf(K)===0&&ee.push(w+se.replace(K,this.options.pluralSeparator)),ee.push(w+se),R&&ee.push(w+ne)),N){const Z=`${w}${this.options.contextSeparator||"_"}${n.context}`;ee.push(Z),I&&(n.ordinal&&se.indexOf(K)===0&&ee.push(Z+se.replace(K,this.options.pluralSeparator)),ee.push(Z+se),R&&ee.push(Z+ne))}}let fe;for(;fe=ee.pop();)this.isValidLookup(o)||(l=fe,o=this.getResource(te,oe,fe,n))}))})}),{res:o,usedKey:a,exactUsedKey:l,usedLng:u,usedNS:d}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,n,o,a={}){return this.i18nFormat?.getResource?this.i18nFormat.getResource(e,n,o,a):this.resourceStore.getResource(e,n,o,a)}getUsedParamsDetails(e={}){const n=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],o=e.replace&&!de(e.replace);let a=o?e.replace:e;if(o&&typeof e.count<"u"&&(a.count=e.count),this.options.interpolation.defaultVariables&&(a={...this.options.interpolation.defaultVariables,...a}),!o){a={...a};for(const l of n)delete a[l]}return a}static hasDefaultValue(e){const n="defaultValue";for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)&&n===o.substring(0,n.length)&&e[o]!==void 0)return!0;return!1}}class ys{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=Et.create("languageUtils")}getScriptPartFromCode(e){if(e=Er(e),!e||e.indexOf("-")<0)return null;const n=e.split("-");return n.length===2||(n.pop(),n[n.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(n.join("-"))}getLanguagePartFromCode(e){if(e=Er(e),!e||e.indexOf("-")<0)return e;const n=e.split("-");return this.formatLanguageCode(n[0])}formatLanguageCode(e){if(de(e)&&e.indexOf("-")>-1){let n;try{n=Intl.getCanonicalLocales(e)[0]}catch{}return n&&this.options.lowerCaseLng&&(n=n.toLowerCase()),n||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let n;return e.forEach(o=>{if(n)return;const a=this.formatLanguageCode(o);(!this.options.supportedLngs||this.isSupportedCode(a))&&(n=a)}),!n&&this.options.supportedLngs&&e.forEach(o=>{if(n)return;const a=this.getScriptPartFromCode(o);if(this.isSupportedCode(a))return n=a;const l=this.getLanguagePartFromCode(o);if(this.isSupportedCode(l))return n=l;n=this.options.supportedLngs.find(u=>{if(u===l)return u;if(!(u.indexOf("-")<0&&l.indexOf("-")<0)&&(u.indexOf("-")>0&&l.indexOf("-")<0&&u.substring(0,u.indexOf("-"))===l||u.indexOf(l)===0&&l.length>1))return u})}),n||(n=this.getFallbackCodes(this.options.fallbackLng)[0]),n}getFallbackCodes(e,n){if(!e)return[];if(typeof e=="function"&&(e=e(n)),de(e)&&(e=[e]),Array.isArray(e))return e;if(!n)return e.default||[];let o=e[n];return o||(o=e[this.getScriptPartFromCode(n)]),o||(o=e[this.formatLanguageCode(n)]),o||(o=e[this.getLanguagePartFromCode(n)]),o||(o=e.default),o||[]}toResolveHierarchy(e,n){const o=this.getFallbackCodes((n===!1?[]:n)||this.options.fallbackLng||[],e),a=[],l=u=>{u&&(this.isSupportedCode(u)?a.push(u):this.logger.warn(`rejecting language code not found in supportedLngs: ${u}`))};return de(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&l(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&l(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&l(this.getLanguagePartFromCode(e))):de(e)&&l(this.formatLanguageCode(e)),o.forEach(u=>{a.indexOf(u)<0&&l(this.formatLanguageCode(u))}),a}}const vs={zero:0,one:1,two:2,few:3,many:4,other:5},bs={select:t=>t===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class cf{constructor(e,n={}){this.languageUtils=e,this.options=n,this.logger=Et.create("pluralResolver"),this.pluralRulesCache={}}clearCache(){this.pluralRulesCache={}}getRule(e,n={}){const o=Er(e==="dev"?"en":e),a=n.ordinal?"ordinal":"cardinal",l=JSON.stringify({cleanedCode:o,type:a});if(l in this.pluralRulesCache)return this.pluralRulesCache[l];let u;try{u=new Intl.PluralRules(o,{type:a})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),bs;if(!e.match(/-|_/))return bs;const h=this.languageUtils.getLanguagePartFromCode(e);u=this.getRule(h,n)}return this.pluralRulesCache[l]=u,u}needsPlural(e,n={}){let o=this.getRule(e,n);return o||(o=this.getRule("dev",n)),o?.resolvedOptions().pluralCategories.length>1}getPluralFormsOfKey(e,n,o={}){return this.getSuffixes(e,o).map(a=>`${n}${a}`)}getSuffixes(e,n={}){let o=this.getRule(e,n);return o||(o=this.getRule("dev",n)),o?o.resolvedOptions().pluralCategories.sort((a,l)=>vs[a]-vs[l]).map(a=>`${this.options.prepend}${n.ordinal?`ordinal${this.options.prepend}`:""}${a}`):[]}getSuffix(e,n,o={}){const a=this.getRule(e,o);return a?`${this.options.prepend}${o.ordinal?`ordinal${this.options.prepend}`:""}${a.select(n)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",n,o))}}const ws=(t,e,n,o=".",a=!0)=>{let l=ef(t,e,n);return!l&&a&&de(n)&&(l=Fi(t,n,o),l===void 0&&(l=Fi(e,n,o))),l},_i=t=>t.replace(/\$/g,"$$$$");class _s{constructor(e={}){this.logger=Et.create("interpolator"),this.options=e,this.format=e?.interpolation?.format||(n=>n),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:n,escapeValue:o,useRawValueToEscape:a,prefix:l,prefixEscaped:u,suffix:d,suffixEscaped:h,formatSeparator:g,unescapeSuffix:w,unescapePrefix:y,nestingPrefix:I,nestingPrefixEscaped:R,nestingSuffix:N,nestingSuffixEscaped:F,nestingOptionsSeparator:oe,maxReplaces:te,alwaysFormat:ee}=e.interpolation;this.escape=n!==void 0?n:nf,this.escapeValue=o!==void 0?o:!0,this.useRawValueToEscape=a!==void 0?a:!1,this.prefix=l?Tn(l):u||"{{",this.suffix=d?Tn(d):h||"}}",this.formatSeparator=g||",",this.unescapePrefix=w?"":y||"-",this.unescapeSuffix=this.unescapePrefix?"":w||"",this.nestingPrefix=I?Tn(I):R||Tn("$t("),this.nestingSuffix=N?Tn(N):F||Tn(")"),this.nestingOptionsSeparator=oe||",",this.maxReplaces=te||1e3,this.alwaysFormat=ee!==void 0?ee:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(n,o)=>n?.source===o?(n.lastIndex=0,n):new RegExp(o,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}((?:[^()"']+|"[^"]*"|'[^']*'|\\((?:[^()]|"[^"]*"|'[^']*')*\\))*?)${this.nestingSuffix}`)}interpolate(e,n,o,a){let l,u,d;const h=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},g=R=>{if(R.indexOf(this.formatSeparator)<0){const te=ws(n,h,R,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(te,void 0,o,{...a,...n,interpolationkey:R}):te}const N=R.split(this.formatSeparator),F=N.shift().trim(),oe=N.join(this.formatSeparator).trim();return this.format(ws(n,h,F,this.options.keySeparator,this.options.ignoreJSONStructure),oe,o,{...a,...n,interpolationkey:F})};this.resetRegExp();const w=a?.missingInterpolationHandler||this.options.missingInterpolationHandler,y=a?.interpolation?.skipOnVariables!==void 0?a.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:R=>_i(R)},{regex:this.regexp,safeValue:R=>this.escapeValue?_i(this.escape(R)):_i(R)}].forEach(R=>{for(d=0;l=R.regex.exec(e);){const N=l[1].trim();if(u=g(N),u===void 0)if(typeof w=="function"){const oe=w(e,l,a);u=de(oe)?oe:""}else if(a&&Object.prototype.hasOwnProperty.call(a,N))u="";else if(y){u=l[0];continue}else this.logger.warn(`missed to pass in variable ${N} for interpolating ${e}`),u="";else!de(u)&&!this.useRawValueToEscape&&(u=fs(u));const F=R.safeValue(u);if(e=e.replace(l[0],F),y?(R.regex.lastIndex+=u.length,R.regex.lastIndex-=l[0].length):R.regex.lastIndex=0,d++,d>=this.maxReplaces)break}}),e}nest(e,n,o={}){let a,l,u;const d=(h,g)=>{const w=this.nestingOptionsSeparator;if(h.indexOf(w)<0)return h;const y=h.split(new RegExp(`${w}[ ]*{`));let I=`{${y[1]}`;h=y[0],I=this.interpolate(I,u);const R=I.match(/'/g),N=I.match(/"/g);((R?.length??0)%2===0&&!N||N.length%2!==0)&&(I=I.replace(/'/g,'"'));try{u=JSON.parse(I),g&&(u={...g,...u})}catch(F){return this.logger.warn(`failed parsing options string in nesting for key ${h}`,F),`${h}${w}${I}`}return u.defaultValue&&u.defaultValue.indexOf(this.prefix)>-1&&delete u.defaultValue,h};for(;a=this.nestingRegexp.exec(e);){let h=[];u={...o},u=u.replace&&!de(u.replace)?u.replace:u,u.applyPostProcessor=!1,delete u.defaultValue;const g=/{.*}/.test(a[1])?a[1].lastIndexOf("}")+1:a[1].indexOf(this.formatSeparator);if(g!==-1&&(h=a[1].slice(g).split(this.formatSeparator).map(w=>w.trim()).filter(Boolean),a[1]=a[1].slice(0,g)),l=n(d.call(this,a[1].trim(),u),u),l&&a[0]===e&&!de(l))return l;de(l)||(l=fs(l)),l||(this.logger.warn(`missed to resolve ${a[1]} for nesting ${e}`),l=""),h.length&&(l=h.reduce((w,y)=>this.format(w,y,o.lng,{...o,interpolationkey:a[1].trim()}),l.trim())),e=e.replace(a[0],l),this.regexp.lastIndex=0}return e}}const ff=t=>{let e=t.toLowerCase().trim();const n={};if(t.indexOf("(")>-1){const o=t.split("(");e=o[0].toLowerCase().trim();const a=o[1].substring(0,o[1].length-1);e==="currency"&&a.indexOf(":")<0?n.currency||(n.currency=a.trim()):e==="relativetime"&&a.indexOf(":")<0?n.range||(n.range=a.trim()):a.split(";").forEach(u=>{if(u){const[d,...h]=u.split(":"),g=h.join(":").trim().replace(/^'+|'+$/g,""),w=d.trim();n[w]||(n[w]=g),g==="false"&&(n[w]=!1),g==="true"&&(n[w]=!0),isNaN(g)||(n[w]=parseInt(g,10))}})}return{formatName:e,formatOptions:n}},xs=t=>{const e={};return(n,o,a)=>{let l=a;a&&a.interpolationkey&&a.formatParams&&a.formatParams[a.interpolationkey]&&a[a.interpolationkey]&&(l={...l,[a.interpolationkey]:void 0});const u=o+JSON.stringify(l);let d=e[u];return d||(d=t(Er(o),a),e[u]=d),d(n)}},df=t=>(e,n,o)=>t(Er(n),o)(e);class hf{constructor(e={}){this.logger=Et.create("formatter"),this.options=e,this.init(e)}init(e,n={interpolation:{}}){this.formatSeparator=n.interpolation.formatSeparator||",";const o=n.cacheInBuiltFormats?xs:df;this.formats={number:o((a,l)=>{const u=new Intl.NumberFormat(a,{...l});return d=>u.format(d)}),currency:o((a,l)=>{const u=new Intl.NumberFormat(a,{...l,style:"currency"});return d=>u.format(d)}),datetime:o((a,l)=>{const u=new Intl.DateTimeFormat(a,{...l});return d=>u.format(d)}),relativetime:o((a,l)=>{const u=new Intl.RelativeTimeFormat(a,{...l});return d=>u.format(d,l.range||"day")}),list:o((a,l)=>{const u=new Intl.ListFormat(a,{...l});return d=>u.format(d)})}}add(e,n){this.formats[e.toLowerCase().trim()]=n}addCached(e,n){this.formats[e.toLowerCase().trim()]=xs(n)}format(e,n,o,a={}){const l=n.split(this.formatSeparator);if(l.length>1&&l[0].indexOf("(")>1&&l[0].indexOf(")")<0&&l.find(d=>d.indexOf(")")>-1)){const d=l.findIndex(h=>h.indexOf(")")>-1);l[0]=[l[0],...l.splice(1,d)].join(this.formatSeparator)}return l.reduce((d,h)=>{const{formatName:g,formatOptions:w}=ff(h);if(this.formats[g]){let y=d;try{const I=a?.formatParams?.[a.interpolationkey]||{},R=I.locale||I.lng||a.locale||a.lng||o;y=this.formats[g](d,R,{...w,...a,...I})}catch(I){this.logger.warn(I)}return y}else this.logger.warn(`there was no format function for ${g}`);return d},e)}}const pf=(t,e)=>{t.pending[e]!==void 0&&(delete t.pending[e],t.pendingCount--)};class gf extends Io{constructor(e,n,o,a={}){super(),this.backend=e,this.store=n,this.services=o,this.languageUtils=o.languageUtils,this.options=a,this.logger=Et.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=a.maxParallelReads||10,this.readingCalls=0,this.maxRetries=a.maxRetries>=0?a.maxRetries:5,this.retryTimeout=a.retryTimeout>=1?a.retryTimeout:350,this.state={},this.queue=[],this.backend?.init?.(o,a.backend,a)}queueLoad(e,n,o,a){const l={},u={},d={},h={};return e.forEach(g=>{let w=!0;n.forEach(y=>{const I=`${g}|${y}`;!o.reload&&this.store.hasResourceBundle(g,y)?this.state[I]=2:this.state[I]<0||(this.state[I]===1?u[I]===void 0&&(u[I]=!0):(this.state[I]=1,w=!1,u[I]===void 0&&(u[I]=!0),l[I]===void 0&&(l[I]=!0),h[y]===void 0&&(h[y]=!0)))}),w||(d[g]=!0)}),(Object.keys(l).length||Object.keys(u).length)&&this.queue.push({pending:u,pendingCount:Object.keys(u).length,loaded:{},errors:[],callback:a}),{toLoad:Object.keys(l),pending:Object.keys(u),toLoadLanguages:Object.keys(d),toLoadNamespaces:Object.keys(h)}}loaded(e,n,o){const a=e.split("|"),l=a[0],u=a[1];n&&this.emit("failedLoading",l,u,n),!n&&o&&this.store.addResourceBundle(l,u,o,void 0,void 0,{skipCopy:!0}),this.state[e]=n?-1:2,n&&o&&(this.state[e]=0);const d={};this.queue.forEach(h=>{Jc(h.loaded,[l],u),pf(h,e),n&&h.errors.push(n),h.pendingCount===0&&!h.done&&(Object.keys(h.loaded).forEach(g=>{d[g]||(d[g]={});const w=h.loaded[g];w.length&&w.forEach(y=>{d[g][y]===void 0&&(d[g][y]=!0)})}),h.done=!0,h.errors.length?h.callback(h.errors):h.callback())}),this.emit("loaded",d),this.queue=this.queue.filter(h=>!h.done)}read(e,n,o,a=0,l=this.retryTimeout,u){if(!e.length)return u(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:n,fcName:o,tried:a,wait:l,callback:u});return}this.readingCalls++;const d=(g,w)=>{if(this.readingCalls--,this.waitingReads.length>0){const y=this.waitingReads.shift();this.read(y.lng,y.ns,y.fcName,y.tried,y.wait,y.callback)}if(g&&w&&a<this.maxRetries){setTimeout(()=>{this.read.call(this,e,n,o,a+1,l*2,u)},l);return}u(g,w)},h=this.backend[o].bind(this.backend);if(h.length===2){try{const g=h(e,n);g&&typeof g.then=="function"?g.then(w=>d(null,w)).catch(d):d(null,g)}catch(g){d(g)}return}return h(e,n,d)}prepareLoading(e,n,o={},a){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),a&&a();de(e)&&(e=this.languageUtils.toResolveHierarchy(e)),de(n)&&(n=[n]);const l=this.queueLoad(e,n,o,a);if(!l.toLoad.length)return l.pending.length||a(),null;l.toLoad.forEach(u=>{this.loadOne(u)})}load(e,n,o){this.prepareLoading(e,n,{},o)}reload(e,n,o){this.prepareLoading(e,n,{reload:!0},o)}loadOne(e,n=""){const o=e.split("|"),a=o[0],l=o[1];this.read(a,l,"read",void 0,void 0,(u,d)=>{u&&this.logger.warn(`${n}loading namespace ${l} for language ${a} failed`,u),!u&&d&&this.logger.log(`${n}loaded namespace ${l} for language ${a}`,d),this.loaded(e,u,d)})}saveMissing(e,n,o,a,l,u={},d=()=>{}){if(this.services?.utils?.hasLoadedNamespace&&!this.services?.utils?.hasLoadedNamespace(n)){this.logger.warn(`did not save key "${o}" as the namespace "${n}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(o==null||o==="")){if(this.backend?.create){const h={...u,isUpdate:l},g=this.backend.create.bind(this.backend);if(g.length<6)try{let w;g.length===5?w=g(e,n,o,a,h):w=g(e,n,o,a),w&&typeof w.then=="function"?w.then(y=>d(null,y)).catch(d):d(null,w)}catch(w){d(w)}else g(e,n,o,a,d,h)}!e||!e[0]||this.store.addResource(e[0],n,o,a)}}}const xi=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:t=>{let e={};if(typeof t[1]=="object"&&(e=t[1]),de(t[1])&&(e.defaultValue=t[1]),de(t[2])&&(e.tDescription=t[2]),typeof t[2]=="object"||typeof t[3]=="object"){const n=t[3]||t[2];Object.keys(n).forEach(o=>{e[o]=n[o]})}return e},interpolation:{escapeValue:!0,format:t=>t,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),Ss=t=>(de(t.ns)&&(t.ns=[t.ns]),de(t.fallbackLng)&&(t.fallbackLng=[t.fallbackLng]),de(t.fallbackNS)&&(t.fallbackNS=[t.fallbackNS]),t.supportedLngs?.indexOf?.("cimode")<0&&(t.supportedLngs=t.supportedLngs.concat(["cimode"])),typeof t.initImmediate=="boolean"&&(t.initAsync=t.initImmediate),t),io=()=>{},mf=t=>{Object.getOwnPropertyNames(Object.getPrototypeOf(t)).forEach(n=>{typeof t[n]=="function"&&(t[n]=t[n].bind(t))})};class vr extends Io{constructor(e={},n){if(super(),this.options=Ss(e),this.services={},this.logger=Et,this.modules={external:[]},mf(this),n&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,n),this;setTimeout(()=>{this.init(e,n)},0)}}init(e={},n){this.isInitializing=!0,typeof e=="function"&&(n=e,e={}),e.defaultNS==null&&e.ns&&(de(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const o=xi();this.options={...o,...this.options,...Ss(e)},this.options.interpolation={...o.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator),typeof this.options.overloadTranslationOptionHandler!="function"&&(this.options.overloadTranslationOptionHandler=o.overloadTranslationOptionHandler),this.options.debug===!0&&typeof console<"u"&&console.warn("i18next is maintained with support from locize.com  consider powering your project with managed localization (AI, CDN, integrations): https://locize.com");const a=g=>g?typeof g=="function"?new g:g:null;if(!this.options.isClone){this.modules.logger?Et.init(a(this.modules.logger),this.options):Et.init(null,this.options);let g;this.modules.formatter?g=this.modules.formatter:g=hf;const w=new ys(this.options);this.store=new gs(this.options.resources,this.options);const y=this.services;y.logger=Et,y.resourceStore=this.store,y.languageUtils=w,y.pluralResolver=new cf(w,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),this.options.interpolation.format&&this.options.interpolation.format!==o.interpolation.format&&this.logger.deprecate("init: you are still using the legacy format function, please use the new approach: https://www.i18next.com/translation-function/formatting"),g&&(!this.options.interpolation.format||this.options.interpolation.format===o.interpolation.format)&&(y.formatter=a(g),y.formatter.init&&y.formatter.init(y,this.options),this.options.interpolation.format=y.formatter.format.bind(y.formatter)),y.interpolator=new _s(this.options),y.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},y.backendConnector=new gf(a(this.modules.backend),y.resourceStore,y,this.options),y.backendConnector.on("*",(R,...N)=>{this.emit(R,...N)}),this.modules.languageDetector&&(y.languageDetector=a(this.modules.languageDetector),y.languageDetector.init&&y.languageDetector.init(y,this.options.detection,this.options)),this.modules.i18nFormat&&(y.i18nFormat=a(this.modules.i18nFormat),y.i18nFormat.init&&y.i18nFormat.init(this)),this.translator=new So(this.services,this.options),this.translator.on("*",(R,...N)=>{this.emit(R,...N)}),this.modules.external.forEach(R=>{R.init&&R.init(this)})}if(this.format=this.options.interpolation.format,n||(n=io),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const g=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);g.length>0&&g[0]!=="dev"&&(this.options.lng=g[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(g=>{this[g]=(...w)=>this.store[g](...w)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(g=>{this[g]=(...w)=>(this.store[g](...w),this)});const d=fr(),h=()=>{const g=(w,y)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),d.resolve(y),n(w,y)};if(this.languages&&!this.isInitialized)return g(null,this.t.bind(this));this.changeLanguage(this.options.lng,g)};return this.options.resources||!this.options.initAsync?h():setTimeout(h,0),d}loadResources(e,n=io){let o=n;const a=de(e)?e:this.language;if(typeof e=="function"&&(o=e),!this.options.resources||this.options.partialBundledLanguages){if(a?.toLowerCase()==="cimode"&&(!this.options.preload||this.options.preload.length===0))return o();const l=[],u=d=>{if(!d||d==="cimode")return;this.services.languageUtils.toResolveHierarchy(d).forEach(g=>{g!=="cimode"&&l.indexOf(g)<0&&l.push(g)})};a?u(a):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(h=>u(h)),this.options.preload?.forEach?.(d=>u(d)),this.services.backendConnector.load(l,this.options.ns,d=>{!d&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),o(d)})}else o(null)}reloadResources(e,n,o){const a=fr();return typeof e=="function"&&(o=e,e=void 0),typeof n=="function"&&(o=n,n=void 0),e||(e=this.languages),n||(n=this.options.ns),o||(o=io),this.services.backendConnector.reload(e,n,l=>{a.resolve(),o(l)}),a}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&Tl.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let n=0;n<this.languages.length;n++){const o=this.languages[n];if(!(["cimode","dev"].indexOf(o)>-1)&&this.store.hasLanguageSomeTranslations(o)){this.resolvedLanguage=o;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,n){this.isLanguageChangingTo=e;const o=fr();this.emit("languageChanging",e);const a=d=>{this.language=d,this.languages=this.services.languageUtils.toResolveHierarchy(d),this.resolvedLanguage=void 0,this.setResolvedLanguage(d)},l=(d,h)=>{h?this.isLanguageChangingTo===e&&(a(h),this.translator.changeLanguage(h),this.isLanguageChangingTo=void 0,this.emit("languageChanged",h),this.logger.log("languageChanged",h)):this.isLanguageChangingTo=void 0,o.resolve((...g)=>this.t(...g)),n&&n(d,(...g)=>this.t(...g))},u=d=>{!e&&!d&&this.services.languageDetector&&(d=[]);const h=de(d)?d:d&&d[0],g=this.store.hasLanguageSomeTranslations(h)?h:this.services.languageUtils.getBestMatchFromCodes(de(d)?[d]:d);g&&(this.language||a(g),this.translator.language||this.translator.changeLanguage(g),this.services.languageDetector?.cacheUserLanguage?.(g)),this.loadResources(g,w=>{l(w,g)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?u(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(u):this.services.languageDetector.detect(u):u(e),o}getFixedT(e,n,o){const a=(l,u,...d)=>{let h;typeof u!="object"?h=this.options.overloadTranslationOptionHandler([l,u].concat(d)):h={...u},h.lng=h.lng||a.lng,h.lngs=h.lngs||a.lngs,h.ns=h.ns||a.ns,h.keyPrefix!==""&&(h.keyPrefix=h.keyPrefix||o||a.keyPrefix);const g=this.options.keySeparator||".";let w;return h.keyPrefix&&Array.isArray(l)?w=l.map(y=>(typeof y=="function"&&(y=Mi(y,{...this.options,...u})),`${h.keyPrefix}${g}${y}`)):(typeof l=="function"&&(l=Mi(l,{...this.options,...u})),w=h.keyPrefix?`${h.keyPrefix}${g}${l}`:l),this.t(w,h)};return de(e)?a.lng=e:a.lngs=e,a.ns=n,a.keyPrefix=o,a}t(...e){return this.translator?.translate(...e)}exists(...e){return this.translator?.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,n={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const o=n.lng||this.resolvedLanguage||this.languages[0],a=this.options?this.options.fallbackLng:!1,l=this.languages[this.languages.length-1];if(o.toLowerCase()==="cimode")return!0;const u=(d,h)=>{const g=this.services.backendConnector.state[`${d}|${h}`];return g===-1||g===0||g===2};if(n.precheck){const d=n.precheck(this,u);if(d!==void 0)return d}return!!(this.hasResourceBundle(o,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||u(o,e)&&(!a||u(l,e)))}loadNamespaces(e,n){const o=fr();return this.options.ns?(de(e)&&(e=[e]),e.forEach(a=>{this.options.ns.indexOf(a)<0&&this.options.ns.push(a)}),this.loadResources(a=>{o.resolve(),n&&n(a)}),o):(n&&n(),Promise.resolve())}loadLanguages(e,n){const o=fr();de(e)&&(e=[e]);const a=this.options.preload||[],l=e.filter(u=>a.indexOf(u)<0&&this.services.languageUtils.isSupportedCode(u));return l.length?(this.options.preload=a.concat(l),this.loadResources(u=>{o.resolve(),n&&n(u)}),o):(n&&n(),Promise.resolve())}dir(e){if(e||(e=this.resolvedLanguage||(this.languages?.length>0?this.languages[0]:this.language)),!e)return"rtl";try{const a=new Intl.Locale(e);if(a&&a.getTextInfo){const l=a.getTextInfo();if(l&&l.direction)return l.direction}}catch{}const n=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],o=this.services?.languageUtils||new ys(xi());return e.toLowerCase().indexOf("-latn")>1?"ltr":n.indexOf(o.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},n){const o=new vr(e,n);return o.createInstance=vr.createInstance,o}cloneInstance(e={},n=io){const o=e.forkResourceStore;o&&delete e.forkResourceStore;const a={...this.options,...e,isClone:!0},l=new vr(a);if((e.debug!==void 0||e.prefix!==void 0)&&(l.logger=l.logger.clone(e)),["store","services","language"].forEach(d=>{l[d]=this[d]}),l.services={...this.services},l.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},o){const d=Object.keys(this.store.data).reduce((h,g)=>(h[g]={...this.store.data[g]},h[g]=Object.keys(h[g]).reduce((w,y)=>(w[y]={...h[g][y]},w),h[g]),h),{});l.store=new gs(d,a),l.services.resourceStore=l.store}if(e.interpolation){const h={...xi().interpolation,...this.options.interpolation,...e.interpolation},g={...a,interpolation:h};l.services.interpolator=new _s(g)}return l.translator=new So(l.services,a),l.translator.on("*",(d,...h)=>{l.emit(d,...h)}),l.init(a,n),l.translator.options=a,l.translator.backendConnector.services.utils={hasLoadedNamespace:l.hasLoadedNamespace.bind(l)},l}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const ut=vr.createInstance();ut.createInstance;ut.dir;ut.init;ut.loadResources;ut.reloadResources;ut.use;ut.changeLanguage;ut.getFixedT;ut.t;ut.exists;ut.setDefaultNamespace;ut.hasLoadedNamespace;ut.loadNamespaces;ut.loadLanguages;var yf=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bf(t){if(Object.prototype.hasOwnProperty.call(t,"__esModule"))return t;var e=t.default;if(typeof e=="function"){var n=function o(){var a=!1;try{a=this instanceof o}catch{}return a?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(o){var a=Object.getOwnPropertyDescriptor(t,o);Object.defineProperty(n,o,a.get?a:{enumerable:!0,get:function(){return t[o]}})}),n}const wf=(t,e,n,o)=>{const a=[n,{code:e,...o||{}}];if(t?.services?.logger?.forward)return t.services.logger.forward(a,"warn","react-i18next::",!0);bn(a[0])&&(a[0]=`react-i18next:: ${a[0]}`),t?.services?.logger?.warn?t.services.logger.warn(...a):console?.warn&&console.warn(...a)},ks={},Nl=(t,e,n,o)=>{bn(n)&&ks[n]||(bn(n)&&(ks[n]=new Date),wf(t,e,n,o))},Ll=(t,e)=>()=>{if(t.isInitialized)e();else{const n=()=>{setTimeout(()=>{t.off("initialized",n)},0),e()};t.on("initialized",n)}},Ki=(t,e,n)=>{t.loadNamespaces(e,Ll(t,n))},Es=(t,e,n,o)=>{if(bn(n)&&(n=[n]),t.options.preload&&t.options.preload.indexOf(e)>-1)return Ki(t,n,o);n.forEach(a=>{t.options.ns.indexOf(a)<0&&t.options.ns.push(a)}),t.loadLanguages(e,Ll(t,o))},_f=(t,e,n={})=>!e.languages||!e.languages.length?(Nl(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(t,{lng:n.lng,precheck:(o,a)=>{if(n.bindI18n&&n.bindI18n.indexOf("languageChanging")>-1&&o.services.backendConnector.backend&&o.isLanguageChangingTo&&!a(o.isLanguageChangingTo,t))return!1}}),bn=t=>typeof t=="string",xf=t=>typeof t=="object"&&t!==null,Sf=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,kf={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"","&#169;":"","&reg;":"","&#174;":"","&hellip;":"","&#8230;":"","&#x2F;":"/","&#47;":"/"},Ef=t=>kf[t],Cf=t=>t.replace(Sf,Ef);let Bi={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:Cf,transDefaultProps:void 0};const Of=(t={})=>{Bi={...Bi,...t}},Pf=()=>Bi;let jl;const Df=t=>{jl=t},Af=()=>jl,If={type:"3rdParty",init(t){Of(t.options.react),Df(t)}},Tf=wn();class Rf{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(n=>{this.usedNamespaces[n]||(this.usedNamespaces[n]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}var Si={exports:{}},ki={};const Nf=bf(oc);var Cs;function Lf(){if(Cs)return ki;Cs=1;var t=Nf;function e(y,I){return y===I&&(y!==0||1/y===1/I)||y!==y&&I!==I}var n=typeof Object.is=="function"?Object.is:e,o=t.useState,a=t.useEffect,l=t.useLayoutEffect,u=t.useDebugValue;function d(y,I){var R=I(),N=o({inst:{value:R,getSnapshot:I}}),F=N[0].inst,oe=N[1];return l(function(){F.value=R,F.getSnapshot=I,h(F)&&oe({inst:F})},[y,R,I]),a(function(){return h(F)&&oe({inst:F}),y(function(){h(F)&&oe({inst:F})})},[y]),u(R),R}function h(y){var I=y.getSnapshot;y=y.value;try{var R=I();return!n(y,R)}catch{return!0}}function g(y,I){return I()}var w=typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"?g:d;return ki.useSyncExternalStore=t.useSyncExternalStore!==void 0?t.useSyncExternalStore:w,ki}var Os;function jf(){return Os||(Os=1,Si.exports=Lf()),Si.exports}var Ff=jf();const Mf=(t,e)=>bn(e)?e:xf(e)&&bn(e.defaultValue)?e.defaultValue:Array.isArray(t)?t[t.length-1]:t,Kf={t:Mf,ready:!1},Bf=()=>()=>{},xn=(t,e={})=>{const{i18n:n}=e,{i18n:o,defaultNS:a}=Qt(Tf)||{},l=n||o||Af();l&&!l.reportNamespaces&&(l.reportNamespaces=new Rf),l||Nl(l,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const u=Xe(()=>({...Pf(),...l?.options?.react,...e}),[l,e]),{useSuspense:d,keyPrefix:h}=u,g=a||l?.options?.defaultNS,w=bn(g)?[g]:g||["translation"],y=Xe(()=>w,w);l?.reportNamespaces?.addUsedNamespaces?.(y);const I=Ae(0),R=vn(Y=>{if(!l)return Bf;const{bindI18n:ie,bindI18nStore:he}=u,ge=()=>{I.current+=1,Y()};return ie&&l.on(ie,ge),he&&l.store.on(he,ge),()=>{ie&&ie.split(" ").forEach(ye=>l.off(ye,ge)),he&&he.split(" ").forEach(ye=>l.store.off(ye,ge))}},[l,u]),N=Ae(),F=vn(()=>{if(!l)return Kf;const Y=!!(l.isInitialized||l.initializedStoreOnce)&&y.every(Re=>_f(Re,l,u)),ie=e.lng||l.language,he=I.current,ge=N.current;if(ge&&ge.ready===Y&&ge.lng===ie&&ge.keyPrefix===h&&ge.revision===he)return ge;const Ce={t:l.getFixedT(ie,u.nsMode==="fallback"?y:y[0],h),ready:Y,lng:ie,keyPrefix:h,revision:he};return N.current=Ce,Ce},[l,y,h,u,e.lng]),[oe,te]=_t(0),{t:ee,ready:fe}=Ff.useSyncExternalStore(R,F,F);Je(()=>{if(l&&!fe&&!d){const Y=()=>te(ie=>ie+1);e.lng?Es(l,e.lng,y,Y):Ki(l,y,Y)}},[l,e.lng,y,fe,d,oe]);const se=l||{},ne=Ae(null),K=Ae(),Z=Y=>{const ie=Object.getOwnPropertyDescriptors(Y);ie.__original&&delete ie.__original;const he=Object.create(Object.getPrototypeOf(Y),ie);if(!Object.prototype.hasOwnProperty.call(he,"__original"))try{Object.defineProperty(he,"__original",{value:Y,writable:!1,enumerable:!1,configurable:!1})}catch{}return he},B=Xe(()=>{const Y=se,ie=Y?.language;let he=Y;Y&&(ne.current&&ne.current.__original===Y?K.current!==ie?(he=Z(Y),ne.current=he,K.current=ie):he=ne.current:(he=Z(Y),ne.current=he,K.current=ie));const ge=[ee,he,fe];return ge.t=ee,ge.i18n=he,ge.ready=fe,ge},[ee,se,fe,se.resolvedLanguage,se.language,se.languages]);if(l&&d&&!fe)throw new Promise(Y=>{const ie=()=>Y();e.lng?Es(l,e.lng,y,ie):Ki(l,y,ie)});return B},$f=({open:t,header:e,message:n,onClose:o})=>{const{t:a}=xn(),l=Ae(null),u=d=>{d.target===d.currentTarget&&o()};return Je(()=>{const d=l.current;d&&(t&&!d.open&&d.showModal(),!t&&d.open&&d.close())},[t]),L("dialog",{ref:l,onClick:u,onCancel:o,class:"modal",children:L("div",{class:"modal-box",children:[L("h3",{class:"text-lg font-bold",children:e}),L("p",{class:"py-4",children:n}),L("div",{class:"modal-action",children:L("button",{autoFocus:!0,type:"button",onClick:o,class:"btn btn-primary",children:a`close`})})]})})},zf=({open:t,header:e,message:n,onCancel:o,onAccept:a})=>{const{t:l}=xn(),u=Ae(null),d=h=>{h.target===h.currentTarget&&o()};return Je(()=>{const h=u.current;h&&(t&&!h.open&&h.showModal(),!t&&h.open&&h.close())},[t]),L("dialog",{ref:u,onClick:d,onCancel:o,class:"modal",children:L("div",{class:"modal-box",children:[L("h3",{class:"text-lg font-bold",children:e}),L("p",{class:"py-4",children:n}),L("div",{class:"modal-action",children:[L("button",{type:"button",onClick:o,class:"btn",children:l`cancel`}),L("button",{autoFocus:!0,type:"button",onClick:a,class:"btn btn-primary",children:l`accept`})]})]})})},Fl=wn(null),Ml=()=>{const t=Qt(Fl);if(!t)throw new Error("uninitialized context");return t},qf=({children:t})=>{const[e,n]=_t({header:"",message:"",open:!1}),[o,a]=_t({header:"",message:"",onAccept:()=>{},open:!1}),l=Xe(()=>({notify:u=>{n({...u,open:!0})},confirm:u=>{a({...u,open:!0})}}),[]);return L(Fl,{value:l,children:[t,L($f,{open:e.open,header:e.header,message:e.message,onClose:()=>n(u=>({...u,open:!1}))}),L(zf,{open:o.open,header:o.header,message:o.message,onCancel:()=>a(u=>({...u,open:!1})),onAccept:()=>{a(u=>({...u,open:!1})),o.onAccept()}})]})};var fo={exports:{}},Uf=fo.exports,Ps;function Vf(){return Ps||(Ps=1,(function(t,e){(function(n,o){t.exports=o()})(Uf,function(){var n=function(r,i){return(n=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(s,c){s.__proto__=c}||function(s,c){for(var f in c)Object.prototype.hasOwnProperty.call(c,f)&&(s[f]=c[f])})(r,i)},o=function(){return(o=Object.assign||function(r){for(var i,s=1,c=arguments.length;s<c;s++)for(var f in i=arguments[s])Object.prototype.hasOwnProperty.call(i,f)&&(r[f]=i[f]);return r}).apply(this,arguments)};function a(r,i,s){for(var c,f=0,p=i.length;f<p;f++)!c&&f in i||((c=c||Array.prototype.slice.call(i,0,f))[f]=i[f]);return r.concat(c||Array.prototype.slice.call(i))}var l=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:yf,u=Object.keys,d=Array.isArray;function h(r,i){return typeof i!="object"||u(i).forEach(function(s){r[s]=i[s]}),r}typeof Promise>"u"||l.Promise||(l.Promise=Promise);var g=Object.getPrototypeOf,w={}.hasOwnProperty;function y(r,i){return w.call(r,i)}function I(r,i){typeof i=="function"&&(i=i(g(r))),(typeof Reflect>"u"?u:Reflect.ownKeys)(i).forEach(function(s){N(r,s,i[s])})}var R=Object.defineProperty;function N(r,i,s,c){R(r,i,h(s&&y(s,"get")&&typeof s.get=="function"?{get:s.get,set:s.set,configurable:!0}:{value:s,configurable:!0,writable:!0},c))}function F(r){return{from:function(i){return r.prototype=Object.create(i.prototype),N(r.prototype,"constructor",r),{extend:I.bind(null,r.prototype)}}}}var oe=Object.getOwnPropertyDescriptor,te=[].slice;function ee(r,i,s){return te.call(r,i,s)}function fe(r,i){return i(r)}function se(r){if(!r)throw new Error("Assertion Failed")}function ne(r){l.setImmediate?setImmediate(r):setTimeout(r,0)}function K(r,i){if(typeof i=="string"&&y(r,i))return r[i];if(!i)return r;if(typeof i!="string"){for(var s=[],c=0,f=i.length;c<f;++c){var p=K(r,i[c]);s.push(p)}return s}var m=i.indexOf(".");if(m!==-1){var v=r[i.substr(0,m)];return v==null?void 0:K(v,i.substr(m+1))}}function Z(r,i,s){if(r&&i!==void 0&&!("isFrozen"in Object&&Object.isFrozen(r)))if(typeof i!="string"&&"length"in i){se(typeof s!="string"&&"length"in s);for(var c=0,f=i.length;c<f;++c)Z(r,i[c],s[c])}else{var p,m,v=i.indexOf(".");v!==-1?(p=i.substr(0,v),(m=i.substr(v+1))===""?s===void 0?d(r)&&!isNaN(parseInt(p))?r.splice(p,1):delete r[p]:r[p]=s:Z(v=!(v=r[p])||!y(r,p)?r[p]={}:v,m,s)):s===void 0?d(r)&&!isNaN(parseInt(i))?r.splice(i,1):delete r[i]:r[i]=s}}function B(r){var i,s={};for(i in r)y(r,i)&&(s[i]=r[i]);return s}var Y=[].concat;function ie(r){return Y.apply([],r)}var tn="BigUint64Array,BigInt64Array,Array,Boolean,String,Date,RegExp,Blob,File,FileList,FileSystemFileHandle,FileSystemDirectoryHandle,ArrayBuffer,DataView,Uint8ClampedArray,ImageBitmap,ImageData,Map,Set,CryptoKey".split(",").concat(ie([8,16,32,64].map(function(r){return["Int","Uint","Float"].map(function(i){return i+r+"Array"})}))).filter(function(r){return l[r]}),he=new Set(tn.map(function(r){return l[r]})),ge=null;function ye(r){return ge=new WeakMap,r=(function i(s){if(!s||typeof s!="object")return s;var c=ge.get(s);if(c)return c;if(d(s)){c=[],ge.set(s,c);for(var f=0,p=s.length;f<p;++f)c.push(i(s[f]))}else if(he.has(s.constructor))c=s;else{var m,v=g(s);for(m in c=v===Object.prototype?{}:Object.create(v),ge.set(s,c),s)y(s,m)&&(c[m]=i(s[m]))}return c})(r),ge=null,r}var Ce={}.toString;function Re(r){return Ce.call(r).slice(8,-1)}var le=typeof Symbol<"u"?Symbol.iterator:"@@iterator",we=typeof le=="symbol"?function(r){var i;return r!=null&&(i=r[le])&&i.apply(r)}:function(){return null};function W(r,i){return i=r.indexOf(i),0<=i&&r.splice(i,1),0<=i}var ze={};function et(r){var i,s,c,f;if(arguments.length===1){if(d(r))return r.slice();if(this===ze&&typeof r=="string")return[r];if(f=we(r)){for(s=[];!(c=f.next()).done;)s.push(c.value);return s}if(r==null)return[r];if(typeof(i=r.length)!="number")return[r];for(s=new Array(i);i--;)s[i]=r[i];return s}for(i=arguments.length,s=new Array(i);i--;)s[i]=arguments[i];return s}var Fe=typeof Symbol<"u"?function(r){return r[Symbol.toStringTag]==="AsyncFunction"}:function(){return!1},Qn=["Unknown","Constraint","Data","TransactionInactive","ReadOnly","Version","NotFound","InvalidState","InvalidAccess","Abort","Timeout","QuotaExceeded","Syntax","DataClone"],mt=["Modify","Bulk","OpenFailed","VersionChange","Schema","Upgrade","InvalidTable","MissingAPI","NoSuchDatabase","InvalidArgument","SubTransaction","Unsupported","Internal","DatabaseClosed","PrematureCommit","ForeignAwait"].concat(Qn),it={VersionChanged:"Database version changed by other database connection",DatabaseClosed:"Database has been closed",Abort:"Transaction aborted",TransactionInactive:"Transaction has already completed or failed",MissingAPI:"IndexedDB API missing. Please visit https://tinyurl.com/y2uuvskb"};function Ie(r,i){this.name=r,this.message=i}function We(r,i){return r+". Errors: "+Object.keys(i).map(function(s){return i[s].toString()}).filter(function(s,c,f){return f.indexOf(s)===c}).join(`
`)}function Pt(r,i,s,c){this.failures=i,this.failedKeys=c,this.successCount=s,this.message=We(r,i)}function Dt(r,i){this.name="BulkError",this.failures=Object.keys(i).map(function(s){return i[s]}),this.failuresByPos=i,this.message=We(r,this.failures)}F(Ie).from(Error).extend({toString:function(){return this.name+": "+this.message}}),F(Pt).from(Ie),F(Dt).from(Ie);var Be=mt.reduce(function(r,i){return r[i]=i+"Error",r},{}),Ar=Ie,re=mt.reduce(function(r,i){var s=i+"Error";function c(f,p){this.name=s,f?typeof f=="string"?(this.message="".concat(f).concat(p?`
 `+p:""),this.inner=p||null):typeof f=="object"&&(this.message="".concat(f.name," ").concat(f.message),this.inner=f):(this.message=it[i]||s,this.inner=null)}return F(c).from(Ar),r[i]=c,r},{});re.Syntax=SyntaxError,re.Type=TypeError,re.Range=RangeError;var Jt=Qn.reduce(function(r,i){return r[i+"Error"]=re[i],r},{}),Mt=mt.reduce(function(r,i){return["Syntax","Type","Range"].indexOf(i)===-1&&(r[i+"Error"]=re[i]),r},{});function Oe(){}function Zn(r){return r}function uu(r,i){return r==null||r===Zn?i:function(s){return i(r(s))}}function en(r,i){return function(){r.apply(this,arguments),i.apply(this,arguments)}}function cu(r,i){return r===Oe?i:function(){var s=r.apply(this,arguments);s!==void 0&&(arguments[0]=s);var c=this.onsuccess,f=this.onerror;this.onsuccess=null,this.onerror=null;var p=i.apply(this,arguments);return c&&(this.onsuccess=this.onsuccess?en(c,this.onsuccess):c),f&&(this.onerror=this.onerror?en(f,this.onerror):f),p!==void 0?p:s}}function fu(r,i){return r===Oe?i:function(){r.apply(this,arguments);var s=this.onsuccess,c=this.onerror;this.onsuccess=this.onerror=null,i.apply(this,arguments),s&&(this.onsuccess=this.onsuccess?en(s,this.onsuccess):s),c&&(this.onerror=this.onerror?en(c,this.onerror):c)}}function du(r,i){return r===Oe?i:function(s){var c=r.apply(this,arguments);h(s,c);var f=this.onsuccess,p=this.onerror;return this.onsuccess=null,this.onerror=null,s=i.apply(this,arguments),f&&(this.onsuccess=this.onsuccess?en(f,this.onsuccess):f),p&&(this.onerror=this.onerror?en(p,this.onerror):p),c===void 0?s===void 0?void 0:s:h(c,s)}}function hu(r,i){return r===Oe?i:function(){return i.apply(this,arguments)!==!1&&r.apply(this,arguments)}}function Lo(r,i){return r===Oe?i:function(){var s=r.apply(this,arguments);if(s&&typeof s.then=="function"){for(var c=this,f=arguments.length,p=new Array(f);f--;)p[f]=arguments[f];return s.then(function(){return i.apply(c,p)})}return i.apply(this,arguments)}}Mt.ModifyError=Pt,Mt.DexieError=Ie,Mt.BulkError=Dt;var xt=typeof location<"u"&&/^(http|https):\/\/(localhost|127\.0\.0\.1)/.test(location.href);function ua(r){xt=r}var Xn={},ca=100,tn=typeof Promise>"u"?[]:(function(){var r=Promise.resolve();if(typeof crypto>"u"||!crypto.subtle)return[r,g(r),r];var i=crypto.subtle.digest("SHA-512",new Uint8Array([0]));return[i,g(i),r]})(),Qn=tn[0],mt=tn[1],tn=tn[2],mt=mt&&mt.then,nn=Qn&&Qn.constructor,jo=!!tn,Jn=function(r,i){er.push([r,i]),Ir&&(queueMicrotask(gu),Ir=!1)},Fo=!0,Ir=!0,rn=[],Tr=[],Mo=Zn,Kt={id:"global",global:!0,ref:0,unhandleds:[],onunhandled:Oe,pgp:!1,env:{},finalize:Oe},ae=Kt,er=[],on=0,Rr=[];function G(r){if(typeof this!="object")throw new TypeError("Promises must be constructed via new");this._listeners=[],this._lib=!1;var i=this._PSD=ae;if(typeof r!="function"){if(r!==Xn)throw new TypeError("Not a function");return this._state=arguments[1],this._value=arguments[2],void(this._state===!1&&Bo(this,this._value))}this._state=null,this._value=null,++i.ref,(function s(c,f){try{f(function(p){if(c._state===null){if(p===c)throw new TypeError("A promise cannot be resolved with itself.");var m=c._lib&&Sn();p&&typeof p.then=="function"?s(c,function(v,_){p instanceof G?p._then(v,_):p.then(v,_)}):(c._state=!0,c._value=p,da(c)),m&&kn()}},Bo.bind(null,c))}catch(p){Bo(c,p)}})(this,r)}var Ko={get:function(){var r=ae,i=Fr;function s(c,f){var p=this,m=!r.global&&(r!==ae||i!==Fr),v=m&&!$t(),_=new G(function(x,C){$o(p,new fa(pa(c,r,m,v),pa(f,r,m,v),x,C,r))});return this._consoleTask&&(_._consoleTask=this._consoleTask),_}return s.prototype=Xn,s},set:function(r){N(this,"then",r&&r.prototype===Xn?Ko:{get:function(){return r},set:Ko.set})}};function fa(r,i,s,c,f){this.onFulfilled=typeof r=="function"?r:null,this.onRejected=typeof i=="function"?i:null,this.resolve=s,this.reject=c,this.psd=f}function Bo(r,i){var s,c;Tr.push(i),r._state===null&&(s=r._lib&&Sn(),i=Mo(i),r._state=!1,r._value=i,c=r,rn.some(function(f){return f._value===c._value})||rn.push(c),da(r),s&&kn())}function da(r){var i=r._listeners;r._listeners=[];for(var s=0,c=i.length;s<c;++s)$o(r,i[s]);var f=r._PSD;--f.ref||f.finalize(),on===0&&(++on,Jn(function(){--on==0&&zo()},[]))}function $o(r,i){if(r._state!==null){var s=r._state?i.onFulfilled:i.onRejected;if(s===null)return(r._state?i.resolve:i.reject)(r._value);++i.psd.ref,++on,Jn(pu,[s,r,i])}else r._listeners.push(i)}function pu(r,i,s){try{var c,f=i._value;!i._state&&Tr.length&&(Tr=[]),c=xt&&i._consoleTask?i._consoleTask.run(function(){return r(f)}):r(f),i._state||Tr.indexOf(f)!==-1||(function(p){for(var m=rn.length;m;)if(rn[--m]._value===p._value)return rn.splice(m,1)})(i),s.resolve(c)}catch(p){s.reject(p)}finally{--on==0&&zo(),--s.psd.ref||s.psd.finalize()}}function gu(){an(Kt,function(){Sn()&&kn()})}function Sn(){var r=Fo;return Ir=Fo=!1,r}function kn(){var r,i,s;do for(;0<er.length;)for(r=er,er=[],s=r.length,i=0;i<s;++i){var c=r[i];c[0].apply(null,c[1])}while(0<er.length);Ir=Fo=!0}function zo(){var r=rn;rn=[],r.forEach(function(c){c._PSD.onunhandled.call(null,c._value,c)});for(var i=Rr.slice(0),s=i.length;s;)i[--s]()}function Nr(r){return new G(Xn,!1,r)}function Le(r,i){var s=ae;return function(){var c=Sn(),f=ae;try{return zt(s,!0),r.apply(this,arguments)}catch(p){i&&i(p)}finally{zt(f,!1),c&&kn()}}}I(G.prototype,{then:Ko,_then:function(r,i){$o(this,new fa(null,null,r,i,ae))},catch:function(r){if(arguments.length===1)return this.then(null,r);var i=r,s=arguments[1];return typeof i=="function"?this.then(null,function(c){return(c instanceof i?s:Nr)(c)}):this.then(null,function(c){return(c&&c.name===i?s:Nr)(c)})},finally:function(r){return this.then(function(i){return G.resolve(r()).then(function(){return i})},function(i){return G.resolve(r()).then(function(){return Nr(i)})})},timeout:function(r,i){var s=this;return r<1/0?new G(function(c,f){var p=setTimeout(function(){return f(new re.Timeout(i))},r);s.then(c,f).finally(clearTimeout.bind(null,p))}):this}}),typeof Symbol<"u"&&Symbol.toStringTag&&N(G.prototype,Symbol.toStringTag,"Dexie.Promise"),Kt.env=ha(),I(G,{all:function(){var r=et.apply(null,arguments).map(Mr);return new G(function(i,s){r.length===0&&i([]);var c=r.length;r.forEach(function(f,p){return G.resolve(f).then(function(m){r[p]=m,--c||i(r)},s)})})},resolve:function(r){return r instanceof G?r:r&&typeof r.then=="function"?new G(function(i,s){r.then(i,s)}):new G(Xn,!0,r)},reject:Nr,race:function(){var r=et.apply(null,arguments).map(Mr);return new G(function(i,s){r.map(function(c){return G.resolve(c).then(i,s)})})},PSD:{get:function(){return ae},set:function(r){return ae=r}},totalEchoes:{get:function(){return Fr}},newPSD:Bt,usePSD:an,scheduler:{get:function(){return Jn},set:function(r){Jn=r}},rejectionMapper:{get:function(){return Mo},set:function(r){Mo=r}},follow:function(r,i){return new G(function(s,c){return Bt(function(f,p){var m=ae;m.unhandleds=[],m.onunhandled=p,m.finalize=en(function(){var v,_=this;v=function(){_.unhandleds.length===0?f():p(_.unhandleds[0])},Rr.push(function x(){v(),Rr.splice(Rr.indexOf(x),1)}),++on,Jn(function(){--on==0&&zo()},[])},m.finalize),r()},i,s,c)})}}),nn&&(nn.allSettled&&N(G,"allSettled",function(){var r=et.apply(null,arguments).map(Mr);return new G(function(i){r.length===0&&i([]);var s=r.length,c=new Array(s);r.forEach(function(f,p){return G.resolve(f).then(function(m){return c[p]={status:"fulfilled",value:m}},function(m){return c[p]={status:"rejected",reason:m}}).then(function(){return--s||i(c)})})})}),nn.any&&typeof AggregateError<"u"&&N(G,"any",function(){var r=et.apply(null,arguments).map(Mr);return new G(function(i,s){r.length===0&&s(new AggregateError([]));var c=r.length,f=new Array(c);r.forEach(function(p,m){return G.resolve(p).then(function(v){return i(v)},function(v){f[m]=v,--c||s(new AggregateError(f))})})})}),nn.withResolvers&&(G.withResolvers=nn.withResolvers));var Ye={awaits:0,echoes:0,id:0},mu=0,Lr=[],jr=0,Fr=0,yu=0;function Bt(r,i,s,c){var f=ae,p=Object.create(f);return p.parent=f,p.ref=0,p.global=!1,p.id=++yu,Kt.env,p.env=jo?{Promise:G,PromiseProp:{value:G,configurable:!0,writable:!0},all:G.all,race:G.race,allSettled:G.allSettled,any:G.any,resolve:G.resolve,reject:G.reject}:{},i&&h(p,i),++f.ref,p.finalize=function(){--this.parent.ref||this.parent.finalize()},c=an(p,r,s,c),p.ref===0&&p.finalize(),c}function En(){return Ye.id||(Ye.id=++mu),++Ye.awaits,Ye.echoes+=ca,Ye.id}function $t(){return!!Ye.awaits&&(--Ye.awaits==0&&(Ye.id=0),Ye.echoes=Ye.awaits*ca,!0)}function Mr(r){return Ye.echoes&&r&&r.constructor===nn?(En(),r.then(function(i){return $t(),i},function(i){return $t(),qe(i)})):r}function vu(){var r=Lr[Lr.length-1];Lr.pop(),zt(r,!1)}function zt(r,i){var s,c=ae;(i?!Ye.echoes||jr++&&r===ae:!jr||--jr&&r===ae)||queueMicrotask(i?(function(f){++Fr,Ye.echoes&&--Ye.echoes!=0||(Ye.echoes=Ye.awaits=Ye.id=0),Lr.push(ae),zt(f,!0)}).bind(null,r):vu),r!==ae&&(ae=r,c===Kt&&(Kt.env=ha()),jo&&(s=Kt.env.Promise,i=r.env,(c.global||r.global)&&(Object.defineProperty(l,"Promise",i.PromiseProp),s.all=i.all,s.race=i.race,s.resolve=i.resolve,s.reject=i.reject,i.allSettled&&(s.allSettled=i.allSettled),i.any&&(s.any=i.any))))}function ha(){var r=l.Promise;return jo?{Promise:r,PromiseProp:Object.getOwnPropertyDescriptor(l,"Promise"),all:r.all,race:r.race,allSettled:r.allSettled,any:r.any,resolve:r.resolve,reject:r.reject}:{}}function an(r,i,s,c,f){var p=ae;try{return zt(r,!0),i(s,c,f)}finally{zt(p,!1)}}function pa(r,i,s,c){return typeof r!="function"?r:function(){var f=ae;s&&En(),zt(i,!0);try{return r.apply(this,arguments)}finally{zt(f,!1),c&&queueMicrotask($t)}}}function qo(r){Promise===nn&&Ye.echoes===0?jr===0?r():enqueueNativeMicroTask(r):setTimeout(r,0)}(""+mt).indexOf("[native code]")===-1&&(En=$t=Oe);var qe=G.reject,sn="",At="Invalid key provided. Keys must be of type string, number, Date or Array<string | number | Date>.",ga="String expected.",Cn=[],Kr="__dbnames",Uo="readonly",Vo="readwrite";function ln(r,i){return r?i?function(){return r.apply(this,arguments)&&i.apply(this,arguments)}:r:i}var ma={type:3,lower:-1/0,lowerOpen:!1,upper:[[]],upperOpen:!1};function Br(r){return typeof r!="string"||/\./.test(r)?function(i){return i}:function(i){return i[r]===void 0&&r in i&&delete(i=ye(i))[r],i}}function ya(){throw re.Type("Entity instances must never be new:ed. Instances are generated by the framework bypassing the constructor.")}function ke(r,i){try{var s=va(r),c=va(i);if(s!==c)return s==="Array"?1:c==="Array"?-1:s==="binary"?1:c==="binary"?-1:s==="string"?1:c==="string"?-1:s==="Date"?1:c!=="Date"?NaN:-1;switch(s){case"number":case"Date":case"string":return i<r?1:r<i?-1:0;case"binary":return(function(f,p){for(var m=f.length,v=p.length,_=m<v?m:v,x=0;x<_;++x)if(f[x]!==p[x])return f[x]<p[x]?-1:1;return m===v?0:m<v?-1:1})(ba(r),ba(i));case"Array":return(function(f,p){for(var m=f.length,v=p.length,_=m<v?m:v,x=0;x<_;++x){var C=ke(f[x],p[x]);if(C!==0)return C}return m===v?0:m<v?-1:1})(r,i)}}catch{}return NaN}function va(r){var i=typeof r;return i!="object"?i:ArrayBuffer.isView(r)?"binary":(r=Re(r),r==="ArrayBuffer"?"binary":r)}function ba(r){return r instanceof Uint8Array?r:ArrayBuffer.isView(r)?new Uint8Array(r.buffer,r.byteOffset,r.byteLength):new Uint8Array(r)}function $r(r,i,s){var c=r.schema.yProps;return c?(i&&0<s.numFailures&&(i=i.filter(function(f,p){return!s.failures[p]})),Promise.all(c.map(function(f){return f=f.updatesTable,i?r.db.table(f).where("k").anyOf(i).delete():r.db.table(f).clear()})).then(function(){return s})):s}var tr=(wa.prototype.execute=function(r){var i=this["@@propmod"];if(i.add!==void 0){var s=i.add;if(d(s))return a(a([],d(r)?r:[],!0),s).sort();if(typeof s=="number")return(Number(r)||0)+s;if(typeof s=="bigint")try{return BigInt(r)+s}catch{return BigInt(0)+s}throw new TypeError("Invalid term ".concat(s))}if(i.remove!==void 0){var c=i.remove;if(d(c))return d(r)?r.filter(function(f){return!c.includes(f)}).sort():[];if(typeof c=="number")return Number(r)-c;if(typeof c=="bigint")try{return BigInt(r)-c}catch{return BigInt(0)-c}throw new TypeError("Invalid subtrahend ".concat(c))}return s=(s=i.replacePrefix)===null||s===void 0?void 0:s[0],s&&typeof r=="string"&&r.startsWith(s)?i.replacePrefix[1]+r.substring(s.length):r},wa);function wa(r){this["@@propmod"]=r}function _a(r,i){for(var s=u(i),c=s.length,f=!1,p=0;p<c;++p){var m=s[p],v=i[m],_=K(r,m);v instanceof tr?(Z(r,m,v.execute(_)),f=!0):_!==v&&(Z(r,m,v),f=!0)}return f}var xa=(Ne.prototype._trans=function(r,i,s){var c=this._tx||ae.trans,f=this.name,p=xt&&typeof console<"u"&&console.createTask&&console.createTask("Dexie: ".concat(r==="readonly"?"read":"write"," ").concat(this.name));function m(x,C,b){if(!b.schema[f])throw new re.NotFound("Table "+f+" not part of transaction");return i(b.idbtrans,b)}var v=Sn();try{var _=c&&c.db._novip===this.db._novip?c===ae.trans?c._promise(r,m,s):Bt(function(){return c._promise(r,m,s)},{trans:c,transless:ae.transless||ae}):(function x(C,b,P,S){if(C.idbdb&&(C._state.openComplete||ae.letThrough||C._vip)){var k=C._createTransaction(b,P,C._dbSchema);try{k.create(),C._state.PR1398_maxLoop=3}catch(E){return E.name===Be.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return x(C,b,P,S)})):qe(E)}return k._promise(b,function(E,O){return Bt(function(){return ae.trans=k,S(E,O,k)})}).then(function(E){if(b==="readwrite")try{k.idbtrans.commit()}catch{}return b==="readonly"?E:k._completion.then(function(){return E})})}if(C._state.openComplete)return qe(new re.DatabaseClosed(C._state.dbOpenError));if(!C._state.isBeingOpened){if(!C._state.autoOpen)return qe(new re.DatabaseClosed);C.open().catch(Oe)}return C._state.dbReadyPromise.then(function(){return x(C,b,P,S)})})(this.db,r,[this.name],m);return p&&(_._consoleTask=p,_=_.catch(function(x){return console.trace(x),qe(x)})),_}finally{v&&kn()}},Ne.prototype.get=function(r,i){var s=this;return r&&r.constructor===Object?this.where(r).first(i):r==null?qe(new re.Type("Invalid argument to Table.get()")):this._trans("readonly",function(c){return s.core.get({trans:c,key:r}).then(function(f){return s.hook.reading.fire(f)})}).then(i)},Ne.prototype.where=function(r){if(typeof r=="string")return new this.db.WhereClause(this,r);if(d(r))return new this.db.WhereClause(this,"[".concat(r.join("+"),"]"));var i=u(r);if(i.length===1)return this.where(i[0]).equals(r[i[0]]);var s=this.schema.indexes.concat(this.schema.primKey).filter(function(v){if(v.compound&&i.every(function(x){return 0<=v.keyPath.indexOf(x)})){for(var _=0;_<i.length;++_)if(i.indexOf(v.keyPath[_])===-1)return!1;return!0}return!1}).sort(function(v,_){return v.keyPath.length-_.keyPath.length})[0];if(s&&this.db._maxKey!==sn){var p=s.keyPath.slice(0,i.length);return this.where(p).equals(p.map(function(_){return r[_]}))}!s&&xt&&console.warn("The query ".concat(JSON.stringify(r)," on ").concat(this.name," would benefit from a ")+"compound index [".concat(i.join("+"),"]"));var c=this.schema.idxByName;function f(v,_){return ke(v,_)===0}var m=i.reduce(function(b,_){var x=b[0],C=b[1],b=c[_],P=r[_];return[x||b,x||!b?ln(C,b&&b.multi?function(S){return S=K(S,_),d(S)&&S.some(function(k){return f(P,k)})}:function(S){return f(P,K(S,_))}):C]},[null,null]),p=m[0],m=m[1];return p?this.where(p.name).equals(r[p.keyPath]).filter(m):s?this.filter(m):this.where(i).equals("")},Ne.prototype.filter=function(r){return this.toCollection().and(r)},Ne.prototype.count=function(r){return this.toCollection().count(r)},Ne.prototype.offset=function(r){return this.toCollection().offset(r)},Ne.prototype.limit=function(r){return this.toCollection().limit(r)},Ne.prototype.each=function(r){return this.toCollection().each(r)},Ne.prototype.toArray=function(r){return this.toCollection().toArray(r)},Ne.prototype.toCollection=function(){return new this.db.Collection(new this.db.WhereClause(this))},Ne.prototype.orderBy=function(r){return new this.db.Collection(new this.db.WhereClause(this,d(r)?"[".concat(r.join("+"),"]"):r))},Ne.prototype.reverse=function(){return this.toCollection().reverse()},Ne.prototype.mapToClass=function(r){var i,s=this.db,c=this.name;function f(){return i!==null&&i.apply(this,arguments)||this}(this.schema.mappedClass=r).prototype instanceof ya&&((function(_,x){if(typeof x!="function"&&x!==null)throw new TypeError("Class extends value "+String(x)+" is not a constructor or null");function C(){this.constructor=_}n(_,x),_.prototype=x===null?Object.create(x):(C.prototype=x.prototype,new C)})(f,i=r),Object.defineProperty(f.prototype,"db",{get:function(){return s},enumerable:!1,configurable:!0}),f.prototype.table=function(){return c},r=f);for(var p=new Set,m=r.prototype;m;m=g(m))Object.getOwnPropertyNames(m).forEach(function(_){return p.add(_)});function v(_){if(!_)return _;var x,C=Object.create(r.prototype);for(x in _)if(!p.has(x))try{C[x]=_[x]}catch{}return C}return this.schema.readHook&&this.hook.reading.unsubscribe(this.schema.readHook),this.schema.readHook=v,this.hook("reading",v),r},Ne.prototype.defineClass=function(){return this.mapToClass(function(r){h(this,r)})},Ne.prototype.add=function(r,i){var s=this,c=this.schema.primKey,f=c.auto,p=c.keyPath,m=r;return p&&f&&(m=Br(p)(r)),this._trans("readwrite",function(v){return s.core.mutate({trans:v,type:"add",keys:i!=null?[i]:null,values:[m]})}).then(function(v){return v.numFailures?G.reject(v.failures[0]):v.lastResult}).then(function(v){if(p)try{Z(r,p,v)}catch{}return v})},Ne.prototype.upsert=function(r,i){var s=this,c=this.schema.primKey.keyPath;return this._trans("readwrite",function(f){return s.core.get({trans:f,key:r}).then(function(p){var m=p??{};return _a(m,i),c&&Z(m,c,r),s.core.mutate({trans:f,type:"put",values:[m],keys:[r],upsert:!0,updates:{keys:[r],changeSpecs:[i]}}).then(function(v){return v.numFailures?G.reject(v.failures[0]):!!p})})})},Ne.prototype.update=function(r,i){return typeof r!="object"||d(r)?this.where(":id").equals(r).modify(i):(r=K(r,this.schema.primKey.keyPath),r===void 0?qe(new re.InvalidArgument("Given object does not contain its primary key")):this.where(":id").equals(r).modify(i))},Ne.prototype.put=function(r,i){var s=this,c=this.schema.primKey,f=c.auto,p=c.keyPath,m=r;return p&&f&&(m=Br(p)(r)),this._trans("readwrite",function(v){return s.core.mutate({trans:v,type:"put",values:[m],keys:i!=null?[i]:null})}).then(function(v){return v.numFailures?G.reject(v.failures[0]):v.lastResult}).then(function(v){if(p)try{Z(r,p,v)}catch{}return v})},Ne.prototype.delete=function(r){var i=this;return this._trans("readwrite",function(s){return i.core.mutate({trans:s,type:"delete",keys:[r]}).then(function(c){return $r(i,[r],c)}).then(function(c){return c.numFailures?G.reject(c.failures[0]):void 0})})},Ne.prototype.clear=function(){var r=this;return this._trans("readwrite",function(i){return r.core.mutate({trans:i,type:"deleteRange",range:ma}).then(function(s){return $r(r,null,s)})}).then(function(i){return i.numFailures?G.reject(i.failures[0]):void 0})},Ne.prototype.bulkGet=function(r){var i=this;return this._trans("readonly",function(s){return i.core.getMany({keys:r,trans:s}).then(function(c){return c.map(function(f){return i.hook.reading.fire(f)})})})},Ne.prototype.bulkAdd=function(r,i,s){var c=this,f=Array.isArray(i)?i:void 0,p=(s=s||(f?void 0:i))?s.allKeys:void 0;return this._trans("readwrite",function(m){var x=c.schema.primKey,v=x.auto,x=x.keyPath;if(x&&f)throw new re.InvalidArgument("bulkAdd(): keys argument invalid on tables with inbound keys");if(f&&f.length!==r.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var _=r.length,x=x&&v?r.map(Br(x)):r;return c.core.mutate({trans:m,type:"add",keys:f,values:x,wantResults:p}).then(function(k){var b=k.numFailures,P=k.results,S=k.lastResult,k=k.failures;if(b===0)return p?P:S;throw new Dt("".concat(c.name,".bulkAdd(): ").concat(b," of ").concat(_," operations failed"),k)})})},Ne.prototype.bulkPut=function(r,i,s){var c=this,f=Array.isArray(i)?i:void 0,p=(s=s||(f?void 0:i))?s.allKeys:void 0;return this._trans("readwrite",function(m){var x=c.schema.primKey,v=x.auto,x=x.keyPath;if(x&&f)throw new re.InvalidArgument("bulkPut(): keys argument invalid on tables with inbound keys");if(f&&f.length!==r.length)throw new re.InvalidArgument("Arguments objects and keys must have the same length");var _=r.length,x=x&&v?r.map(Br(x)):r;return c.core.mutate({trans:m,type:"put",keys:f,values:x,wantResults:p}).then(function(k){var b=k.numFailures,P=k.results,S=k.lastResult,k=k.failures;if(b===0)return p?P:S;throw new Dt("".concat(c.name,".bulkPut(): ").concat(b," of ").concat(_," operations failed"),k)})})},Ne.prototype.bulkUpdate=function(r){var i=this,s=this.core,c=r.map(function(m){return m.key}),f=r.map(function(m){return m.changes}),p=[];return this._trans("readwrite",function(m){return s.getMany({trans:m,keys:c,cache:"clone"}).then(function(v){var _=[],x=[];r.forEach(function(b,P){var S=b.key,k=b.changes,E=v[P];if(E){for(var O=0,D=Object.keys(k);O<D.length;O++){var A=D[O],T=k[A];if(A===i.schema.primKey.keyPath){if(ke(T,S)!==0)throw new re.Constraint("Cannot update primary key in bulkUpdate()")}else Z(E,A,T)}p.push(P),_.push(S),x.push(E)}});var C=_.length;return s.mutate({trans:m,type:"put",keys:_,values:x,updates:{keys:c,changeSpecs:f}}).then(function(b){var P=b.numFailures,S=b.failures;if(P===0)return C;for(var k=0,E=Object.keys(S);k<E.length;k++){var O,D=E[k],A=p[Number(D)];A!=null&&(O=S[D],delete S[D],S[A]=O)}throw new Dt("".concat(i.name,".bulkUpdate(): ").concat(P," of ").concat(C," operations failed"),S)})})})},Ne.prototype.bulkDelete=function(r){var i=this,s=r.length;return this._trans("readwrite",function(c){return i.core.mutate({trans:c,type:"delete",keys:r}).then(function(f){return $r(i,r,f)})}).then(function(m){var f=m.numFailures,p=m.lastResult,m=m.failures;if(f===0)return p;throw new Dt("".concat(i.name,".bulkDelete(): ").concat(f," of ").concat(s," operations failed"),m)})},Ne);function Ne(){}function nr(r){function i(m,v){if(v){for(var _=arguments.length,x=new Array(_-1);--_;)x[_-1]=arguments[_];return s[m].subscribe.apply(null,x),r}if(typeof m=="string")return s[m]}var s={};i.addEventType=p;for(var c=1,f=arguments.length;c<f;++c)p(arguments[c]);return i;function p(m,v,_){if(typeof m!="object"){var x;v=v||hu;var C={subscribers:[],fire:_=_||Oe,subscribe:function(b){C.subscribers.indexOf(b)===-1&&(C.subscribers.push(b),C.fire=v(C.fire,b))},unsubscribe:function(b){C.subscribers=C.subscribers.filter(function(P){return P!==b}),C.fire=C.subscribers.reduce(v,_)}};return s[m]=i[m]=C}u(x=m).forEach(function(b){var P=x[b];if(d(P))p(b,x[b][0],x[b][1]);else{if(P!=="asap")throw new re.InvalidArgument("Invalid event config");var S=p(b,Zn,function(){for(var k=arguments.length,E=new Array(k);k--;)E[k]=arguments[k];S.subscribers.forEach(function(O){ne(function(){O.apply(null,E)})})})}})}}function rr(r,i){return F(i).from({prototype:r}),i}function On(r,i){return!(r.filter||r.algorithm||r.or)&&(i?r.justLimit:!r.replayFilter)}function Ho(r,i){r.filter=ln(r.filter,i)}function Wo(r,i,s){var c=r.replayFilter;r.replayFilter=c?function(){return ln(c(),i())}:i,r.justLimit=s&&!c}function zr(r,i){if(r.isPrimKey)return i.primaryKey;var s=i.getIndexByKeyPath(r.index);if(!s)throw new re.Schema("KeyPath "+r.index+" on object store "+i.name+" is not indexed");return s}function Sa(r,i,s){var c=zr(r,i.schema);return i.openCursor({trans:s,values:!r.keysOnly,reverse:r.dir==="prev",unique:!!r.unique,query:{index:c,range:r.range}})}function qr(r,i,s,c){var f=r.replayFilter?ln(r.filter,r.replayFilter()):r.filter;if(r.or){var p={},m=function(v,_,x){var C,b;f&&!f(_,x,function(P){return _.stop(P)},function(P){return _.fail(P)})||((b=""+(C=_.primaryKey))=="[object ArrayBuffer]"&&(b=""+new Uint8Array(C)),y(p,b)||(p[b]=!0,i(v,_,x)))};return Promise.all([r.or._iterate(m,s),ka(Sa(r,c,s),r.algorithm,m,!r.keysOnly&&r.valueMapper)])}return ka(Sa(r,c,s),ln(r.algorithm,f),i,!r.keysOnly&&r.valueMapper)}function ka(r,i,s,c){var f=Le(c?function(p,m,v){return s(c(p),m,v)}:s);return r.then(function(p){if(p)return p.start(function(){var m=function(){return p.continue()};i&&!i(p,function(v){return m=v},function(v){p.stop(v),m=Oe},function(v){p.fail(v),m=Oe})||f(p.value,p,function(v){return m=v}),m()})})}var bu=(De.prototype._read=function(r,i){var s=this._ctx;return s.error?s.table._trans(null,qe.bind(null,s.error)):s.table._trans("readonly",r).then(i)},De.prototype._write=function(r){var i=this._ctx;return i.error?i.table._trans(null,qe.bind(null,i.error)):i.table._trans("readwrite",r,"locked")},De.prototype._addAlgorithm=function(r){var i=this._ctx;i.algorithm=ln(i.algorithm,r)},De.prototype._iterate=function(r,i){return qr(this._ctx,r,i,this._ctx.table.core)},De.prototype.clone=function(r){var i=Object.create(this.constructor.prototype),s=Object.create(this._ctx);return r&&h(s,r),i._ctx=s,i},De.prototype.raw=function(){return this._ctx.valueMapper=null,this},De.prototype.each=function(r){var i=this._ctx;return this._read(function(s){return qr(i,r,s,i.table.core)})},De.prototype.count=function(r){var i=this;return this._read(function(s){var c=i._ctx,f=c.table.core;if(On(c,!0))return f.count({trans:s,query:{index:zr(c,f.schema),range:c.range}}).then(function(m){return Math.min(m,c.limit)});var p=0;return qr(c,function(){return++p,!1},s,f).then(function(){return p})}).then(r)},De.prototype.sortBy=function(r,i){var s=r.split(".").reverse(),c=s[0],f=s.length-1;function p(_,x){return x?p(_[s[x]],x-1):_[c]}var m=this._ctx.dir==="next"?1:-1;function v(_,x){return ke(p(_,f),p(x,f))*m}return this.toArray(function(_){return _.sort(v)}).then(i)},De.prototype.toArray=function(r){var i=this;return this._read(function(s){var c=i._ctx;if(c.dir==="next"&&On(c,!0)&&0<c.limit){var f=c.valueMapper,p=zr(c,c.table.core.schema);return c.table.core.query({trans:s,limit:c.limit,values:!0,query:{index:p,range:c.range}}).then(function(v){return v=v.result,f?v.map(f):v})}var m=[];return qr(c,function(v){return m.push(v)},s,c.table.core).then(function(){return m})},r)},De.prototype.offset=function(r){var i=this._ctx;return r<=0||(i.offset+=r,On(i)?Wo(i,function(){var s=r;return function(c,f){return s===0||(s===1?--s:f(function(){c.advance(s),s=0}),!1)}}):Wo(i,function(){var s=r;return function(){return--s<0}})),this},De.prototype.limit=function(r){return this._ctx.limit=Math.min(this._ctx.limit,r),Wo(this._ctx,function(){var i=r;return function(s,c,f){return--i<=0&&c(f),0<=i}},!0),this},De.prototype.until=function(r,i){return Ho(this._ctx,function(s,c,f){return!r(s.value)||(c(f),i)}),this},De.prototype.first=function(r){return this.limit(1).toArray(function(i){return i[0]}).then(r)},De.prototype.last=function(r){return this.reverse().first(r)},De.prototype.filter=function(r){var i;return Ho(this._ctx,function(s){return r(s.value)}),(i=this._ctx).isMatch=ln(i.isMatch,r),this},De.prototype.and=function(r){return this.filter(r)},De.prototype.or=function(r){return new this.db.WhereClause(this._ctx.table,r,this)},De.prototype.reverse=function(){return this._ctx.dir=this._ctx.dir==="prev"?"next":"prev",this._ondirectionchange&&this._ondirectionchange(this._ctx.dir),this},De.prototype.desc=function(){return this.reverse()},De.prototype.eachKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(s,c){r(c.key,c)})},De.prototype.eachUniqueKey=function(r){return this._ctx.unique="unique",this.eachKey(r)},De.prototype.eachPrimaryKey=function(r){var i=this._ctx;return i.keysOnly=!i.isMatch,this.each(function(s,c){r(c.primaryKey,c)})},De.prototype.keys=function(r){var i=this._ctx;i.keysOnly=!i.isMatch;var s=[];return this.each(function(c,f){s.push(f.key)}).then(function(){return s}).then(r)},De.prototype.primaryKeys=function(r){var i=this._ctx;if(i.dir==="next"&&On(i,!0)&&0<i.limit)return this._read(function(c){var f=zr(i,i.table.core.schema);return i.table.core.query({trans:c,values:!1,limit:i.limit,query:{index:f,range:i.range}})}).then(function(c){return c.result}).then(r);i.keysOnly=!i.isMatch;var s=[];return this.each(function(c,f){s.push(f.primaryKey)}).then(function(){return s}).then(r)},De.prototype.uniqueKeys=function(r){return this._ctx.unique="unique",this.keys(r)},De.prototype.firstKey=function(r){return this.limit(1).keys(function(i){return i[0]}).then(r)},De.prototype.lastKey=function(r){return this.reverse().firstKey(r)},De.prototype.distinct=function(){var r=this._ctx,r=r.index&&r.table.schema.idxByName[r.index];if(!r||!r.multi)return this;var i={};return Ho(this._ctx,function(f){var c=f.primaryKey.toString(),f=y(i,c);return i[c]=!0,!f}),this},De.prototype.modify=function(r){var i=this,s=this._ctx;return this._write(function(c){var f=typeof r=="function"?r:function(E){return _a(E,r)},p=s.table.core,x=p.schema.primaryKey,m=x.outbound,v=x.extractKey,_=200,x=i.db._options.modifyChunkSize;x&&(_=typeof x=="object"?x[p.name]||x["*"]||200:x);function C(E,A){var D=A.failures,A=A.numFailures;P+=E-A;for(var T=0,j=u(D);T<j.length;T++){var $=j[T];b.push(D[$])}}var b=[],P=0,S=[],k=r===Ea;return i.clone().primaryKeys().then(function(E){function O(A){var T=Math.min(_,E.length-A),j=E.slice(A,A+T);return(k?Promise.resolve([]):p.getMany({trans:c,keys:j,cache:"immutable"})).then(function($){var V=[],M=[],z=m?[]:null,H=k?j:[];if(!k)for(var q=0;q<T;++q){var X=$[q],ve={value:ye(X),primKey:E[A+q]};f.call(ve,ve.value,ve)!==!1&&(ve.value==null?H.push(E[A+q]):m||ke(v(X),v(ve.value))===0?(M.push(ve.value),m&&z.push(E[A+q])):(H.push(E[A+q]),V.push(ve.value)))}return Promise.resolve(0<V.length&&p.mutate({trans:c,type:"add",values:V}).then(function(be){for(var xe in be.failures)H.splice(parseInt(xe),1);C(V.length,be)})).then(function(){return(0<M.length||D&&typeof r=="object")&&p.mutate({trans:c,type:"put",keys:z,values:M,criteria:D,changeSpec:typeof r!="function"&&r,isAdditionalChunk:0<A}).then(function(be){return C(M.length,be)})}).then(function(){return(0<H.length||D&&k)&&p.mutate({trans:c,type:"delete",keys:H,criteria:D,isAdditionalChunk:0<A}).then(function(be){return $r(s.table,H,be)}).then(function(be){return C(H.length,be)})}).then(function(){return E.length>A+T&&O(A+_)})})}var D=On(s)&&s.limit===1/0&&(typeof r!="function"||k)&&{index:s.index,range:s.range};return O(0).then(function(){if(0<b.length)throw new Pt("Error modifying one or more objects",b,P,S);return E.length})})})},De.prototype.delete=function(){var r=this._ctx,i=r.range;return!On(r)||r.table.schema.yProps||!r.isPrimKey&&i.type!==3?this.modify(Ea):this._write(function(s){var c=r.table.core.schema.primaryKey,f=i;return r.table.core.count({trans:s,query:{index:c,range:f}}).then(function(p){return r.table.core.mutate({trans:s,type:"deleteRange",range:f}).then(function(_){var v=_.failures,_=_.numFailures;if(_)throw new Pt("Could not delete some values",Object.keys(v).map(function(x){return v[x]}),p-_);return p-_})})})},De);function De(){}var Ea=function(r,i){return i.value=null};function wu(r,i){return r<i?-1:r===i?0:1}function _u(r,i){return i<r?-1:r===i?0:1}function dt(r,i,s){return r=r instanceof Oa?new r.Collection(r):r,r._ctx.error=new(s||TypeError)(i),r}function Pn(r){return new r.Collection(r,function(){return Ca("")}).limit(0)}function Ur(r,i,s,c){var f,p,m,v,_,x,C,b=s.length;if(!s.every(function(k){return typeof k=="string"}))return dt(r,ga);function P(k){f=k==="next"?function(O){return O.toUpperCase()}:function(O){return O.toLowerCase()},p=k==="next"?function(O){return O.toLowerCase()}:function(O){return O.toUpperCase()},m=k==="next"?wu:_u;var E=s.map(function(O){return{lower:p(O),upper:f(O)}}).sort(function(O,D){return m(O.lower,D.lower)});v=E.map(function(O){return O.upper}),_=E.map(function(O){return O.lower}),C=(x=k)==="next"?"":c}P("next"),r=new r.Collection(r,function(){return qt(v[0],_[b-1]+c)}),r._ondirectionchange=function(k){P(k)};var S=0;return r._addAlgorithm(function(k,E,O){var D=k.key;if(typeof D!="string")return!1;var A=p(D);if(i(A,_,S))return!0;for(var T=null,j=S;j<b;++j){var $=(function(V,M,z,H,q,X){for(var ve=Math.min(V.length,H.length),be=-1,xe=0;xe<ve;++xe){var ht=M[xe];if(ht!==H[xe])return q(V[xe],z[xe])<0?V.substr(0,xe)+z[xe]+z.substr(xe+1):q(V[xe],H[xe])<0?V.substr(0,xe)+H[xe]+z.substr(xe+1):0<=be?V.substr(0,be)+M[be]+z.substr(be+1):null;q(V[xe],ht)<0&&(be=xe)}return ve<H.length&&X==="next"?V+z.substr(V.length):ve<V.length&&X==="prev"?V.substr(0,z.length):be<0?null:V.substr(0,be)+H[be]+z.substr(be+1)})(D,A,v[j],_[j],m,x);$===null&&T===null?S=j+1:(T===null||0<m(T,$))&&(T=$)}return E(T!==null?function(){k.continue(T+C)}:O),!1}),r}function qt(r,i,s,c){return{type:2,lower:r,upper:i,lowerOpen:s,upperOpen:c}}function Ca(r){return{type:1,lower:r,upper:r}}var Oa=(Object.defineProperty(Ze.prototype,"Collection",{get:function(){return this._ctx.table.db.Collection},enumerable:!1,configurable:!0}),Ze.prototype.between=function(r,i,s,c){s=s!==!1,c=c===!0;try{return 0<this._cmp(r,i)||this._cmp(r,i)===0&&(s||c)&&(!s||!c)?Pn(this):new this.Collection(this,function(){return qt(r,i,!s,!c)})}catch{return dt(this,At)}},Ze.prototype.equals=function(r){return r==null?dt(this,At):new this.Collection(this,function(){return Ca(r)})},Ze.prototype.above=function(r){return r==null?dt(this,At):new this.Collection(this,function(){return qt(r,void 0,!0)})},Ze.prototype.aboveOrEqual=function(r){return r==null?dt(this,At):new this.Collection(this,function(){return qt(r,void 0,!1)})},Ze.prototype.below=function(r){return r==null?dt(this,At):new this.Collection(this,function(){return qt(void 0,r,!1,!0)})},Ze.prototype.belowOrEqual=function(r){return r==null?dt(this,At):new this.Collection(this,function(){return qt(void 0,r)})},Ze.prototype.startsWith=function(r){return typeof r!="string"?dt(this,ga):this.between(r,r+sn,!0,!0)},Ze.prototype.startsWithIgnoreCase=function(r){return r===""?this.startsWith(r):Ur(this,function(i,s){return i.indexOf(s[0])===0},[r],sn)},Ze.prototype.equalsIgnoreCase=function(r){return Ur(this,function(i,s){return i===s[0]},[r],"")},Ze.prototype.anyOfIgnoreCase=function(){var r=et.apply(ze,arguments);return r.length===0?Pn(this):Ur(this,function(i,s){return s.indexOf(i)!==-1},r,"")},Ze.prototype.startsWithAnyOfIgnoreCase=function(){var r=et.apply(ze,arguments);return r.length===0?Pn(this):Ur(this,function(i,s){return s.some(function(c){return i.indexOf(c)===0})},r,sn)},Ze.prototype.anyOf=function(){var r=this,i=et.apply(ze,arguments),s=this._cmp;try{i.sort(s)}catch{return dt(this,At)}if(i.length===0)return Pn(this);var c=new this.Collection(this,function(){return qt(i[0],i[i.length-1])});c._ondirectionchange=function(p){s=p==="next"?r._ascending:r._descending,i.sort(s)};var f=0;return c._addAlgorithm(function(p,m,v){for(var _=p.key;0<s(_,i[f]);)if(++f===i.length)return m(v),!1;return s(_,i[f])===0||(m(function(){p.continue(i[f])}),!1)}),c},Ze.prototype.notEqual=function(r){return this.inAnyRange([[-1/0,r],[r,this.db._maxKey]],{includeLowers:!1,includeUppers:!1})},Ze.prototype.noneOf=function(){var r=et.apply(ze,arguments);if(r.length===0)return new this.Collection(this);try{r.sort(this._ascending)}catch{return dt(this,At)}var i=r.reduce(function(s,c){return s?s.concat([[s[s.length-1][1],c]]):[[-1/0,c]]},null);return i.push([r[r.length-1],this.db._maxKey]),this.inAnyRange(i,{includeLowers:!1,includeUppers:!1})},Ze.prototype.inAnyRange=function(D,i){var s=this,c=this._cmp,f=this._ascending,p=this._descending,m=this._min,v=this._max;if(D.length===0)return Pn(this);if(!D.every(function(A){return A[0]!==void 0&&A[1]!==void 0&&f(A[0],A[1])<=0}))return dt(this,"First argument to inAnyRange() must be an Array of two-value Arrays [lower,upper] where upper must not be lower than lower",re.InvalidArgument);var _=!i||i.includeLowers!==!1,x=i&&i.includeUppers===!0,C,b=f;function P(A,T){return b(A[0],T[0])}try{(C=D.reduce(function(A,T){for(var j=0,$=A.length;j<$;++j){var V=A[j];if(c(T[0],V[1])<0&&0<c(T[1],V[0])){V[0]=m(V[0],T[0]),V[1]=v(V[1],T[1]);break}}return j===$&&A.push(T),A},[])).sort(P)}catch{return dt(this,At)}var S=0,k=x?function(A){return 0<f(A,C[S][1])}:function(A){return 0<=f(A,C[S][1])},E=_?function(A){return 0<p(A,C[S][0])}:function(A){return 0<=p(A,C[S][0])},O=k,D=new this.Collection(this,function(){return qt(C[0][0],C[C.length-1][1],!_,!x)});return D._ondirectionchange=function(A){b=A==="next"?(O=k,f):(O=E,p),C.sort(P)},D._addAlgorithm(function(A,T,j){for(var $,V=A.key;O(V);)if(++S===C.length)return T(j),!1;return!k($=V)&&!E($)||(s._cmp(V,C[S][1])===0||s._cmp(V,C[S][0])===0||T(function(){b===f?A.continue(C[S][0]):A.continue(C[S][1])}),!1)}),D},Ze.prototype.startsWithAnyOf=function(){var r=et.apply(ze,arguments);return r.every(function(i){return typeof i=="string"})?r.length===0?Pn(this):this.inAnyRange(r.map(function(i){return[i,i+sn]})):dt(this,"startsWithAnyOf() only works with strings")},Ze);function Ze(){}function St(r){return Le(function(i){return or(i),r(i.target.error),!1})}function or(r){r.stopPropagation&&r.stopPropagation(),r.preventDefault&&r.preventDefault()}var ir="storagemutated",Go="x-storagemutated-1",Ut=nr(null,ir),xu=(kt.prototype._lock=function(){return se(!ae.global),++this._reculock,this._reculock!==1||ae.global||(ae.lockOwnerFor=this),this},kt.prototype._unlock=function(){if(se(!ae.global),--this._reculock==0)for(ae.global||(ae.lockOwnerFor=null);0<this._blockedFuncs.length&&!this._locked();){var r=this._blockedFuncs.shift();try{an(r[1],r[0])}catch{}}return this},kt.prototype._locked=function(){return this._reculock&&ae.lockOwnerFor!==this},kt.prototype.create=function(r){var i=this;if(!this.mode)return this;var s=this.db.idbdb,c=this.db._state.dbOpenError;if(se(!this.idbtrans),!r&&!s)switch(c&&c.name){case"DatabaseClosedError":throw new re.DatabaseClosed(c);case"MissingAPIError":throw new re.MissingAPI(c.message,c);default:throw new re.OpenFailed(c)}if(!this.active)throw new re.TransactionInactive;return se(this._completion._state===null),(r=this.idbtrans=r||(this.db.core||s).transaction(this.storeNames,this.mode,{durability:this.chromeTransactionDurability})).onerror=Le(function(f){or(f),i._reject(r.error)}),r.onabort=Le(function(f){or(f),i.active&&i._reject(new re.Abort(r.error)),i.active=!1,i.on("abort").fire(f)}),r.oncomplete=Le(function(){i.active=!1,i._resolve(),"mutatedParts"in r&&Ut.storagemutated.fire(r.mutatedParts)}),this},kt.prototype._promise=function(r,i,s){var c=this;if(r==="readwrite"&&this.mode!=="readwrite")return qe(new re.ReadOnly("Transaction is readonly"));if(!this.active)return qe(new re.TransactionInactive);if(this._locked())return new G(function(p,m){c._blockedFuncs.push([function(){c._promise(r,i,s).then(p,m)},ae])});if(s)return Bt(function(){var p=new G(function(m,v){c._lock();var _=i(m,v,c);_&&_.then&&_.then(m,v)});return p.finally(function(){return c._unlock()}),p._lib=!0,p});var f=new G(function(p,m){var v=i(p,m,c);v&&v.then&&v.then(p,m)});return f._lib=!0,f},kt.prototype._root=function(){return this.parent?this.parent._root():this},kt.prototype.waitFor=function(r){var i,s=this._root(),c=G.resolve(r);s._waitingFor?s._waitingFor=s._waitingFor.then(function(){return c}):(s._waitingFor=c,s._waitingQueue=[],i=s.idbtrans.objectStore(s.storeNames[0]),(function p(){for(++s._spinCount;s._waitingQueue.length;)s._waitingQueue.shift()();s._waitingFor&&(i.get(-1/0).onsuccess=p)})());var f=s._waitingFor;return new G(function(p,m){c.then(function(v){return s._waitingQueue.push(Le(p.bind(null,v)))},function(v){return s._waitingQueue.push(Le(m.bind(null,v)))}).finally(function(){s._waitingFor===f&&(s._waitingFor=null)})})},kt.prototype.abort=function(){this.active&&(this.active=!1,this.idbtrans&&this.idbtrans.abort(),this._reject(new re.Abort))},kt.prototype.table=function(r){var i=this._memoizedTables||(this._memoizedTables={});if(y(i,r))return i[r];var s=this.schema[r];if(!s)throw new re.NotFound("Table "+r+" not part of transaction");return s=new this.db.Table(r,s,this),s.core=this.db.core.table(r),i[r]=s},kt);function kt(){}function Yo(r,i,s,c,f,p,m,v){return{name:r,keyPath:i,unique:s,multi:c,auto:f,compound:p,src:(s&&!m?"&":"")+(c?"*":"")+(f?"++":"")+Pa(i),type:v}}function Pa(r){return typeof r=="string"?r:r?"["+[].join.call(r,"+")+"]":""}function Zo(r,i,s){return{name:r,primKey:i,indexes:s,mappedClass:null,idxByName:(c=function(f){return[f.name,f]},s.reduce(function(f,p,m){return m=c(p,m),m&&(f[m[0]]=m[1]),f},{}))};var c}var ar=function(r){try{return r.only([[]]),ar=function(){return[[]]},[[]]}catch{return ar=function(){return sn},sn}};function Xo(r){return r==null?function(){}:typeof r=="string"?(i=r).split(".").length===1?function(s){return s[i]}:function(s){return K(s,i)}:function(s){return K(s,r)};var i}function Da(r){return[].slice.call(r)}var Su=0;function sr(r){return r==null?":id":typeof r=="string"?r:"[".concat(r.join("+"),"]")}function ku(r,i,_){function c(O){if(O.type===3)return null;if(O.type===4)throw new Error("Cannot convert never type to IDBKeyRange");var S=O.lower,k=O.upper,E=O.lowerOpen,O=O.upperOpen;return S===void 0?k===void 0?null:i.upperBound(k,!!O):k===void 0?i.lowerBound(S,!!E):i.bound(S,k,!!E,!!O)}function f(P){var S,k=P.name;return{name:k,schema:P,mutate:function(E){var O=E.trans,D=E.type,A=E.keys,T=E.values,j=E.range;return new Promise(function($,V){$=Le($);var M=O.objectStore(k),z=M.keyPath==null,H=D==="put"||D==="add";if(!H&&D!=="delete"&&D!=="deleteRange")throw new Error("Invalid operation type: "+D);var q,X=(A||T||{length:1}).length;if(A&&T&&A.length!==T.length)throw new Error("Given keys array must have same length as given values array.");if(X===0)return $({numFailures:0,failures:{},results:[],lastResult:void 0});function ve(at){++ht,or(at)}var be=[],xe=[],ht=0;if(D==="deleteRange"){if(j.type===4)return $({numFailures:ht,failures:xe,results:[],lastResult:void 0});j.type===3?be.push(q=M.clear()):be.push(q=M.delete(c(j)))}else{var z=H?z?[T,A]:[T,null]:[A,null],me=z[0],nt=z[1];if(H)for(var rt=0;rt<X;++rt)be.push(q=nt&&nt[rt]!==void 0?M[D](me[rt],nt[rt]):M[D](me[rt])),q.onerror=ve;else for(rt=0;rt<X;++rt)be.push(q=M[D](me[rt])),q.onerror=ve}function no(at){at=at.target.result,be.forEach(function(fn,gi){return fn.error!=null&&(xe[gi]=fn.error)}),$({numFailures:ht,failures:xe,results:D==="delete"?A:be.map(function(fn){return fn.result}),lastResult:at})}q.onerror=function(at){ve(at),no(at)},q.onsuccess=no})},getMany:function(E){var O=E.trans,D=E.keys;return new Promise(function(A,T){A=Le(A);for(var j,$=O.objectStore(k),V=D.length,M=new Array(V),z=0,H=0,q=function(be){be=be.target,M[be._pos]=be.result,++H===z&&A(M)},X=St(T),ve=0;ve<V;++ve)D[ve]!=null&&((j=$.get(D[ve]))._pos=ve,j.onsuccess=q,j.onerror=X,++z);z===0&&A(M)})},get:function(E){var O=E.trans,D=E.key;return new Promise(function(A,T){A=Le(A);var j=O.objectStore(k).get(D);j.onsuccess=function($){return A($.target.result)},j.onerror=St(T)})},query:(S=x,function(E){return new Promise(function(O,D){O=Le(O);var A,T,j,z=E.trans,$=E.values,V=E.limit,q=E.query,M=V===1/0?void 0:V,H=q.index,q=q.range,z=z.objectStore(k),H=H.isPrimaryKey?z:z.index(H.name),q=c(q);if(V===0)return O({result:[]});S?((M=$?H.getAll(q,M):H.getAllKeys(q,M)).onsuccess=function(X){return O({result:X.target.result})},M.onerror=St(D)):(A=0,T=!$&&"openKeyCursor"in H?H.openKeyCursor(q):H.openCursor(q),j=[],T.onsuccess=function(X){var ve=T.result;return ve?(j.push($?ve.value:ve.primaryKey),++A===V?O({result:j}):void ve.continue()):O({result:j})},T.onerror=St(D))})}),openCursor:function(E){var O=E.trans,D=E.values,A=E.query,T=E.reverse,j=E.unique;return new Promise(function($,V){$=Le($);var H=A.index,M=A.range,z=O.objectStore(k),z=H.isPrimaryKey?z:z.index(H.name),H=T?j?"prevunique":"prev":j?"nextunique":"next",q=!D&&"openKeyCursor"in z?z.openKeyCursor(c(M),H):z.openCursor(c(M),H);q.onerror=St(V),q.onsuccess=Le(function(X){var ve,be,xe,ht,me=q.result;me?(me.___id=++Su,me.done=!1,ve=me.continue.bind(me),be=(be=me.continuePrimaryKey)&&be.bind(me),xe=me.advance.bind(me),ht=function(){throw new Error("Cursor not stopped")},me.trans=O,me.stop=me.continue=me.continuePrimaryKey=me.advance=function(){throw new Error("Cursor not started")},me.fail=Le(V),me.next=function(){var nt=this,rt=1;return this.start(function(){return rt--?nt.continue():nt.stop()}).then(function(){return nt})},me.start=function(nt){function rt(){if(q.result)try{nt()}catch(at){me.fail(at)}else me.done=!0,me.start=function(){throw new Error("Cursor behind last entry")},me.stop()}var no=new Promise(function(at,fn){at=Le(at),q.onerror=St(fn),me.fail=fn,me.stop=function(gi){me.stop=me.continue=me.continuePrimaryKey=me.advance=ht,at(gi)}});return q.onsuccess=Le(function(at){q.onsuccess=rt,rt()}),me.continue=ve,me.continuePrimaryKey=be,me.advance=xe,rt(),no},$(me)):$(null)},V)})},count:function(E){var O=E.query,D=E.trans,A=O.index,T=O.range;return new Promise(function(j,$){var V=D.objectStore(k),M=A.isPrimaryKey?V:V.index(A.name),V=c(T),M=V?M.count(V):M.count();M.onsuccess=Le(function(z){return j(z.target.result)}),M.onerror=St($)})}}}var p,m,v,C=(m=_,v=Da((p=r).objectStoreNames),{schema:{name:p.name,tables:v.map(function(P){return m.objectStore(P)}).map(function(P){var S=P.keyPath,O=P.autoIncrement,k=d(S),E={},O={name:P.name,primaryKey:{name:null,isPrimaryKey:!0,outbound:S==null,compound:k,keyPath:S,autoIncrement:O,unique:!0,extractKey:Xo(S)},indexes:Da(P.indexNames).map(function(D){return P.index(D)}).map(function(j){var A=j.name,T=j.unique,$=j.multiEntry,j=j.keyPath,$={name:A,compound:d(j),keyPath:j,unique:T,multiEntry:$,extractKey:Xo(j)};return E[sr(j)]=$}),getIndexByKeyPath:function(D){return E[sr(D)]}};return E[":id"]=O.primaryKey,S!=null&&(E[sr(S)]=O.primaryKey),O})},hasGetAll:0<v.length&&"getAll"in m.objectStore(v[0])&&!(typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604)}),_=C.schema,x=C.hasGetAll,C=_.tables.map(f),b={};return C.forEach(function(P){return b[P.name]=P}),{stack:"dbcore",transaction:r.transaction.bind(r),table:function(P){if(!b[P])throw new Error("Table '".concat(P,"' not found"));return b[P]},MIN_KEY:-1/0,MAX_KEY:ar(i),schema:_}}function Eu(r,i,s,c){var f=s.IDBKeyRange;return s.indexedDB,{dbcore:(c=ku(i,f,c),r.dbcore.reduce(function(p,m){return m=m.create,o(o({},p),m(p))},c))}}function Vr(r,c){var s=c.db,c=Eu(r._middlewares,s,r._deps,c);r.core=c.dbcore,r.tables.forEach(function(f){var p=f.name;r.core.schema.tables.some(function(m){return m.name===p})&&(f.core=r.core.table(p),r[p]instanceof r.Table&&(r[p].core=f.core))})}function Hr(r,i,s,c){s.forEach(function(f){var p=c[f];i.forEach(function(m){var v=(function _(x,C){return oe(x,C)||(x=g(x))&&_(x,C)})(m,f);(!v||"value"in v&&v.value===void 0)&&(m===r.Transaction.prototype||m instanceof r.Transaction?N(m,f,{get:function(){return this.table(f)},set:function(_){R(this,f,{value:_,writable:!0,configurable:!0,enumerable:!0})}}):m[f]=new r.Table(f,p))})})}function Qo(r,i){i.forEach(function(s){for(var c in s)s[c]instanceof r.Table&&delete s[c]})}function Cu(r,i){return r._cfg.version-i._cfg.version}function Ou(r,i,s,c){var f=r._dbSchema;s.objectStoreNames.contains("$meta")&&!f.$meta&&(f.$meta=Zo("$meta",Ia("")[0],[]),r._storeNames.push("$meta"));var p=r._createTransaction("readwrite",r._storeNames,f);p.create(s),p._completion.catch(c);var m=p._reject.bind(p),v=ae.transless||ae;Bt(function(){return ae.trans=p,ae.transless=v,i!==0?(Vr(r,s),x=i,((_=p).storeNames.includes("$meta")?_.table("$meta").get("version").then(function(C){return C??x}):G.resolve(x)).then(function(C){return P=C,S=p,k=s,E=[],C=(b=r)._versions,O=b._dbSchema=Gr(0,b.idbdb,k),(C=C.filter(function(D){return D._cfg.version>=P})).length!==0?(C.forEach(function(D){E.push(function(){var A=O,T=D._cfg.dbschema;Yr(b,A,k),Yr(b,T,k),O=b._dbSchema=T;var j=Jo(A,T);j.add.forEach(function(H){ei(k,H[0],H[1].primKey,H[1].indexes)}),j.change.forEach(function(H){if(H.recreate)throw new re.Upgrade("Not yet support for changing primary key");var q=k.objectStore(H.name);H.add.forEach(function(X){return Wr(q,X)}),H.change.forEach(function(X){q.deleteIndex(X.name),Wr(q,X)}),H.del.forEach(function(X){return q.deleteIndex(X)})});var $=D._cfg.contentUpgrade;if($&&D._cfg.version>P){Vr(b,k),S._memoizedTables={};var V=B(T);j.del.forEach(function(H){V[H]=A[H]}),Qo(b,[b.Transaction.prototype]),Hr(b,[b.Transaction.prototype],u(V),V),S.schema=V;var M,z=Fe($);return z&&En(),j=G.follow(function(){var H;(M=$(S))&&z&&(H=$t.bind(null,null),M.then(H,H))}),M&&typeof M.then=="function"?G.resolve(M):j.then(function(){return M})}}),E.push(function(A){var T,j,$=D._cfg.dbschema;T=$,j=A,[].slice.call(j.db.objectStoreNames).forEach(function(V){return T[V]==null&&j.db.deleteObjectStore(V)}),Qo(b,[b.Transaction.prototype]),Hr(b,[b.Transaction.prototype],b._storeNames,b._dbSchema),S.schema=b._dbSchema}),E.push(function(A){b.idbdb.objectStoreNames.contains("$meta")&&(Math.ceil(b.idbdb.version/10)===D._cfg.version?(b.idbdb.deleteObjectStore("$meta"),delete b._dbSchema.$meta,b._storeNames=b._storeNames.filter(function(T){return T!=="$meta"})):A.objectStore("$meta").put(D._cfg.version,"version"))})}),(function D(){return E.length?G.resolve(E.shift()(S.idbtrans)).then(D):G.resolve()})().then(function(){Aa(O,k)})):G.resolve();var b,P,S,k,E,O}).catch(m)):(u(f).forEach(function(C){ei(s,C,f[C].primKey,f[C].indexes)}),Vr(r,s),void G.follow(function(){return r.on.populate.fire(p)}).catch(m));var _,x})}function Pu(r,i){Aa(r._dbSchema,i),i.db.version%10!=0||i.objectStoreNames.contains("$meta")||i.db.createObjectStore("$meta").add(Math.ceil(i.db.version/10-1),"version");var s=Gr(0,r.idbdb,i);Yr(r,r._dbSchema,i);for(var c=0,f=Jo(s,r._dbSchema).change;c<f.length;c++){var p=(function(m){if(m.change.length||m.recreate)return console.warn("Unable to patch indexes of table ".concat(m.name," because it has changes on the type of index or primary key.")),{value:void 0};var v=i.objectStore(m.name);m.add.forEach(function(_){xt&&console.debug("Dexie upgrade patch: Creating missing index ".concat(m.name,".").concat(_.src)),Wr(v,_)})})(f[c]);if(typeof p=="object")return p.value}}function Jo(r,i){var s,c={del:[],add:[],change:[]};for(s in r)i[s]||c.del.push(s);for(s in i){var f=r[s],p=i[s];if(f){var m={name:s,def:p,recreate:!1,del:[],add:[],change:[]};if(""+(f.primKey.keyPath||"")!=""+(p.primKey.keyPath||"")||f.primKey.auto!==p.primKey.auto)m.recreate=!0,c.change.push(m);else{var v=f.idxByName,_=p.idxByName,x=void 0;for(x in v)_[x]||m.del.push(x);for(x in _){var C=v[x],b=_[x];C?C.src!==b.src&&m.change.push(b):m.add.push(b)}(0<m.del.length||0<m.add.length||0<m.change.length)&&c.change.push(m)}}else c.add.push([s,p])}return c}function ei(r,i,s,c){var f=r.db.createObjectStore(i,s.keyPath?{keyPath:s.keyPath,autoIncrement:s.auto}:{autoIncrement:s.auto});return c.forEach(function(p){return Wr(f,p)}),f}function Aa(r,i){u(r).forEach(function(s){i.db.objectStoreNames.contains(s)||(xt&&console.debug("Dexie: Creating missing table",s),ei(i,s,r[s].primKey,r[s].indexes))})}function Wr(r,i){r.createIndex(i.name,i.keyPath,{unique:i.unique,multiEntry:i.multi})}function Gr(r,i,s){var c={};return ee(i.objectStoreNames,0).forEach(function(f){for(var p=s.objectStore(f),m=Yo(Pa(x=p.keyPath),x||"",!0,!1,!!p.autoIncrement,x&&typeof x!="string",!0),v=[],_=0;_<p.indexNames.length;++_){var C=p.index(p.indexNames[_]),x=C.keyPath,C=Yo(C.name,x,!!C.unique,!!C.multiEntry,!1,x&&typeof x!="string",!1);v.push(C)}c[f]=Zo(f,m,v)}),c}function Yr(r,i,s){for(var c=s.db.objectStoreNames,f=0;f<c.length;++f){var p=c[f],m=s.objectStore(p);r._hasGetAll="getAll"in m;for(var v=0;v<m.indexNames.length;++v){var _=m.indexNames[v],x=m.index(_).keyPath,C=typeof x=="string"?x:"["+ee(x).join("+")+"]";!i[p]||(x=i[p].idxByName[C])&&(x.name=_,delete i[p].idxByName[C],i[p].idxByName[_]=x)}}typeof navigator<"u"&&/Safari/.test(navigator.userAgent)&&!/(Chrome\/|Edge\/)/.test(navigator.userAgent)&&l.WorkerGlobalScope&&l instanceof l.WorkerGlobalScope&&[].concat(navigator.userAgent.match(/Safari\/(\d*)/))[1]<604&&(r._hasGetAll=!1)}function Ia(r){return r.split(",").map(function(i,s){var p=i.split(":"),c=(f=p[1])===null||f===void 0?void 0:f.trim(),f=(i=p[0].trim()).replace(/([&*]|\+\+)/g,""),p=/^\[/.test(f)?f.match(/^\[(.*)\]$/)[1].split("+"):f;return Yo(f,p||null,/\&/.test(i),/\*/.test(i),/\+\+/.test(i),d(p),s===0,c)})}var Du=(Dn.prototype._createTableSchema=Zo,Dn.prototype._parseIndexSyntax=Ia,Dn.prototype._parseStoresSpec=function(r,i){var s=this;u(r).forEach(function(c){if(r[c]!==null){var f=s._parseIndexSyntax(r[c]),p=f.shift();if(!p)throw new re.Schema("Invalid schema for table "+c+": "+r[c]);if(p.unique=!0,p.multi)throw new re.Schema("Primary key cannot be multiEntry*");f.forEach(function(m){if(m.auto)throw new re.Schema("Only primary key can be marked as autoIncrement (++)");if(!m.keyPath)throw new re.Schema("Index must have a name and cannot be an empty string")}),f=s._createTableSchema(c,p,f),i[c]=f}})},Dn.prototype.stores=function(s){var i=this.db;this._cfg.storesSource=this._cfg.storesSource?h(this._cfg.storesSource,s):s;var s=i._versions,c={},f={};return s.forEach(function(p){h(c,p._cfg.storesSource),f=p._cfg.dbschema={},p._parseStoresSpec(c,f)}),i._dbSchema=f,Qo(i,[i._allTables,i,i.Transaction.prototype]),Hr(i,[i._allTables,i,i.Transaction.prototype,this._cfg.tables],u(f),f),i._storeNames=u(f),this},Dn.prototype.upgrade=function(r){return this._cfg.contentUpgrade=Lo(this._cfg.contentUpgrade||Oe,r),this},Dn);function Dn(){}function ti(r,i){var s=r._dbNamesDB;return s||(s=r._dbNamesDB=new It(Kr,{addons:[],indexedDB:r,IDBKeyRange:i})).version(1).stores({dbnames:"name"}),s.table("dbnames")}function ni(r){return r&&typeof r.databases=="function"}function ri(r){return Bt(function(){return ae.letThrough=!0,r()})}function oi(r){return!("from"in r)}var tt=function(r,i){if(!this){var s=new tt;return r&&"d"in r&&h(s,r),s}h(this,arguments.length?{d:1,from:r,to:1<arguments.length?i:r}:{d:0})};function lr(r,i,s){var c=ke(i,s);if(!isNaN(c)){if(0<c)throw RangeError();if(oi(r))return h(r,{from:i,to:s,d:1});var f=r.l,c=r.r;if(ke(s,r.from)<0)return f?lr(f,i,s):r.l={from:i,to:s,d:1,l:null,r:null},Ra(r);if(0<ke(i,r.to))return c?lr(c,i,s):r.r={from:i,to:s,d:1,l:null,r:null},Ra(r);ke(i,r.from)<0&&(r.from=i,r.l=null,r.d=c?c.d+1:1),0<ke(s,r.to)&&(r.to=s,r.r=null,r.d=r.l?r.l.d+1:1),s=!r.r,f&&!r.l&&ur(r,f),c&&s&&ur(r,c)}}function ur(r,i){oi(i)||(function s(c,_){var p=_.from,m=_.to,v=_.l,_=_.r;lr(c,p,m),v&&s(c,v),_&&s(c,_)})(r,i)}function Ta(r,i){var s=Zr(i),c=s.next();if(c.done)return!1;for(var f=c.value,p=Zr(r),m=p.next(f.from),v=m.value;!c.done&&!m.done;){if(ke(v.from,f.to)<=0&&0<=ke(v.to,f.from))return!0;ke(f.from,v.from)<0?f=(c=s.next(v.from)).value:v=(m=p.next(f.from)).value}return!1}function Zr(r){var i=oi(r)?null:{s:0,n:r};return{next:function(s){for(var c=0<arguments.length;i;)switch(i.s){case 0:if(i.s=1,c)for(;i.n.l&&ke(s,i.n.from)<0;)i={up:i,n:i.n.l,s:1};else for(;i.n.l;)i={up:i,n:i.n.l,s:1};case 1:if(i.s=2,!c||ke(s,i.n.to)<=0)return{value:i.n,done:!1};case 2:if(i.n.r){i.s=3,i={up:i,n:i.n.r,s:0};continue}case 3:i=i.up}return{done:!0}}}}function Ra(r){var i,s,c=(((i=r.r)===null||i===void 0?void 0:i.d)||0)-(((s=r.l)===null||s===void 0?void 0:s.d)||0),f=1<c?"r":c<-1?"l":"";f&&(i=f=="r"?"l":"r",s=o({},r),c=r[f],r.from=c.from,r.to=c.to,r[f]=c[f],s[f]=c[i],(r[i]=s).d=Na(s)),r.d=Na(r)}function Na(s){var i=s.r,s=s.l;return(i?s?Math.max(i.d,s.d):i.d:s?s.d:0)+1}function Xr(r,i){return u(i).forEach(function(s){r[s]?ur(r[s],i[s]):r[s]=(function c(f){var p,m,v={};for(p in f)y(f,p)&&(m=f[p],v[p]=!m||typeof m!="object"||he.has(m.constructor)?m:c(m));return v})(i[s])}),r}function ii(r,i){return r.all||i.all||Object.keys(r).some(function(s){return i[s]&&Ta(i[s],r[s])})}I(tt.prototype,((mt={add:function(r){return ur(this,r),this},addKey:function(r){return lr(this,r,r),this},addKeys:function(r){var i=this;return r.forEach(function(s){return lr(i,s,s)}),this},hasKey:function(r){var i=Zr(this).next(r).value;return i&&ke(i.from,r)<=0&&0<=ke(i.to,r)}})[le]=function(){return Zr(this)},mt));var un={},ai={},si=!1;function Qr(r){Xr(ai,r),si||(si=!0,setTimeout(function(){si=!1,li(ai,!(ai={}))},0))}function li(r,i){i===void 0&&(i=!1);var s=new Set;if(r.all)for(var c=0,f=Object.values(un);c<f.length;c++)La(m=f[c],r,s,i);else for(var p in r){var m,v=/^idb\:\/\/(.*)\/(.*)\//.exec(p);v&&(p=v[1],v=v[2],(m=un["idb://".concat(p,"/").concat(v)])&&La(m,r,s,i))}s.forEach(function(_){return _()})}function La(r,i,s,c){for(var f=[],p=0,m=Object.entries(r.queries.query);p<m.length;p++){for(var v=m[p],_=v[0],x=[],C=0,b=v[1];C<b.length;C++){var P=b[C];ii(i,P.obsSet)?P.subscribers.forEach(function(O){return s.add(O)}):c&&x.push(P)}c&&f.push([_,x])}if(c)for(var S=0,k=f;S<k.length;S++){var E=k[S],_=E[0],x=E[1];r.queries.query[_]=x}}function Au(r){var i=r._state,s=r._deps.indexedDB;if(i.isBeingOpened||r.idbdb)return i.dbReadyPromise.then(function(){return i.dbOpenError?qe(i.dbOpenError):r});i.isBeingOpened=!0,i.dbOpenError=null,i.openComplete=!1;var c=i.openCanceller,f=Math.round(10*r.verno),p=!1;function m(){if(i.openCanceller!==c)throw new re.DatabaseClosed("db.open() was cancelled")}function v(){return new G(function(P,S){if(m(),!s)throw new re.MissingAPI;var k=r.name,E=i.autoSchema||!f?s.open(k):s.open(k,f);if(!E)throw new re.MissingAPI;E.onerror=St(S),E.onblocked=Le(r._fireOnBlocked),E.onupgradeneeded=Le(function(O){var D;C=E.transaction,i.autoSchema&&!r._options.allowEmptyDB?(E.onerror=or,C.abort(),E.result.close(),(D=s.deleteDatabase(k)).onsuccess=D.onerror=Le(function(){S(new re.NoSuchDatabase("Database ".concat(k," doesnt exist")))})):(C.onerror=St(S),O=O.oldVersion>Math.pow(2,62)?0:O.oldVersion,b=O<1,r.idbdb=E.result,p&&Pu(r,C),Ou(r,O/10,C,S))},S),E.onsuccess=Le(function(){C=null;var O,D,A,T,j,$=r.idbdb=E.result,V=ee($.objectStoreNames);if(0<V.length)try{var M=$.transaction((T=V).length===1?T[0]:T,"readonly");if(i.autoSchema)D=$,A=M,(O=r).verno=D.version/10,A=O._dbSchema=Gr(0,D,A),O._storeNames=ee(D.objectStoreNames,0),Hr(O,[O._allTables],u(A),A);else if(Yr(r,r._dbSchema,M),((j=Jo(Gr(0,(j=r).idbdb,M),j._dbSchema)).add.length||j.change.some(function(z){return z.add.length||z.change.length}))&&!p)return console.warn("Dexie SchemaDiff: Schema was extended without increasing the number passed to db.version(). Dexie will add missing parts and increment native version number to workaround this."),$.close(),f=$.version+1,p=!0,P(v());Vr(r,M)}catch{}Cn.push(r),$.onversionchange=Le(function(z){i.vcFired=!0,r.on("versionchange").fire(z)}),$.onclose=Le(function(){r.close({disableAutoOpen:!1})}),b&&(j=r._deps,M=k,$=j.indexedDB,j=j.IDBKeyRange,ni($)||M===Kr||ti($,j).put({name:M}).catch(Oe)),P()},S)}).catch(function(P){switch(P?.name){case"UnknownError":if(0<i.PR1398_maxLoop)return i.PR1398_maxLoop--,console.warn("Dexie: Workaround for Chrome UnknownError on open()"),v();break;case"VersionError":if(0<f)return f=0,v()}return G.reject(P)})}var _,x=i.dbReadyResolve,C=null,b=!1;return G.race([c,(typeof navigator>"u"?G.resolve():!navigator.userAgentData&&/Safari\//.test(navigator.userAgent)&&!/Chrom(e|ium)\//.test(navigator.userAgent)&&indexedDB.databases?new Promise(function(P){function S(){return indexedDB.databases().finally(P)}_=setInterval(S,100),S()}).finally(function(){return clearInterval(_)}):Promise.resolve()).then(v)]).then(function(){return m(),i.onReadyBeingFired=[],G.resolve(ri(function(){return r.on.ready.fire(r.vip)})).then(function P(){if(0<i.onReadyBeingFired.length){var S=i.onReadyBeingFired.reduce(Lo,Oe);return i.onReadyBeingFired=[],G.resolve(ri(function(){return S(r.vip)})).then(P)}})}).finally(function(){i.openCanceller===c&&(i.onReadyBeingFired=null,i.isBeingOpened=!1)}).catch(function(P){i.dbOpenError=P;try{C&&C.abort()}catch{}return c===i.openCanceller&&r._close(),qe(P)}).finally(function(){i.openComplete=!0,x()}).then(function(){var P;return b&&(P={},r.tables.forEach(function(S){S.schema.indexes.forEach(function(k){k.name&&(P["idb://".concat(r.name,"/").concat(S.name,"/").concat(k.name)]=new tt(-1/0,[[[]]]))}),P["idb://".concat(r.name,"/").concat(S.name,"/")]=P["idb://".concat(r.name,"/").concat(S.name,"/:dels")]=new tt(-1/0,[[[]]])}),Ut(ir).fire(P),li(P,!0)),r})}function ui(r){function i(p){return r.next(p)}var s=f(i),c=f(function(p){return r.throw(p)});function f(p){return function(_){var v=p(_),_=v.value;return v.done?_:_&&typeof _.then=="function"?_.then(s,c):d(_)?Promise.all(_).then(s,c):s(_)}}return f(i)()}function Jr(r,i,s){for(var c=d(r)?r.slice():[r],f=0;f<s;++f)c.push(i);return c}var Iu={stack:"dbcore",name:"VirtualIndexMiddleware",level:1,create:function(r){return o(o({},r),{table:function(i){var s=r.table(i),c=s.schema,f={},p=[];function m(b,P,S){var k=sr(b),E=f[k]=f[k]||[],O=b==null?0:typeof b=="string"?1:b.length,D=0<P,D=o(o({},S),{name:D?"".concat(k,"(virtual-from:").concat(S.name,")"):S.name,lowLevelIndex:S,isVirtual:D,keyTail:P,keyLength:O,extractKey:Xo(b),unique:!D&&S.unique});return E.push(D),D.isPrimaryKey||p.push(D),1<O&&m(O===2?b[0]:b.slice(0,O-1),P+1,S),E.sort(function(A,T){return A.keyTail-T.keyTail}),D}i=m(c.primaryKey.keyPath,0,c.primaryKey),f[":id"]=[i];for(var v=0,_=c.indexes;v<_.length;v++){var x=_[v];m(x.keyPath,0,x)}function C(b){var P,S=b.query.index;return S.isVirtual?o(o({},b),{query:{index:S.lowLevelIndex,range:(P=b.query.range,S=S.keyTail,{type:P.type===1?2:P.type,lower:Jr(P.lower,P.lowerOpen?r.MAX_KEY:r.MIN_KEY,S),lowerOpen:!0,upper:Jr(P.upper,P.upperOpen?r.MIN_KEY:r.MAX_KEY,S),upperOpen:!0})}}):b}return o(o({},s),{schema:o(o({},c),{primaryKey:i,indexes:p,getIndexByKeyPath:function(b){return(b=f[sr(b)])&&b[0]}}),count:function(b){return s.count(C(b))},query:function(b){return s.query(C(b))},openCursor:function(b){var P=b.query.index,S=P.keyTail,k=P.isVirtual,E=P.keyLength;return k?s.openCursor(C(b)).then(function(D){return D&&O(D)}):s.openCursor(b);function O(D){return Object.create(D,{continue:{value:function(A){A!=null?D.continue(Jr(A,b.reverse?r.MAX_KEY:r.MIN_KEY,S)):b.unique?D.continue(D.key.slice(0,E).concat(b.reverse?r.MIN_KEY:r.MAX_KEY,S)):D.continue()}},continuePrimaryKey:{value:function(A,T){D.continuePrimaryKey(Jr(A,r.MAX_KEY,S),T)}},primaryKey:{get:function(){return D.primaryKey}},key:{get:function(){var A=D.key;return E===1?A[0]:A.slice(0,E)}},value:{get:function(){return D.value}}})}}})}})}};function ci(r,i,s,c){return s=s||{},c=c||"",u(r).forEach(function(f){var p,m,v;y(i,f)?(p=r[f],m=i[f],typeof p=="object"&&typeof m=="object"&&p&&m?(v=Re(p))!==Re(m)?s[c+f]=i[f]:v==="Object"?ci(p,m,s,c+f+"."):p!==m&&(s[c+f]=i[f]):p!==m&&(s[c+f]=i[f])):s[c+f]=void 0}),u(i).forEach(function(f){y(r,f)||(s[c+f]=i[f])}),s}function fi(r,i){return i.type==="delete"?i.keys:i.keys||i.values.map(r.extractKey)}var Tu={stack:"dbcore",name:"HooksMiddleware",level:2,create:function(r){return o(o({},r),{table:function(i){var s=r.table(i),c=s.schema.primaryKey;return o(o({},s),{mutate:function(f){var p=ae.trans,m=p.table(i).hook,v=m.deleting,_=m.creating,x=m.updating;switch(f.type){case"add":if(_.fire===Oe)break;return p._promise("readwrite",function(){return C(f)},!0);case"put":if(_.fire===Oe&&x.fire===Oe)break;return p._promise("readwrite",function(){return C(f)},!0);case"delete":if(v.fire===Oe)break;return p._promise("readwrite",function(){return C(f)},!0);case"deleteRange":if(v.fire===Oe)break;return p._promise("readwrite",function(){return(function b(P,S,k){return s.query({trans:P,values:!1,query:{index:c,range:S},limit:k}).then(function(E){var O=E.result;return C({type:"delete",keys:O,trans:P}).then(function(D){return 0<D.numFailures?Promise.reject(D.failures[0]):O.length<k?{failures:[],numFailures:0,lastResult:void 0}:b(P,o(o({},S),{lower:O[O.length-1],lowerOpen:!0}),k)})})})(f.trans,f.range,1e4)},!0)}return s.mutate(f);function C(b){var P,S,k,E=ae.trans,O=b.keys||fi(c,b);if(!O)throw new Error("Keys missing");return(b=b.type==="add"||b.type==="put"?o(o({},b),{keys:O}):o({},b)).type!=="delete"&&(b.values=a([],b.values)),b.keys&&(b.keys=a([],b.keys)),P=s,k=O,((S=b).type==="add"?Promise.resolve([]):P.getMany({trans:S.trans,keys:k,cache:"immutable"})).then(function(D){var A=O.map(function(T,j){var $,V,M,z=D[j],H={onerror:null,onsuccess:null};return b.type==="delete"?v.fire.call(H,T,z,E):b.type==="add"||z===void 0?($=_.fire.call(H,T,b.values[j],E),T==null&&$!=null&&(b.keys[j]=T=$,c.outbound||Z(b.values[j],c.keyPath,T))):($=ci(z,b.values[j]),(V=x.fire.call(H,$,T,z,E))&&(M=b.values[j],Object.keys(V).forEach(function(q){y(M,q)?M[q]=V[q]:Z(M,q,V[q])}))),H});return s.mutate(b).then(function(T){for(var j=T.failures,$=T.results,V=T.numFailures,T=T.lastResult,M=0;M<O.length;++M){var z=($||O)[M],H=A[M];z==null?H.onerror&&H.onerror(j[M]):H.onsuccess&&H.onsuccess(b.type==="put"&&D[M]?b.values[M]:z)}return{failures:j,results:$,numFailures:V,lastResult:T}}).catch(function(T){return A.forEach(function(j){return j.onerror&&j.onerror(T)}),Promise.reject(T)})})}}})}})}};function ja(r,i,s){try{if(!i||i.keys.length<r.length)return null;for(var c=[],f=0,p=0;f<i.keys.length&&p<r.length;++f)ke(i.keys[f],r[p])===0&&(c.push(s?ye(i.values[f]):i.values[f]),++p);return c.length===r.length?c:null}catch{return null}}var Ru={stack:"dbcore",level:-1,create:function(r){return{table:function(i){var s=r.table(i);return o(o({},s),{getMany:function(c){if(!c.cache)return s.getMany(c);var f=ja(c.keys,c.trans._cache,c.cache==="clone");return f?G.resolve(f):s.getMany(c).then(function(p){return c.trans._cache={keys:c.keys,values:c.cache==="clone"?ye(p):p},p})},mutate:function(c){return c.type!=="add"&&(c.trans._cache=null),s.mutate(c)}})}}}};function Fa(r,i){return r.trans.mode==="readonly"&&!!r.subscr&&!r.trans.explicit&&r.trans.db._options.cache!=="disabled"&&!i.schema.primaryKey.outbound}function Ma(r,i){switch(r){case"query":return i.values&&!i.unique;case"get":case"getMany":case"count":case"openCursor":return!1}}var Nu={stack:"dbcore",level:0,name:"Observability",create:function(r){var i=r.schema.name,s=new tt(r.MIN_KEY,r.MAX_KEY);return o(o({},r),{transaction:function(c,f,p){if(ae.subscr&&f!=="readonly")throw new re.ReadOnly("Readwrite transaction in liveQuery context. Querier source: ".concat(ae.querier));return r.transaction(c,f,p)},table:function(c){var f=r.table(c),p=f.schema,m=p.primaryKey,b=p.indexes,v=m.extractKey,_=m.outbound,x=m.autoIncrement&&b.filter(function(S){return S.compound&&S.keyPath.includes(m.keyPath)}),C=o(o({},f),{mutate:function(S){function k(q){return q="idb://".concat(i,"/").concat(c,"/").concat(q),T[q]||(T[q]=new tt)}var E,O,D,A=S.trans,T=S.mutatedParts||(S.mutatedParts={}),j=k(""),$=k(":dels"),V=S.type,H=S.type==="deleteRange"?[S.range]:S.type==="delete"?[S.keys]:S.values.length<50?[fi(m,S).filter(function(q){return q}),S.values]:[],M=H[0],z=H[1],H=S.trans._cache;return d(M)?(j.addKeys(M),(H=V==="delete"||M.length===z.length?ja(M,H):null)||$.addKeys(M),(H||z)&&(E=k,O=H,D=z,p.indexes.forEach(function(q){var X=E(q.name||"");function ve(xe){return xe!=null?q.extractKey(xe):null}function be(xe){return q.multiEntry&&d(xe)?xe.forEach(function(ht){return X.addKey(ht)}):X.addKey(xe)}(O||D).forEach(function(xe,nt){var me=O&&ve(O[nt]),nt=D&&ve(D[nt]);ke(me,nt)!==0&&(me!=null&&be(me),nt!=null&&be(nt))})}))):M?(z={from:(z=M.lower)!==null&&z!==void 0?z:r.MIN_KEY,to:(z=M.upper)!==null&&z!==void 0?z:r.MAX_KEY},$.add(z),j.add(z)):(j.add(s),$.add(s),p.indexes.forEach(function(q){return k(q.name).add(s)})),f.mutate(S).then(function(q){return!M||S.type!=="add"&&S.type!=="put"||(j.addKeys(q.results),x&&x.forEach(function(X){for(var ve=S.values.map(function(me){return X.extractKey(me)}),be=X.keyPath.findIndex(function(me){return me===m.keyPath}),xe=0,ht=q.results.length;xe<ht;++xe)ve[xe][be]=q.results[xe];k(X.name).addKeys(ve)})),A.mutatedParts=Xr(A.mutatedParts||{},T),q})}}),b=function(k){var E=k.query,k=E.index,E=E.range;return[k,new tt((k=E.lower)!==null&&k!==void 0?k:r.MIN_KEY,(E=E.upper)!==null&&E!==void 0?E:r.MAX_KEY)]},P={get:function(S){return[m,new tt(S.key)]},getMany:function(S){return[m,new tt().addKeys(S.keys)]},count:b,query:b,openCursor:b};return u(P).forEach(function(S){C[S]=function(k){var E=ae.subscr,O=!!E,D=Fa(ae,f)&&Ma(S,k)?k.obsSet={}:E;if(O){var A=function(z){return z="idb://".concat(i,"/").concat(c,"/").concat(z),D[z]||(D[z]=new tt)},T=A(""),j=A(":dels"),E=P[S](k),O=E[0],E=E[1];if((S==="query"&&O.isPrimaryKey&&!k.values?j:A(O.name||"")).add(E),!O.isPrimaryKey){if(S!=="count"){var $=S==="query"&&_&&k.values&&f.query(o(o({},k),{values:!1}));return f[S].apply(this,arguments).then(function(z){if(S==="query"){if(_&&k.values)return $.then(function(ve){return ve=ve.result,T.addKeys(ve),z});var H=k.values?z.result.map(v):z.result;(k.values?T:j).addKeys(H)}else if(S==="openCursor"){var q=z,X=k.values;return q&&Object.create(q,{key:{get:function(){return j.addKey(q.primaryKey),q.key}},primaryKey:{get:function(){var ve=q.primaryKey;return j.addKey(ve),ve}},value:{get:function(){return X&&T.addKey(q.primaryKey),q.value}}})}return z})}j.add(s)}}return f[S].apply(this,arguments)}}),C}})}};function Ka(r,i,s){if(s.numFailures===0)return i;if(i.type==="deleteRange")return null;var c=i.keys?i.keys.length:"values"in i&&i.values?i.values.length:1;return s.numFailures===c?null:(i=o({},i),d(i.keys)&&(i.keys=i.keys.filter(function(f,p){return!(p in s.failures)})),"values"in i&&d(i.values)&&(i.values=i.values.filter(function(f,p){return!(p in s.failures)})),i)}function di(r,i){return s=r,((c=i).lower===void 0||(c.lowerOpen?0<ke(s,c.lower):0<=ke(s,c.lower)))&&(r=r,(i=i).upper===void 0||(i.upperOpen?ke(r,i.upper)<0:ke(r,i.upper)<=0));var s,c}function Ba(r,i,P,c,f,p){if(!P||P.length===0)return r;var m=i.query.index,v=m.multiEntry,_=i.query.range,x=c.schema.primaryKey.extractKey,C=m.extractKey,b=(m.lowLevelIndex||m).extractKey,P=P.reduce(function(S,k){var E=S,O=[];if(k.type==="add"||k.type==="put")for(var D=new tt,A=k.values.length-1;0<=A;--A){var T,j=k.values[A],$=x(j);D.hasKey($)||(T=C(j),(v&&d(T)?T.some(function(q){return di(q,_)}):di(T,_))&&(D.addKey($),O.push(j)))}switch(k.type){case"add":var V=new tt().addKeys(i.values?S.map(function(X){return x(X)}):S),E=S.concat(i.values?O.filter(function(X){return X=x(X),!V.hasKey(X)&&(V.addKey(X),!0)}):O.map(function(X){return x(X)}).filter(function(X){return!V.hasKey(X)&&(V.addKey(X),!0)}));break;case"put":var M=new tt().addKeys(k.values.map(function(X){return x(X)}));E=S.filter(function(X){return!M.hasKey(i.values?x(X):X)}).concat(i.values?O:O.map(function(X){return x(X)}));break;case"delete":var z=new tt().addKeys(k.keys);E=S.filter(function(X){return!z.hasKey(i.values?x(X):X)});break;case"deleteRange":var H=k.range;E=S.filter(function(X){return!di(x(X),H)})}return E},r);return P===r?r:(P.sort(function(S,k){return ke(b(S),b(k))||ke(x(S),x(k))}),i.limit&&i.limit<1/0&&(P.length>i.limit?P.length=i.limit:r.length===i.limit&&P.length<i.limit&&(f.dirty=!0)),p?Object.freeze(P):P)}function $a(r,i){return ke(r.lower,i.lower)===0&&ke(r.upper,i.upper)===0&&!!r.lowerOpen==!!i.lowerOpen&&!!r.upperOpen==!!i.upperOpen}function Lu(r,i){return(function(s,c,f,p){if(s===void 0)return c!==void 0?-1:0;if(c===void 0)return 1;if((c=ke(s,c))===0){if(f&&p)return 0;if(f)return 1;if(p)return-1}return c})(r.lower,i.lower,r.lowerOpen,i.lowerOpen)<=0&&0<=(function(s,c,f,p){if(s===void 0)return c!==void 0?1:0;if(c===void 0)return-1;if((c=ke(s,c))===0){if(f&&p)return 0;if(f)return-1;if(p)return 1}return c})(r.upper,i.upper,r.upperOpen,i.upperOpen)}function ju(r,i,s,c){r.subscribers.add(s),c.addEventListener("abort",function(){var f,p;r.subscribers.delete(s),r.subscribers.size===0&&(f=r,p=i,setTimeout(function(){f.subscribers.size===0&&W(p,f)},3e3))})}var Fu={stack:"dbcore",level:0,name:"Cache",create:function(r){var i=r.schema.name;return o(o({},r),{transaction:function(s,c,f){var p,m,v=r.transaction(s,c,f);return c==="readwrite"&&(m=(p=new AbortController).signal,f=function(_){return function(){if(p.abort(),c==="readwrite"){for(var x=new Set,C=0,b=s;C<b.length;C++){var P=b[C],S=un["idb://".concat(i,"/").concat(P)];if(S){var k=r.table(P),E=S.optimisticOps.filter(function(X){return X.trans===v});if(v._explicit&&_&&v.mutatedParts)for(var O=0,D=Object.values(S.queries.query);O<D.length;O++)for(var A=0,T=(V=D[O]).slice();A<T.length;A++)ii((M=T[A]).obsSet,v.mutatedParts)&&(W(V,M),M.subscribers.forEach(function(X){return x.add(X)}));else if(0<E.length){S.optimisticOps=S.optimisticOps.filter(function(X){return X.trans!==v});for(var j=0,$=Object.values(S.queries.query);j<$.length;j++)for(var V,M,z,H=0,q=(V=$[j]).slice();H<q.length;H++)(M=q[H]).res!=null&&v.mutatedParts&&(_&&!M.dirty?(z=Object.isFrozen(M.res),z=Ba(M.res,M.req,E,k,M,z),M.dirty?(W(V,M),M.subscribers.forEach(function(X){return x.add(X)})):z!==M.res&&(M.res=z,M.promise=G.resolve({result:z}))):(M.dirty&&W(V,M),M.subscribers.forEach(function(X){return x.add(X)})))}}}x.forEach(function(X){return X()})}}},v.addEventListener("abort",f(!1),{signal:m}),v.addEventListener("error",f(!1),{signal:m}),v.addEventListener("complete",f(!0),{signal:m})),v},table:function(s){var c=r.table(s),f=c.schema.primaryKey;return o(o({},c),{mutate:function(p){var m=ae.trans;if(f.outbound||m.db._options.cache==="disabled"||m.explicit||m.idbtrans.mode!=="readwrite")return c.mutate(p);var v=un["idb://".concat(i,"/").concat(s)];return v?(m=c.mutate(p),p.type!=="add"&&p.type!=="put"||!(50<=p.values.length||fi(f,p).some(function(_){return _==null}))?(v.optimisticOps.push(p),p.mutatedParts&&Qr(p.mutatedParts),m.then(function(_){0<_.numFailures&&(W(v.optimisticOps,p),(_=Ka(0,p,_))&&v.optimisticOps.push(_),p.mutatedParts&&Qr(p.mutatedParts))}),m.catch(function(){W(v.optimisticOps,p),p.mutatedParts&&Qr(p.mutatedParts)})):m.then(function(_){var x=Ka(0,o(o({},p),{values:p.values.map(function(C,b){var P;return _.failures[b]?C:(C=(P=f.keyPath)!==null&&P!==void 0&&P.includes(".")?ye(C):o({},C),Z(C,f.keyPath,_.results[b]),C)})}),_);v.optimisticOps.push(x),queueMicrotask(function(){return p.mutatedParts&&Qr(p.mutatedParts)})}),m):c.mutate(p)},query:function(p){if(!Fa(ae,c)||!Ma("query",p))return c.query(p);var m=((x=ae.trans)===null||x===void 0?void 0:x.db._options.cache)==="immutable",b=ae,v=b.requery,_=b.signal,x=(function(k,E,O,D){var A=un["idb://".concat(k,"/").concat(E)];if(!A)return[];if(!(E=A.queries[O]))return[null,!1,A,null];var T=E[(D.query?D.query.index.name:null)||""];if(!T)return[null,!1,A,null];switch(O){case"query":var j=T.find(function($){return $.req.limit===D.limit&&$.req.values===D.values&&$a($.req.query.range,D.query.range)});return j?[j,!0,A,T]:[T.find(function($){return("limit"in $.req?$.req.limit:1/0)>=D.limit&&(!D.values||$.req.values)&&Lu($.req.query.range,D.query.range)}),!1,A,T];case"count":return j=T.find(function($){return $a($.req.query.range,D.query.range)}),[j,!!j,A,T]}})(i,s,"query",p),C=x[0],b=x[1],P=x[2],S=x[3];return C&&b?C.obsSet=p.obsSet:(b=c.query(p).then(function(k){var E=k.result;if(C&&(C.res=E),m){for(var O=0,D=E.length;O<D;++O)Object.freeze(E[O]);Object.freeze(E)}else k.result=ye(E);return k}).catch(function(k){return S&&C&&W(S,C),Promise.reject(k)}),C={obsSet:p.obsSet,promise:b,subscribers:new Set,type:"query",req:p,dirty:!1},S?S.push(C):(S=[C],(P=P||(un["idb://".concat(i,"/").concat(s)]={queries:{query:{},count:{}},objs:new Map,optimisticOps:[],unsignaledParts:{}})).queries.query[p.query.index.name||""]=S)),ju(C,S,v,_),C.promise.then(function(k){return{result:Ba(k.result,p,P?.optimisticOps,c,C,m)}})}})}})}};function eo(r,i){return new Proxy(r,{get:function(s,c,f){return c==="db"?i:Reflect.get(s,c,f)}})}var It=(Ue.prototype.version=function(r){if(isNaN(r)||r<.1)throw new re.Type("Given version is not a positive number");if(r=Math.round(10*r)/10,this.idbdb||this._state.isBeingOpened)throw new re.Schema("Cannot add version when database is open");this.verno=Math.max(this.verno,r);var i=this._versions,s=i.filter(function(c){return c._cfg.version===r})[0];return s||(s=new this.Version(r),i.push(s),i.sort(Cu),s.stores({}),this._state.autoSchema=!1,s)},Ue.prototype._whenReady=function(r){var i=this;return this.idbdb&&(this._state.openComplete||ae.letThrough||this._vip)?r():new G(function(s,c){if(i._state.openComplete)return c(new re.DatabaseClosed(i._state.dbOpenError));if(!i._state.isBeingOpened){if(!i._state.autoOpen)return void c(new re.DatabaseClosed);i.open().catch(Oe)}i._state.dbReadyPromise.then(s,c)}).then(r)},Ue.prototype.use=function(r){var i=r.stack,s=r.create,c=r.level,f=r.name;return f&&this.unuse({stack:i,name:f}),r=this._middlewares[i]||(this._middlewares[i]=[]),r.push({stack:i,create:s,level:c??10,name:f}),r.sort(function(p,m){return p.level-m.level}),this},Ue.prototype.unuse=function(r){var i=r.stack,s=r.name,c=r.create;return i&&this._middlewares[i]&&(this._middlewares[i]=this._middlewares[i].filter(function(f){return c?f.create!==c:!!s&&f.name!==s})),this},Ue.prototype.open=function(){var r=this;return an(Kt,function(){return Au(r)})},Ue.prototype._close=function(){this.on.close.fire(new CustomEvent("close"));var r=this._state,i=Cn.indexOf(this);if(0<=i&&Cn.splice(i,1),this.idbdb){try{this.idbdb.close()}catch{}this.idbdb=null}r.isBeingOpened||(r.dbReadyPromise=new G(function(s){r.dbReadyResolve=s}),r.openCanceller=new G(function(s,c){r.cancelOpen=c}))},Ue.prototype.close=function(s){var i=(s===void 0?{disableAutoOpen:!0}:s).disableAutoOpen,s=this._state;i?(s.isBeingOpened&&s.cancelOpen(new re.DatabaseClosed),this._close(),s.autoOpen=!1,s.dbOpenError=new re.DatabaseClosed):(this._close(),s.autoOpen=this._options.autoOpen||s.isBeingOpened,s.openComplete=!1,s.dbOpenError=null)},Ue.prototype.delete=function(r){var i=this;r===void 0&&(r={disableAutoOpen:!0});var s=0<arguments.length&&typeof arguments[0]!="object",c=this._state;return new G(function(f,p){function m(){i.close(r);var v=i._deps.indexedDB.deleteDatabase(i.name);v.onsuccess=Le(function(){var _,x,C;_=i._deps,x=i.name,C=_.indexedDB,_=_.IDBKeyRange,ni(C)||x===Kr||ti(C,_).delete(x).catch(Oe),f()}),v.onerror=St(p),v.onblocked=i._fireOnBlocked}if(s)throw new re.InvalidArgument("Invalid closeOptions argument to db.delete()");c.isBeingOpened?c.dbReadyPromise.then(m):m()})},Ue.prototype.backendDB=function(){return this.idbdb},Ue.prototype.isOpen=function(){return this.idbdb!==null},Ue.prototype.hasBeenClosed=function(){var r=this._state.dbOpenError;return r&&r.name==="DatabaseClosed"},Ue.prototype.hasFailed=function(){return this._state.dbOpenError!==null},Ue.prototype.dynamicallyOpened=function(){return this._state.autoSchema},Object.defineProperty(Ue.prototype,"tables",{get:function(){var r=this;return u(this._allTables).map(function(i){return r._allTables[i]})},enumerable:!1,configurable:!0}),Ue.prototype.transaction=function(){var r=(function(i,s,c){var f=arguments.length;if(f<2)throw new re.InvalidArgument("Too few arguments");for(var p=new Array(f-1);--f;)p[f-1]=arguments[f];return c=p.pop(),[i,ie(p),c]}).apply(this,arguments);return this._transaction.apply(this,r)},Ue.prototype._transaction=function(r,i,s){var c=this,f=ae.trans;f&&f.db===this&&r.indexOf("!")===-1||(f=null);var p,m,v=r.indexOf("?")!==-1;r=r.replace("!","").replace("?","");try{if(m=i.map(function(x){if(x=x instanceof c.Table?x.name:x,typeof x!="string")throw new TypeError("Invalid table argument to Dexie.transaction(). Only Table or String are allowed");return x}),r=="r"||r===Uo)p=Uo;else{if(r!="rw"&&r!=Vo)throw new re.InvalidArgument("Invalid transaction mode: "+r);p=Vo}if(f){if(f.mode===Uo&&p===Vo){if(!v)throw new re.SubTransaction("Cannot enter a sub-transaction with READWRITE mode when parent transaction is READONLY");f=null}f&&m.forEach(function(x){if(f&&f.storeNames.indexOf(x)===-1){if(!v)throw new re.SubTransaction("Table "+x+" not included in parent transaction.");f=null}}),v&&f&&!f.active&&(f=null)}}catch(x){return f?f._promise(null,function(C,b){b(x)}):qe(x)}var _=(function x(C,b,P,S,k){return G.resolve().then(function(){var E=ae.transless||ae,O=C._createTransaction(b,P,C._dbSchema,S);if(O.explicit=!0,E={trans:O,transless:E},S)O.idbtrans=S.idbtrans;else try{O.create(),O.idbtrans._explicit=!0,C._state.PR1398_maxLoop=3}catch(T){return T.name===Be.InvalidState&&C.isOpen()&&0<--C._state.PR1398_maxLoop?(console.warn("Dexie: Need to reopen db"),C.close({disableAutoOpen:!1}),C.open().then(function(){return x(C,b,P,null,k)})):qe(T)}var D,A=Fe(k);return A&&En(),E=G.follow(function(){var T;(D=k.call(O,O))&&(A?(T=$t.bind(null,null),D.then(T,T)):typeof D.next=="function"&&typeof D.throw=="function"&&(D=ui(D)))},E),(D&&typeof D.then=="function"?G.resolve(D).then(function(T){return O.active?T:qe(new re.PrematureCommit("Transaction committed too early. See http://bit.ly/2kdckMn"))}):E.then(function(){return D})).then(function(T){return S&&O._resolve(),O._completion.then(function(){return T})}).catch(function(T){return O._reject(T),qe(T)})})}).bind(null,this,p,m,f,s);return f?f._promise(p,_,"lock"):ae.trans?an(ae.transless,function(){return c._whenReady(_)}):this._whenReady(_)},Ue.prototype.table=function(r){if(!y(this._allTables,r))throw new re.InvalidTable("Table ".concat(r," does not exist"));return this._allTables[r]},Ue);function Ue(r,i){var s=this;this._middlewares={},this.verno=0;var c=Ue.dependencies;this._options=i=o({addons:Ue.addons,autoOpen:!0,indexedDB:c.indexedDB,IDBKeyRange:c.IDBKeyRange,cache:"cloned"},i),this._deps={indexedDB:i.indexedDB,IDBKeyRange:i.IDBKeyRange},c=i.addons,this._dbSchema={},this._versions=[],this._storeNames=[],this._allTables={},this.idbdb=null,this._novip=this;var f,p,m,v,_,x={dbOpenError:null,isBeingOpened:!1,onReadyBeingFired:null,openComplete:!1,dbReadyResolve:Oe,dbReadyPromise:null,cancelOpen:Oe,openCanceller:null,autoSchema:!0,PR1398_maxLoop:3,autoOpen:i.autoOpen};x.dbReadyPromise=new G(function(b){x.dbReadyResolve=b}),x.openCanceller=new G(function(b,P){x.cancelOpen=P}),this._state=x,this.name=r,this.on=nr(this,"populate","blocked","versionchange","close",{ready:[Lo,Oe]}),this.once=function(b,P){var S=function(){for(var k=[],E=0;E<arguments.length;E++)k[E]=arguments[E];s.on(b).unsubscribe(S),P.apply(s,k)};return s.on(b,S)},this.on.ready.subscribe=fe(this.on.ready.subscribe,function(b){return function(P,S){Ue.vip(function(){var k,E=s._state;E.openComplete?(E.dbOpenError||G.resolve().then(P),S&&b(P)):E.onReadyBeingFired?(E.onReadyBeingFired.push(P),S&&b(P)):(b(P),k=s,S||b(function O(){k.on.ready.unsubscribe(P),k.on.ready.unsubscribe(O)}))})}}),this.Collection=(f=this,rr(bu.prototype,function(D,O){this.db=f;var S=ma,k=null;if(O)try{S=O()}catch(A){k=A}var E=D._ctx,O=E.table,D=O.hook.reading.fire;this._ctx={table:O,index:E.index,isPrimKey:!E.index||O.schema.primKey.keyPath&&E.index===O.schema.primKey.name,range:S,keysOnly:!1,dir:"next",unique:"",algorithm:null,filter:null,replayFilter:null,justLimit:!0,isMatch:null,offset:0,limit:1/0,error:k,or:E.or,valueMapper:D!==Zn?D:null}})),this.Table=(p=this,rr(xa.prototype,function(b,P,S){this.db=p,this._tx=S,this.name=b,this.schema=P,this.hook=p._allTables[b]?p._allTables[b].hook:nr(null,{creating:[cu,Oe],reading:[uu,Zn],updating:[du,Oe],deleting:[fu,Oe]})})),this.Transaction=(m=this,rr(xu.prototype,function(b,P,S,k,E){var O=this;b!=="readonly"&&P.forEach(function(D){D=(D=S[D])===null||D===void 0?void 0:D.yProps,D&&(P=P.concat(D.map(function(A){return A.updatesTable})))}),this.db=m,this.mode=b,this.storeNames=P,this.schema=S,this.chromeTransactionDurability=k,this.idbtrans=null,this.on=nr(this,"complete","error","abort"),this.parent=E||null,this.active=!0,this._reculock=0,this._blockedFuncs=[],this._resolve=null,this._reject=null,this._waitingFor=null,this._waitingQueue=null,this._spinCount=0,this._completion=new G(function(D,A){O._resolve=D,O._reject=A}),this._completion.then(function(){O.active=!1,O.on.complete.fire()},function(D){var A=O.active;return O.active=!1,O.on.error.fire(D),O.parent?O.parent._reject(D):A&&O.idbtrans&&O.idbtrans.abort(),qe(D)})})),this.Version=(v=this,rr(Du.prototype,function(b){this.db=v,this._cfg={version:b,storesSource:null,dbschema:{},tables:{},contentUpgrade:null}})),this.WhereClause=(_=this,rr(Oa.prototype,function(b,P,S){if(this.db=_,this._ctx={table:b,index:P===":id"?null:P,or:S},this._cmp=this._ascending=ke,this._descending=function(k,E){return ke(E,k)},this._max=function(k,E){return 0<ke(k,E)?k:E},this._min=function(k,E){return ke(k,E)<0?k:E},this._IDBKeyRange=_._deps.IDBKeyRange,!this._IDBKeyRange)throw new re.MissingAPI})),this.on("versionchange",function(b){0<b.newVersion?console.warn("Another connection wants to upgrade database '".concat(s.name,"'. Closing db now to resume the upgrade.")):console.warn("Another connection wants to delete database '".concat(s.name,"'. Closing db now to resume the delete request.")),s.close({disableAutoOpen:!1})}),this.on("blocked",function(b){!b.newVersion||b.newVersion<b.oldVersion?console.warn("Dexie.delete('".concat(s.name,"') was blocked")):console.warn("Upgrade '".concat(s.name,"' blocked by other connection holding version ").concat(b.oldVersion/10))}),this._maxKey=ar(i.IDBKeyRange),this._createTransaction=function(b,P,S,k){return new s.Transaction(b,P,S,s._options.chromeTransactionDurability,k)},this._fireOnBlocked=function(b){s.on("blocked").fire(b),Cn.filter(function(P){return P.name===s.name&&P!==s&&!P._state.vcFired}).map(function(P){return P.on("versionchange").fire(b)})},this.use(Ru),this.use(Fu),this.use(Nu),this.use(Iu),this.use(Tu);var C=new Proxy(this,{get:function(b,P,S){if(P==="_vip")return!0;if(P==="table")return function(E){return eo(s.table(E),C)};var k=Reflect.get(b,P,S);return k instanceof xa?eo(k,C):P==="tables"?k.map(function(E){return eo(E,C)}):P==="_createTransaction"?function(){return eo(k.apply(this,arguments),C)}:k}});this.vip=C,c.forEach(function(b){return b(s)})}var to,mt=typeof Symbol<"u"&&"observable"in Symbol?Symbol.observable:"@@observable",Mu=(hi.prototype.subscribe=function(r,i,s){return this._subscribe(r&&typeof r!="function"?r:{next:r,error:i,complete:s})},hi.prototype[mt]=function(){return this},hi);function hi(r){this._subscribe=r}try{to={indexedDB:l.indexedDB||l.mozIndexedDB||l.webkitIndexedDB||l.msIndexedDB,IDBKeyRange:l.IDBKeyRange||l.webkitIDBKeyRange}}catch{to={indexedDB:null,IDBKeyRange:null}}function za(r){var i,s=!1,c=new Mu(function(f){var p=Fe(r),m,v=!1,_={},x={},C={get closed(){return v},unsubscribe:function(){v||(v=!0,m&&m.abort(),b&&Ut.storagemutated.unsubscribe(S))}};f.start&&f.start(C);var b=!1,P=function(){return qo(k)},S=function(E){Xr(_,E),ii(x,_)&&P()},k=function(){var E,O,D;!v&&to.indexedDB&&(_={},E={},m&&m.abort(),m=new AbortController,D=(function(A){var T=Sn();try{p&&En();var j=Bt(r,A);return j=p?j.finally($t):j}finally{T&&kn()}})(O={subscr:E,signal:m.signal,requery:P,querier:r,trans:null}),Promise.resolve(D).then(function(A){s=!0,i=A,v||O.signal.aborted||(_={},(function(T){for(var j in T)if(y(T,j))return;return 1})(x=E)||b||(Ut(ir,S),b=!0),qo(function(){return!v&&f.next&&f.next(A)}))},function(A){s=!1,["DatabaseClosedError","AbortError"].includes(A?.name)||v||qo(function(){v||f.error&&f.error(A)})}))};return setTimeout(P,0),C});return c.hasValue=function(){return s},c.getValue=function(){return i},c}var cn=It;function pi(r){var i=Vt;try{Vt=!0,Ut.storagemutated.fire(r),li(r,!0)}finally{Vt=i}}I(cn,o(o({},Mt),{delete:function(r){return new cn(r,{addons:[]}).delete()},exists:function(r){return new cn(r,{addons:[]}).open().then(function(i){return i.close(),!0}).catch("NoSuchDatabaseError",function(){return!1})},getDatabaseNames:function(r){try{return i=cn.dependencies,s=i.indexedDB,i=i.IDBKeyRange,(ni(s)?Promise.resolve(s.databases()).then(function(c){return c.map(function(f){return f.name}).filter(function(f){return f!==Kr})}):ti(s,i).toCollection().primaryKeys()).then(r)}catch{return qe(new re.MissingAPI)}var i,s},defineClass:function(){return function(r){h(this,r)}},ignoreTransaction:function(r){return ae.trans?an(ae.transless,r):r()},vip:ri,async:function(r){return function(){try{var i=ui(r.apply(this,arguments));return i&&typeof i.then=="function"?i:G.resolve(i)}catch(s){return qe(s)}}},spawn:function(r,i,s){try{var c=ui(r.apply(s,i||[]));return c&&typeof c.then=="function"?c:G.resolve(c)}catch(f){return qe(f)}},currentTransaction:{get:function(){return ae.trans||null}},waitFor:function(r,i){return i=G.resolve(typeof r=="function"?cn.ignoreTransaction(r):r).timeout(i||6e4),ae.trans?ae.trans.waitFor(i):i},Promise:G,debug:{get:function(){return xt},set:function(r){ua(r)}},derive:F,extend:h,props:I,override:fe,Events:nr,on:Ut,liveQuery:za,extendObservabilitySet:Xr,getByKeyPath:K,setByKeyPath:Z,delByKeyPath:function(r,i){typeof i=="string"?Z(r,i,void 0):"length"in i&&[].map.call(i,function(s){Z(r,s,void 0)})},shallowClone:B,deepClone:ye,getObjectDiff:ci,cmp:ke,asap:ne,minKey:-1/0,addons:[],connections:Cn,errnames:Be,dependencies:to,cache:un,semVer:"4.2.1",version:"4.2.1".split(".").map(function(r){return parseInt(r)}).reduce(function(r,i,s){return r+i/Math.pow(10,2*s)})})),cn.maxKey=ar(cn.dependencies.IDBKeyRange),typeof dispatchEvent<"u"&&typeof addEventListener<"u"&&(Ut(ir,function(r){Vt||(r=new CustomEvent(Go,{detail:r}),Vt=!0,dispatchEvent(r),Vt=!1)}),addEventListener(Go,function(r){r=r.detail,Vt||pi(r)}));var An,Vt=!1,qa=function(){};return typeof BroadcastChannel<"u"&&((qa=function(){(An=new BroadcastChannel(Go)).onmessage=function(r){return r.data&&pi(r.data)}})(),typeof An.unref=="function"&&An.unref(),Ut(ir,function(r){Vt||An.postMessage(r)})),typeof addEventListener<"u"&&(addEventListener("pagehide",function(r){if(!It.disableBfCache&&r.persisted){xt&&console.debug("Dexie: handling persisted pagehide"),An?.close();for(var i=0,s=Cn;i<s.length;i++)s[i].close({disableAutoOpen:!1})}}),addEventListener("pageshow",function(r){!It.disableBfCache&&r.persisted&&(xt&&console.debug("Dexie: handling persisted pageshow"),qa(),pi({all:new tt(-1/0,[[]])}))})),G.rejectionMapper=function(r,i){return!r||r instanceof Ie||r instanceof TypeError||r instanceof SyntaxError||!r.name||!Jt[r.name]?r:(i=new Jt[r.name](i||r.message,r),"stack"in r&&N(i,"stack",{get:function(){return this.inner.stack}}),i)},ua(xt),o(It,Object.freeze({__proto__:null,Dexie:It,liveQuery:za,Entity:ya,cmp:ke,PropModification:tr,replacePrefix:function(r,i){return new tr({replacePrefix:[r,i]})},add:function(r){return new tr({add:r})},remove:function(r){return new tr({remove:r})},default:It,RangeSet:tt,mergeRanges:ur,rangesOverlap:Ta}),{default:It}),It})})(fo)),fo.exports}var Hf=Vf();const $i=vf(Hf),Ds=Symbol.for("Dexie"),Vn=globalThis[Ds]||(globalThis[Ds]=$i);if($i.semVer!==Vn.semVer)throw new Error(`Two different versions of Dexie loaded in the same app: ${$i.semVer} and ${Vn.semVer}`);const{liveQuery:Rh,mergeRanges:Nh,rangesOverlap:Lh,RangeSet:jh,cmp:Fh,Entity:Mh,PropModification:Kh,replacePrefix:Bh,add:$h,remove:zh,DexieYProvider:qh}=Vn;function Wf(t,e,n){var o,a;typeof t=="function"?(o=e||[],a=n):(o=[],a=e);var l=Mn.useRef({hasResult:!1,result:a,error:null}),u=Mn.useReducer(function(g){return g+1},0);u[0];var d=u[1],h=Mn.useMemo(function(){var g=typeof t=="function"?t():t;if(!g||typeof g.subscribe!="function")throw t===g?new TypeError("Given argument to useObservable() was neither a valid observable nor a function."):new TypeError("Observable factory given to useObservable() did not return a valid observable.");if(!l.current.hasResult&&typeof window<"u"&&(typeof g.hasValue!="function"||g.hasValue()))if(typeof g.getValue=="function")l.current.result=g.getValue(),l.current.hasResult=!0;else{var w=g.subscribe(function(y){l.current.result=y,l.current.hasResult=!0});typeof w=="function"?w():w.unsubscribe()}return g},o);if(Mn.useDebugValue(l.current.result),Mn.useEffect(function(){var g=h.subscribe(function(w){var y=l.current;(y.error!==null||y.result!==w)&&(y.error=null,y.result=w,y.hasResult=!0,d())},function(w){var y=l.current;y.error!==w&&(y.error=w,d())});return typeof g=="function"?g:g.unsubscribe.bind(g)},o),l.current.error)throw l.current.error;return l.current.result}function As(t,e,n){return Wf(function(){return Vn.liveQuery(t)},[],n)}typeof FinalizationRegistry<"u"&&new FinalizationRegistry(function(t){var e=Vn.DexieYProvider;e&&e.release(t)});const To=new Vn("calory"),Rn=()=>To.table("entries"),Wt=()=>To.table("articles");To.version(1).stores({entries:"&id,createdAt,displayOrder",articles:"&id,createdAt,name"});const Kl=wn(null),Ro=()=>{const t=Qt(Kl);if(!t)throw new Error("uninitialized context");return t},Gf=t=>{const e={};let n=0,o=0;for(let a=t.length-1;a>=0;a--){const l=t[a];let u=0;if(l.type=="section")u=o,o=0;else{if(isNaN(l.kcal)||isNaN(l.total))continue;u=l.type=="kcalPer100g"?l.kcal/100*l.total:l.kcal*l.total,l.discard||(o+=u,n+=u)}e[l.id]=u}return{totalSum:n,sums:e}},Yf=({children:t})=>{const{i18n:e}=xn(),n=As(()=>Rn().orderBy("displayOrder").toArray()),o=As(()=>Wt().toArray()),{totalSum:a,sums:l}=Xe(()=>Gf(n??[]),[n]),u=Xe(()=>{const h=e.resolvedLanguage||e.language||"en";return new Intl.Collator(h,{sensitivity:"base",numeric:!0})},[e.resolvedLanguage,e.language]),d=Xe(()=>({articleList:o?[...o].sort((h,g)=>u.compare(h.name??"",g.name??"")):[],searchArticleById:async h=>await Wt().where("id").equals(h).first(),searchArticleByName:async h=>await Wt().where("name").equalsIgnoreCase(h).first(),replaceArticles:async h=>{await To.transaction("rw",Wt(),async()=>{await Wt().clear(),h.length>0&&await Wt().bulkPut(h)})},updateArticle:async h=>{await Wt().put(h)},deleteArticle:async h=>{await Wt().delete(h)},totalSum:a,entryList:n,toggleSection:async h=>{const g=await Rn().orderBy("displayOrder").toArray(),w=g.findIndex(R=>R.id==h),y=[];let I=!1;for(let R=w+1;R<g.length;R++){const N=g[R];if(I||=N.hide,N.type=="section")break;y.push(N.id)}await Rn().where("id").anyOf(y).modify(R=>{R.hide=!I})},isSectionCollapsed:h=>{if(!n)return!1;const g=n.findIndex(y=>y.id==h),w=n[g+1];return w&&w.hide},isSectionEmpty:h=>{if(!n)return!0;const g=n.findIndex(y=>y.id==h),w=n[g+1];return!w||w.type=="section"},getTotalSum:h=>l[h]??NaN,clearEntries:async()=>{await Rn().clear()},updateEntry:async h=>{await Rn().put(h)},deleteEntry:async h=>{await Rn().delete(h)}}),[a,l,o,n,u]);return L(Kl,{value:d,children:t})},Zf="useandom-26T198340PX75pxJACKVERYMINDBUSHWOLF_GQZbfghjklqvwyzrict";let ko=(t=21)=>{let e="",n=crypto.getRandomValues(new Uint8Array(t|=0));for(;t--;)e+=Zf[n[t]&63];return e};const Xf="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz";function $n(t,e,n){const o=n[0];if(e!=null&&t>=e)throw new Error(t+" >= "+e);if(t.slice(-1)===o||e&&e.slice(-1)===o)throw new Error("trailing zero");if(e){let u=0;for(;(t[u]||o)===e[u];)u++;if(u>0)return e.slice(0,u)+$n(t.slice(u),e.slice(u),n)}const a=t?n.indexOf(t[0]):0,l=e!=null?n.indexOf(e[0]):n.length;if(l-a>1){const u=Math.round(.5*(a+l));return n[u]}else return e&&e.length>1?e.slice(0,1):n[a]+$n(t.slice(1),null,n)}function Bl(t){if(t.length!==$l(t[0]))throw new Error("invalid integer part of order key: "+t)}function $l(t){if(t>="a"&&t<="z")return t.charCodeAt(0)-97+2;if(t>="A"&&t<="Z")return 90-t.charCodeAt(0)+2;throw new Error("invalid order key head: "+t)}function dr(t){const e=$l(t[0]);if(e>t.length)throw new Error("invalid order key: "+t);return t.slice(0,e)}function Is(t,e){if(t==="A"+e[0].repeat(26))throw new Error("invalid order key: "+t);const n=dr(t);if(t.slice(n.length).slice(-1)===e[0])throw new Error("invalid order key: "+t)}function Ts(t,e){Bl(t);const[n,...o]=t.split("");let a=!0;for(let l=o.length-1;a&&l>=0;l--){const u=e.indexOf(o[l])+1;u===e.length?o[l]=e[0]:(o[l]=e[u],a=!1)}if(a){if(n==="Z")return"a"+e[0];if(n==="z")return null;const l=String.fromCharCode(n.charCodeAt(0)+1);return l>"a"?o.push(e[0]):o.pop(),l+o.join("")}else return n+o.join("")}function Qf(t,e){Bl(t);const[n,...o]=t.split("");let a=!0;for(let l=o.length-1;a&&l>=0;l--){const u=e.indexOf(o[l])-1;u===-1?o[l]=e.slice(-1):(o[l]=e[u],a=!1)}if(a){if(n==="a")return"Z"+e.slice(-1);if(n==="A")return null;const l=String.fromCharCode(n.charCodeAt(0)-1);return l<"Z"?o.push(e.slice(-1)):o.pop(),l+o.join("")}else return n+o.join("")}function ho(t,e,n=Xf){if(t!=null&&Is(t,n),e!=null&&Is(e,n),t!=null&&e!=null&&t>=e)throw new Error(t+" >= "+e);if(t==null){if(e==null)return"a"+n[0];const h=dr(e),g=e.slice(h.length);if(h==="A"+n[0].repeat(26))return h+$n("",g,n);if(h<e)return h;const w=Qf(h,n);if(w==null)throw new Error("cannot decrement any more");return w}if(e==null){const h=dr(t),g=t.slice(h.length),w=Ts(h,n);return w??h+$n(g,null,n)}const o=dr(t),a=t.slice(o.length),l=dr(e),u=e.slice(l.length);if(o===l)return o+$n(a,u,n);const d=Ts(o,n);if(d==null)throw new Error("cannot increment any more");return d<e?d:o+$n(a,null,n)}const Jf="_entries_1an8x_1",ed="_compact_1an8x_24",td="_dragDisabled_1an8x_29",mn={entries:Jf,compact:ed,dragDisabled:td},nd=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",...t},Pe("path",{d:"M3.75 7.25a.75.75 0 0 0 0 1.5h8.5a.75.75 0 0 0 0-1.5h-8.5Z"})),rd=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-4",...t},Pe("path",{d:"M10.75 4.75a.75.75 0 0 0-1.5 0v4.5h-4.5a.75.75 0 0 0 0 1.5h4.5v4.5a.75.75 0 0 0 1.5 0v-4.5h4.5a.75.75 0 0 0 0-1.5h-4.5v-4.5Z"})),od=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 16 16",fill:"currentColor",className:"size-4",...t},Pe("path",{fillRule:"evenodd",d:"M13.78 10.47a.75.75 0 0 1 0 1.06l-2.25 2.25a.75.75 0 0 1-1.06 0l-2.25-2.25a.75.75 0 1 1 1.06-1.06l.97.97V5.75a.75.75 0 0 1 1.5 0v5.69l.97-.97a.75.75 0 0 1 1.06 0ZM2.22 5.53a.75.75 0 0 1 0-1.06l2.25-2.25a.75.75 0 0 1 1.06 0l2.25 2.25a.75.75 0 0 1-1.06 1.06l-.97-.97v5.69a.75.75 0 0 1-1.5 0V4.56l-.97.97a.75.75 0 0 1-1.06 0Z",clipRule:"evenodd"})),id=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 20 20",strokeWidth:1.5,stroke:"currentColor",className:"size-5",...t},Pe("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M10 7.5v5m2.5-2.5H7.5m10 0a7.5 7.5 0 1 1-15 0 7.5 7.5 0 0 1 15 0Z"})),ad=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",...t},Pe("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m.75 12 3 3m0 0 3-3m-3 3v-6m-1.5-9H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})),sd=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",strokeWidth:1.5,stroke:"currentColor",className:"size-5",...t},Pe("path",{strokeLinecap:"round",strokeLinejoin:"round",d:"M19.5 14.25v-2.625a3.375 3.375 0 0 0-3.375-3.375h-1.5A1.125 1.125 0 0 1 13.5 7.125v-1.5a3.375 3.375 0 0 0-3.375-3.375H8.25m6.75 12-3-3m0 0-3 3m3-3v6m-1.5-15H5.625c-.621 0-1.125.504-1.125 1.125v17.25c0 .621.504 1.125 1.125 1.125h12.75c.621 0 1.125-.504 1.125-1.125V11.25a9 9 0 0 0-9-9Z"})),zl=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"currentColor",...t},Pe("path",{d:"M312-144q-29.7 0-50.85-21.15Q240-186.3 240-216v-480h-48v-72h192v-48h192v48h192v72h-48v479.57Q720-186 698.85-165T648-144H312Zm336-552H312v480h336v-480ZM384-288h72v-336h-72v336Zm120 0h72v-336h-72v336ZM312-696v480-480Z"})),ld=()=>new Promise((t,e)=>{const n=document.createElement("input");n.type="file",n.accept=".json,application/json",n.oncancel=()=>e("no files selected"),n.onchange=async()=>{const o=n.files?.[0];if(!o){t([]);return}const a=JSON.parse(await o.text()),l=[];for(const u of a)u.name&&l.push({id:ko(),createdAt:Date.now(),type:u.type=="kcalPer100g"||u.type=="kcalPerUnit"?u.type:"kcalPer100g",name:`${u.name}`,kcal:parseFloat(`${u.kcal}`),total:parseFloat(`${u.total}`)});t(l)},n.click()}),ud=(t,e)=>{const n=t.map(d=>({type:d.type,name:d.name,kcal:d.kcal,total:d.total})),o=JSON.stringify(n,null,2),a=new Blob([o],{type:"application/json;charset=utf-8"}),l=URL.createObjectURL(a),u=document.createElement("a");u.href=l,u.download=e,document.body.append(u),u.click(),u.remove(),URL.revokeObjectURL(l)},cd=(t,e)=>{const n=t.findIndex(d=>d.id==e);let[o,a]=[n,-1];for(a=n+1;a<t.length&&t[a].hide;a++)o=a;const l=t[o]?.displayOrder??null,u=t[a]?.displayOrder??null;return ho(l,u)};function Rs(t,e){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(t);e&&(o=o.filter(function(a){return Object.getOwnPropertyDescriptor(t,a).enumerable})),n.push.apply(n,o)}return n}function Ot(t){for(var e=1;e<arguments.length;e++){var n=arguments[e]!=null?arguments[e]:{};e%2?Rs(Object(n),!0).forEach(function(o){fd(t,o,n[o])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Rs(Object(n)).forEach(function(o){Object.defineProperty(t,o,Object.getOwnPropertyDescriptor(n,o))})}return t}function po(t){"@babel/helpers - typeof";return typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?po=function(e){return typeof e}:po=function(e){return e&&typeof Symbol=="function"&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},po(t)}function fd(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function jt(){return jt=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(t[o]=n[o])}return t},jt.apply(this,arguments)}function dd(t,e){if(t==null)return{};var n={},o=Object.keys(t),a,l;for(l=0;l<o.length;l++)a=o[l],!(e.indexOf(a)>=0)&&(n[a]=t[a]);return n}function hd(t,e){if(t==null)return{};var n=dd(t,e),o,a;if(Object.getOwnPropertySymbols){var l=Object.getOwnPropertySymbols(t);for(a=0;a<l.length;a++)o=l[a],!(e.indexOf(o)>=0)&&Object.prototype.propertyIsEnumerable.call(t,o)&&(n[o]=t[o])}return n}var pd="1.15.6";function Rt(t){if(typeof window<"u"&&window.navigator)return!!navigator.userAgent.match(t)}var Ft=Rt(/(?:Trident.*rv[ :]?11\.|msie|iemobile|Windows Phone)/i),Pr=Rt(/Edge/i),Ns=Rt(/firefox/i),br=Rt(/safari/i)&&!Rt(/chrome/i)&&!Rt(/android/i),ra=Rt(/iP(ad|od|hone)/i),ql=Rt(/chrome/i)&&Rt(/android/i),Ul={capture:!1,passive:!1};function Ee(t,e,n){t.addEventListener(e,n,!Ft&&Ul)}function Se(t,e,n){t.removeEventListener(e,n,!Ft&&Ul)}function Eo(t,e){if(e){if(e[0]===">"&&(e=e.substring(1)),t)try{if(t.matches)return t.matches(e);if(t.msMatchesSelector)return t.msMatchesSelector(e);if(t.webkitMatchesSelector)return t.webkitMatchesSelector(e)}catch{return!1}return!1}}function Vl(t){return t.host&&t!==document&&t.host.nodeType?t.host:t.parentNode}function bt(t,e,n,o){if(t){n=n||document;do{if(e!=null&&(e[0]===">"?t.parentNode===n&&Eo(t,e):Eo(t,e))||o&&t===n)return t;if(t===n)break}while(t=Vl(t))}return null}var Ls=/\s+/g;function pt(t,e,n){if(t&&e)if(t.classList)t.classList[n?"add":"remove"](e);else{var o=(" "+t.className+" ").replace(Ls," ").replace(" "+e+" "," ");t.className=(o+(n?" "+e:"")).replace(Ls," ")}}function ue(t,e,n){var o=t&&t.style;if(o){if(n===void 0)return document.defaultView&&document.defaultView.getComputedStyle?n=document.defaultView.getComputedStyle(t,""):t.currentStyle&&(n=t.currentStyle),e===void 0?n:n[e];!(e in o)&&e.indexOf("webkit")===-1&&(e="-webkit-"+e),o[e]=n+(typeof n=="string"?"":"px")}}function qn(t,e){var n="";if(typeof t=="string")n=t;else do{var o=ue(t,"transform");o&&o!=="none"&&(n=o+" "+n)}while(!e&&(t=t.parentNode));var a=window.DOMMatrix||window.WebKitCSSMatrix||window.CSSMatrix||window.MSCSSMatrix;return a&&new a(n)}function Hl(t,e,n){if(t){var o=t.getElementsByTagName(e),a=0,l=o.length;if(n)for(;a<l;a++)n(o[a],a);return o}return[]}function Ct(){var t=document.scrollingElement;return t||document.documentElement}function He(t,e,n,o,a){if(!(!t.getBoundingClientRect&&t!==window)){var l,u,d,h,g,w,y;if(t!==window&&t.parentNode&&t!==Ct()?(l=t.getBoundingClientRect(),u=l.top,d=l.left,h=l.bottom,g=l.right,w=l.height,y=l.width):(u=0,d=0,h=window.innerHeight,g=window.innerWidth,w=window.innerHeight,y=window.innerWidth),(e||n)&&t!==window&&(a=a||t.parentNode,!Ft))do if(a&&a.getBoundingClientRect&&(ue(a,"transform")!=="none"||n&&ue(a,"position")!=="static")){var I=a.getBoundingClientRect();u-=I.top+parseInt(ue(a,"border-top-width")),d-=I.left+parseInt(ue(a,"border-left-width")),h=u+l.height,g=d+l.width;break}while(a=a.parentNode);if(o&&t!==window){var R=qn(a||t),N=R&&R.a,F=R&&R.d;R&&(u/=F,d/=N,y/=N,w/=F,h=u+w,g=d+y)}return{top:u,left:d,bottom:h,right:g,width:y,height:w}}}function js(t,e,n){for(var o=Zt(t,!0),a=He(t)[e];o;){var l=He(o)[n],u=void 0;if(u=a>=l,!u)return o;if(o===Ct())break;o=Zt(o,!1)}return!1}function Hn(t,e,n,o){for(var a=0,l=0,u=t.children;l<u.length;){if(u[l].style.display!=="none"&&u[l]!==ce.ghost&&(o||u[l]!==ce.dragged)&&bt(u[l],n.draggable,t,!1)){if(a===e)return u[l];a++}l++}return null}function oa(t,e){for(var n=t.lastElementChild;n&&(n===ce.ghost||ue(n,"display")==="none"||e&&!Eo(n,e));)n=n.previousElementSibling;return n||null}function yt(t,e){var n=0;if(!t||!t.parentNode)return-1;for(;t=t.previousElementSibling;)t.nodeName.toUpperCase()!=="TEMPLATE"&&t!==ce.clone&&(!e||Eo(t,e))&&n++;return n}function Fs(t){var e=0,n=0,o=Ct();if(t)do{var a=qn(t),l=a.a,u=a.d;e+=t.scrollLeft*l,n+=t.scrollTop*u}while(t!==o&&(t=t.parentNode));return[e,n]}function gd(t,e){for(var n in t)if(t.hasOwnProperty(n)){for(var o in e)if(e.hasOwnProperty(o)&&e[o]===t[n][o])return Number(n)}return-1}function Zt(t,e){if(!t||!t.getBoundingClientRect)return Ct();var n=t,o=!1;do if(n.clientWidth<n.scrollWidth||n.clientHeight<n.scrollHeight){var a=ue(n);if(n.clientWidth<n.scrollWidth&&(a.overflowX=="auto"||a.overflowX=="scroll")||n.clientHeight<n.scrollHeight&&(a.overflowY=="auto"||a.overflowY=="scroll")){if(!n.getBoundingClientRect||n===document.body)return Ct();if(o||e)return n;o=!0}}while(n=n.parentNode);return Ct()}function md(t,e){if(t&&e)for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n]);return t}function Ei(t,e){return Math.round(t.top)===Math.round(e.top)&&Math.round(t.left)===Math.round(e.left)&&Math.round(t.height)===Math.round(e.height)&&Math.round(t.width)===Math.round(e.width)}var wr;function Wl(t,e){return function(){if(!wr){var n=arguments,o=this;n.length===1?t.call(o,n[0]):t.apply(o,n),wr=setTimeout(function(){wr=void 0},e)}}}function yd(){clearTimeout(wr),wr=void 0}function Gl(t,e,n){t.scrollLeft+=e,t.scrollTop+=n}function Yl(t){var e=window.Polymer,n=window.jQuery||window.Zepto;return e&&e.dom?e.dom(t).cloneNode(!0):n?n(t).clone(!0)[0]:t.cloneNode(!0)}function Zl(t,e,n){var o={};return Array.from(t.children).forEach(function(a){var l,u,d,h;if(!(!bt(a,e.draggable,t,!1)||a.animated||a===n)){var g=He(a);o.left=Math.min((l=o.left)!==null&&l!==void 0?l:1/0,g.left),o.top=Math.min((u=o.top)!==null&&u!==void 0?u:1/0,g.top),o.right=Math.max((d=o.right)!==null&&d!==void 0?d:-1/0,g.right),o.bottom=Math.max((h=o.bottom)!==null&&h!==void 0?h:-1/0,g.bottom)}}),o.width=o.right-o.left,o.height=o.bottom-o.top,o.x=o.left,o.y=o.top,o}var ft="Sortable"+new Date().getTime();function vd(){var t=[],e;return{captureAnimationState:function(){if(t=[],!!this.options.animation){var o=[].slice.call(this.el.children);o.forEach(function(a){if(!(ue(a,"display")==="none"||a===ce.ghost)){t.push({target:a,rect:He(a)});var l=Ot({},t[t.length-1].rect);if(a.thisAnimationDuration){var u=qn(a,!0);u&&(l.top-=u.f,l.left-=u.e)}a.fromRect=l}})}},addAnimationState:function(o){t.push(o)},removeAnimationState:function(o){t.splice(gd(t,{target:o}),1)},animateAll:function(o){var a=this;if(!this.options.animation){clearTimeout(e),typeof o=="function"&&o();return}var l=!1,u=0;t.forEach(function(d){var h=0,g=d.target,w=g.fromRect,y=He(g),I=g.prevFromRect,R=g.prevToRect,N=d.rect,F=qn(g,!0);F&&(y.top-=F.f,y.left-=F.e),g.toRect=y,g.thisAnimationDuration&&Ei(I,y)&&!Ei(w,y)&&(N.top-y.top)/(N.left-y.left)===(w.top-y.top)/(w.left-y.left)&&(h=wd(N,I,R,a.options)),Ei(y,w)||(g.prevFromRect=w,g.prevToRect=y,h||(h=a.options.animation),a.animate(g,N,y,h)),h&&(l=!0,u=Math.max(u,h),clearTimeout(g.animationResetTimer),g.animationResetTimer=setTimeout(function(){g.animationTime=0,g.prevFromRect=null,g.fromRect=null,g.prevToRect=null,g.thisAnimationDuration=null},h),g.thisAnimationDuration=h)}),clearTimeout(e),l?e=setTimeout(function(){typeof o=="function"&&o()},u):typeof o=="function"&&o(),t=[]},animate:function(o,a,l,u){if(u){ue(o,"transition",""),ue(o,"transform","");var d=qn(this.el),h=d&&d.a,g=d&&d.d,w=(a.left-l.left)/(h||1),y=(a.top-l.top)/(g||1);o.animatingX=!!w,o.animatingY=!!y,ue(o,"transform","translate3d("+w+"px,"+y+"px,0)"),this.forRepaintDummy=bd(o),ue(o,"transition","transform "+u+"ms"+(this.options.easing?" "+this.options.easing:"")),ue(o,"transform","translate3d(0,0,0)"),typeof o.animated=="number"&&clearTimeout(o.animated),o.animated=setTimeout(function(){ue(o,"transition",""),ue(o,"transform",""),o.animated=!1,o.animatingX=!1,o.animatingY=!1},u)}}}}function bd(t){return t.offsetWidth}function wd(t,e,n,o){return Math.sqrt(Math.pow(e.top-t.top,2)+Math.pow(e.left-t.left,2))/Math.sqrt(Math.pow(e.top-n.top,2)+Math.pow(e.left-n.left,2))*o.animation}var Nn=[],Ci={initializeByDefault:!0},Dr={mount:function(e){for(var n in Ci)Ci.hasOwnProperty(n)&&!(n in e)&&(e[n]=Ci[n]);Nn.forEach(function(o){if(o.pluginName===e.pluginName)throw"Sortable: Cannot mount plugin ".concat(e.pluginName," more than once")}),Nn.push(e)},pluginEvent:function(e,n,o){var a=this;this.eventCanceled=!1,o.cancel=function(){a.eventCanceled=!0};var l=e+"Global";Nn.forEach(function(u){n[u.pluginName]&&(n[u.pluginName][l]&&n[u.pluginName][l](Ot({sortable:n},o)),n.options[u.pluginName]&&n[u.pluginName][e]&&n[u.pluginName][e](Ot({sortable:n},o)))})},initializePlugins:function(e,n,o,a){Nn.forEach(function(d){var h=d.pluginName;if(!(!e.options[h]&&!d.initializeByDefault)){var g=new d(e,n,e.options);g.sortable=e,g.options=e.options,e[h]=g,jt(o,g.defaults)}});for(var l in e.options)if(e.options.hasOwnProperty(l)){var u=this.modifyOption(e,l,e.options[l]);typeof u<"u"&&(e.options[l]=u)}},getEventProperties:function(e,n){var o={};return Nn.forEach(function(a){typeof a.eventProperties=="function"&&jt(o,a.eventProperties.call(n[a.pluginName],e))}),o},modifyOption:function(e,n,o){var a;return Nn.forEach(function(l){e[l.pluginName]&&l.optionListeners&&typeof l.optionListeners[n]=="function"&&(a=l.optionListeners[n].call(e[l.pluginName],o))}),a}};function _d(t){var e=t.sortable,n=t.rootEl,o=t.name,a=t.targetEl,l=t.cloneEl,u=t.toEl,d=t.fromEl,h=t.oldIndex,g=t.newIndex,w=t.oldDraggableIndex,y=t.newDraggableIndex,I=t.originalEvent,R=t.putSortable,N=t.extraEventProperties;if(e=e||n&&n[ft],!!e){var F,oe=e.options,te="on"+o.charAt(0).toUpperCase()+o.substr(1);window.CustomEvent&&!Ft&&!Pr?F=new CustomEvent(o,{bubbles:!0,cancelable:!0}):(F=document.createEvent("Event"),F.initEvent(o,!0,!0)),F.to=u||n,F.from=d||n,F.item=a||n,F.clone=l,F.oldIndex=h,F.newIndex=g,F.oldDraggableIndex=w,F.newDraggableIndex=y,F.originalEvent=I,F.pullMode=R?R.lastPutMode:void 0;var ee=Ot(Ot({},N),Dr.getEventProperties(o,e));for(var fe in ee)F[fe]=ee[fe];n&&n.dispatchEvent(F),oe[te]&&oe[te].call(e,F)}}var xd=["evt"],ct=function(e,n){var o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},a=o.evt,l=hd(o,xd);Dr.pluginEvent.bind(ce)(e,n,Ot({dragEl:U,parentEl:$e,ghostEl:pe,rootEl:je,nextEl:gn,lastDownEl:go,cloneEl:Me,cloneHidden:Yt,dragStarted:hr,putSortable:Qe,activeSortable:ce.active,originalEvent:a,oldIndex:zn,oldDraggableIndex:_r,newIndex:gt,newDraggableIndex:Gt,hideGhostForTarget:eu,unhideGhostForTarget:tu,cloneNowHidden:function(){Yt=!0},cloneNowShown:function(){Yt=!1},dispatchSortableEvent:function(d){st({sortable:n,name:d,originalEvent:a})}},l))};function st(t){_d(Ot({putSortable:Qe,cloneEl:Me,targetEl:U,rootEl:je,oldIndex:zn,oldDraggableIndex:_r,newIndex:gt,newDraggableIndex:Gt},t))}var U,$e,pe,je,gn,go,Me,Yt,zn,gt,_r,Gt,ao,Qe,Kn=!1,Co=!1,Oo=[],hn,vt,Oi,Pi,Ms,Ks,hr,Ln,xr,Sr=!1,so=!1,mo,ot,Di=[],zi=!1,Po=[],No=typeof document<"u",lo=ra,Bs=Pr||Ft?"cssFloat":"float",Sd=No&&!ql&&!ra&&"draggable"in document.createElement("div"),Xl=(function(){if(No){if(Ft)return!1;var t=document.createElement("x");return t.style.cssText="pointer-events:auto",t.style.pointerEvents==="auto"}})(),Ql=function(e,n){var o=ue(e),a=parseInt(o.width)-parseInt(o.paddingLeft)-parseInt(o.paddingRight)-parseInt(o.borderLeftWidth)-parseInt(o.borderRightWidth),l=Hn(e,0,n),u=Hn(e,1,n),d=l&&ue(l),h=u&&ue(u),g=d&&parseInt(d.marginLeft)+parseInt(d.marginRight)+He(l).width,w=h&&parseInt(h.marginLeft)+parseInt(h.marginRight)+He(u).width;if(o.display==="flex")return o.flexDirection==="column"||o.flexDirection==="column-reverse"?"vertical":"horizontal";if(o.display==="grid")return o.gridTemplateColumns.split(" ").length<=1?"vertical":"horizontal";if(l&&d.float&&d.float!=="none"){var y=d.float==="left"?"left":"right";return u&&(h.clear==="both"||h.clear===y)?"vertical":"horizontal"}return l&&(d.display==="block"||d.display==="flex"||d.display==="table"||d.display==="grid"||g>=a&&o[Bs]==="none"||u&&o[Bs]==="none"&&g+w>a)?"vertical":"horizontal"},kd=function(e,n,o){var a=o?e.left:e.top,l=o?e.right:e.bottom,u=o?e.width:e.height,d=o?n.left:n.top,h=o?n.right:n.bottom,g=o?n.width:n.height;return a===d||l===h||a+u/2===d+g/2},Ed=function(e,n){var o;return Oo.some(function(a){var l=a[ft].options.emptyInsertThreshold;if(!(!l||oa(a))){var u=He(a),d=e>=u.left-l&&e<=u.right+l,h=n>=u.top-l&&n<=u.bottom+l;if(d&&h)return o=a}}),o},Jl=function(e){function n(l,u){return function(d,h,g,w){var y=d.options.group.name&&h.options.group.name&&d.options.group.name===h.options.group.name;if(l==null&&(u||y))return!0;if(l==null||l===!1)return!1;if(u&&l==="clone")return l;if(typeof l=="function")return n(l(d,h,g,w),u)(d,h,g,w);var I=(u?d:h).options.group.name;return l===!0||typeof l=="string"&&l===I||l.join&&l.indexOf(I)>-1}}var o={},a=e.group;(!a||po(a)!="object")&&(a={name:a}),o.name=a.name,o.checkPull=n(a.pull,!0),o.checkPut=n(a.put),o.revertClone=a.revertClone,e.group=o},eu=function(){!Xl&&pe&&ue(pe,"display","none")},tu=function(){!Xl&&pe&&ue(pe,"display","")};No&&!ql&&document.addEventListener("click",function(t){if(Co)return t.preventDefault(),t.stopPropagation&&t.stopPropagation(),t.stopImmediatePropagation&&t.stopImmediatePropagation(),Co=!1,!1},!0);var pn=function(e){if(U){e=e.touches?e.touches[0]:e;var n=Ed(e.clientX,e.clientY);if(n){var o={};for(var a in e)e.hasOwnProperty(a)&&(o[a]=e[a]);o.target=o.rootEl=n,o.preventDefault=void 0,o.stopPropagation=void 0,n[ft]._onDragOver(o)}}},Cd=function(e){U&&U.parentNode[ft]._isOutsideThisEl(e.target)};function ce(t,e){if(!(t&&t.nodeType&&t.nodeType===1))throw"Sortable: `el` must be an HTMLElement, not ".concat({}.toString.call(t));this.el=t,this.options=e=jt({},e),t[ft]=this;var n={group:null,sort:!0,disabled:!1,store:null,handle:null,draggable:/^[uo]l$/i.test(t.nodeName)?">li":">*",swapThreshold:1,invertSwap:!1,invertedSwapThreshold:null,removeCloneOnHide:!0,direction:function(){return Ql(t,this.options)},ghostClass:"sortable-ghost",chosenClass:"sortable-chosen",dragClass:"sortable-drag",ignore:"a, img",filter:null,preventOnFilter:!0,animation:0,easing:null,setData:function(u,d){u.setData("Text",d.textContent)},dropBubble:!1,dragoverBubble:!1,dataIdAttr:"data-id",delay:0,delayOnTouchOnly:!1,touchStartThreshold:(Number.parseInt?Number:window).parseInt(window.devicePixelRatio,10)||1,forceFallback:!1,fallbackClass:"sortable-fallback",fallbackOnBody:!1,fallbackTolerance:0,fallbackOffset:{x:0,y:0},supportPointer:ce.supportPointer!==!1&&"PointerEvent"in window&&(!br||ra),emptyInsertThreshold:5};Dr.initializePlugins(this,t,n);for(var o in n)!(o in e)&&(e[o]=n[o]);Jl(e);for(var a in this)a.charAt(0)==="_"&&typeof this[a]=="function"&&(this[a]=this[a].bind(this));this.nativeDraggable=e.forceFallback?!1:Sd,this.nativeDraggable&&(this.options.touchStartThreshold=1),e.supportPointer?Ee(t,"pointerdown",this._onTapStart):(Ee(t,"mousedown",this._onTapStart),Ee(t,"touchstart",this._onTapStart)),this.nativeDraggable&&(Ee(t,"dragover",this),Ee(t,"dragenter",this)),Oo.push(this.el),e.store&&e.store.get&&this.sort(e.store.get(this)||[]),jt(this,vd())}ce.prototype={constructor:ce,_isOutsideThisEl:function(e){!this.el.contains(e)&&e!==this.el&&(Ln=null)},_getDirection:function(e,n){return typeof this.options.direction=="function"?this.options.direction.call(this,e,n,U):this.options.direction},_onTapStart:function(e){if(e.cancelable){var n=this,o=this.el,a=this.options,l=a.preventOnFilter,u=e.type,d=e.touches&&e.touches[0]||e.pointerType&&e.pointerType==="touch"&&e,h=(d||e).target,g=e.target.shadowRoot&&(e.path&&e.path[0]||e.composedPath&&e.composedPath()[0])||h,w=a.filter;if(Nd(o),!U&&!(/mousedown|pointerdown/.test(u)&&e.button!==0||a.disabled)&&!g.isContentEditable&&!(!this.nativeDraggable&&br&&h&&h.tagName.toUpperCase()==="SELECT")&&(h=bt(h,a.draggable,o,!1),!(h&&h.animated)&&go!==h)){if(zn=yt(h),_r=yt(h,a.draggable),typeof w=="function"){if(w.call(this,e,h,this)){st({sortable:n,rootEl:g,name:"filter",targetEl:h,toEl:o,fromEl:o}),ct("filter",n,{evt:e}),l&&e.preventDefault();return}}else if(w&&(w=w.split(",").some(function(y){if(y=bt(g,y.trim(),o,!1),y)return st({sortable:n,rootEl:y,name:"filter",targetEl:h,fromEl:o,toEl:o}),ct("filter",n,{evt:e}),!0}),w)){l&&e.preventDefault();return}a.handle&&!bt(g,a.handle,o,!1)||this._prepareDragStart(e,d,h)}}},_prepareDragStart:function(e,n,o){var a=this,l=a.el,u=a.options,d=l.ownerDocument,h;if(o&&!U&&o.parentNode===l){var g=He(o);if(je=l,U=o,$e=U.parentNode,gn=U.nextSibling,go=o,ao=u.group,ce.dragged=U,hn={target:U,clientX:(n||e).clientX,clientY:(n||e).clientY},Ms=hn.clientX-g.left,Ks=hn.clientY-g.top,this._lastX=(n||e).clientX,this._lastY=(n||e).clientY,U.style["will-change"]="all",h=function(){if(ct("delayEnded",a,{evt:e}),ce.eventCanceled){a._onDrop();return}a._disableDelayedDragEvents(),!Ns&&a.nativeDraggable&&(U.draggable=!0),a._triggerDragStart(e,n),st({sortable:a,name:"choose",originalEvent:e}),pt(U,u.chosenClass,!0)},u.ignore.split(",").forEach(function(w){Hl(U,w.trim(),Ai)}),Ee(d,"dragover",pn),Ee(d,"mousemove",pn),Ee(d,"touchmove",pn),u.supportPointer?(Ee(d,"pointerup",a._onDrop),!this.nativeDraggable&&Ee(d,"pointercancel",a._onDrop)):(Ee(d,"mouseup",a._onDrop),Ee(d,"touchend",a._onDrop),Ee(d,"touchcancel",a._onDrop)),Ns&&this.nativeDraggable&&(this.options.touchStartThreshold=4,U.draggable=!0),ct("delayStart",this,{evt:e}),u.delay&&(!u.delayOnTouchOnly||n)&&(!this.nativeDraggable||!(Pr||Ft))){if(ce.eventCanceled){this._onDrop();return}u.supportPointer?(Ee(d,"pointerup",a._disableDelayedDrag),Ee(d,"pointercancel",a._disableDelayedDrag)):(Ee(d,"mouseup",a._disableDelayedDrag),Ee(d,"touchend",a._disableDelayedDrag),Ee(d,"touchcancel",a._disableDelayedDrag)),Ee(d,"mousemove",a._delayedDragTouchMoveHandler),Ee(d,"touchmove",a._delayedDragTouchMoveHandler),u.supportPointer&&Ee(d,"pointermove",a._delayedDragTouchMoveHandler),a._dragStartTimer=setTimeout(h,u.delay)}else h()}},_delayedDragTouchMoveHandler:function(e){var n=e.touches?e.touches[0]:e;Math.max(Math.abs(n.clientX-this._lastX),Math.abs(n.clientY-this._lastY))>=Math.floor(this.options.touchStartThreshold/(this.nativeDraggable&&window.devicePixelRatio||1))&&this._disableDelayedDrag()},_disableDelayedDrag:function(){U&&Ai(U),clearTimeout(this._dragStartTimer),this._disableDelayedDragEvents()},_disableDelayedDragEvents:function(){var e=this.el.ownerDocument;Se(e,"mouseup",this._disableDelayedDrag),Se(e,"touchend",this._disableDelayedDrag),Se(e,"touchcancel",this._disableDelayedDrag),Se(e,"pointerup",this._disableDelayedDrag),Se(e,"pointercancel",this._disableDelayedDrag),Se(e,"mousemove",this._delayedDragTouchMoveHandler),Se(e,"touchmove",this._delayedDragTouchMoveHandler),Se(e,"pointermove",this._delayedDragTouchMoveHandler)},_triggerDragStart:function(e,n){n=n||e.pointerType=="touch"&&e,!this.nativeDraggable||n?this.options.supportPointer?Ee(document,"pointermove",this._onTouchMove):n?Ee(document,"touchmove",this._onTouchMove):Ee(document,"mousemove",this._onTouchMove):(Ee(U,"dragend",this),Ee(je,"dragstart",this._onDragStart));try{document.selection?yo(function(){document.selection.empty()}):window.getSelection().removeAllRanges()}catch{}},_dragStarted:function(e,n){if(Kn=!1,je&&U){ct("dragStarted",this,{evt:n}),this.nativeDraggable&&Ee(document,"dragover",Cd);var o=this.options;!e&&pt(U,o.dragClass,!1),pt(U,o.ghostClass,!0),ce.active=this,e&&this._appendGhost(),st({sortable:this,name:"start",originalEvent:n})}else this._nulling()},_emulateDragOver:function(){if(vt){this._lastX=vt.clientX,this._lastY=vt.clientY,eu();for(var e=document.elementFromPoint(vt.clientX,vt.clientY),n=e;e&&e.shadowRoot&&(e=e.shadowRoot.elementFromPoint(vt.clientX,vt.clientY),e!==n);)n=e;if(U.parentNode[ft]._isOutsideThisEl(e),n)do{if(n[ft]){var o=void 0;if(o=n[ft]._onDragOver({clientX:vt.clientX,clientY:vt.clientY,target:e,rootEl:n}),o&&!this.options.dragoverBubble)break}e=n}while(n=Vl(n));tu()}},_onTouchMove:function(e){if(hn){var n=this.options,o=n.fallbackTolerance,a=n.fallbackOffset,l=e.touches?e.touches[0]:e,u=pe&&qn(pe,!0),d=pe&&u&&u.a,h=pe&&u&&u.d,g=lo&&ot&&Fs(ot),w=(l.clientX-hn.clientX+a.x)/(d||1)+(g?g[0]-Di[0]:0)/(d||1),y=(l.clientY-hn.clientY+a.y)/(h||1)+(g?g[1]-Di[1]:0)/(h||1);if(!ce.active&&!Kn){if(o&&Math.max(Math.abs(l.clientX-this._lastX),Math.abs(l.clientY-this._lastY))<o)return;this._onDragStart(e,!0)}if(pe){u?(u.e+=w-(Oi||0),u.f+=y-(Pi||0)):u={a:1,b:0,c:0,d:1,e:w,f:y};var I="matrix(".concat(u.a,",").concat(u.b,",").concat(u.c,",").concat(u.d,",").concat(u.e,",").concat(u.f,")");ue(pe,"webkitTransform",I),ue(pe,"mozTransform",I),ue(pe,"msTransform",I),ue(pe,"transform",I),Oi=w,Pi=y,vt=l}e.cancelable&&e.preventDefault()}},_appendGhost:function(){if(!pe){var e=this.options.fallbackOnBody?document.body:je,n=He(U,!0,lo,!0,e),o=this.options;if(lo){for(ot=e;ue(ot,"position")==="static"&&ue(ot,"transform")==="none"&&ot!==document;)ot=ot.parentNode;ot!==document.body&&ot!==document.documentElement?(ot===document&&(ot=Ct()),n.top+=ot.scrollTop,n.left+=ot.scrollLeft):ot=Ct(),Di=Fs(ot)}pe=U.cloneNode(!0),pt(pe,o.ghostClass,!1),pt(pe,o.fallbackClass,!0),pt(pe,o.dragClass,!0),ue(pe,"transition",""),ue(pe,"transform",""),ue(pe,"box-sizing","border-box"),ue(pe,"margin",0),ue(pe,"top",n.top),ue(pe,"left",n.left),ue(pe,"width",n.width),ue(pe,"height",n.height),ue(pe,"opacity","0.8"),ue(pe,"position",lo?"absolute":"fixed"),ue(pe,"zIndex","100000"),ue(pe,"pointerEvents","none"),ce.ghost=pe,e.appendChild(pe),ue(pe,"transform-origin",Ms/parseInt(pe.style.width)*100+"% "+Ks/parseInt(pe.style.height)*100+"%")}},_onDragStart:function(e,n){var o=this,a=e.dataTransfer,l=o.options;if(ct("dragStart",this,{evt:e}),ce.eventCanceled){this._onDrop();return}ct("setupClone",this),ce.eventCanceled||(Me=Yl(U),Me.removeAttribute("id"),Me.draggable=!1,Me.style["will-change"]="",this._hideClone(),pt(Me,this.options.chosenClass,!1),ce.clone=Me),o.cloneId=yo(function(){ct("clone",o),!ce.eventCanceled&&(o.options.removeCloneOnHide||je.insertBefore(Me,U),o._hideClone(),st({sortable:o,name:"clone"}))}),!n&&pt(U,l.dragClass,!0),n?(Co=!0,o._loopId=setInterval(o._emulateDragOver,50)):(Se(document,"mouseup",o._onDrop),Se(document,"touchend",o._onDrop),Se(document,"touchcancel",o._onDrop),a&&(a.effectAllowed="move",l.setData&&l.setData.call(o,a,U)),Ee(document,"drop",o),ue(U,"transform","translateZ(0)")),Kn=!0,o._dragStartId=yo(o._dragStarted.bind(o,n,e)),Ee(document,"selectstart",o),hr=!0,window.getSelection().removeAllRanges(),br&&ue(document.body,"user-select","none")},_onDragOver:function(e){var n=this.el,o=e.target,a,l,u,d=this.options,h=d.group,g=ce.active,w=ao===h,y=d.sort,I=Qe||g,R,N=this,F=!1;if(zi)return;function oe(W,ze){ct(W,N,Ot({evt:e,isOwner:w,axis:R?"vertical":"horizontal",revert:u,dragRect:a,targetRect:l,canSort:y,fromSortable:I,target:o,completed:ee,onMove:function(Fe,it){return uo(je,n,U,a,Fe,He(Fe),e,it)},changed:fe},ze))}function te(){oe("dragOverAnimationCapture"),N.captureAnimationState(),N!==I&&I.captureAnimationState()}function ee(W){return oe("dragOverCompleted",{insertion:W}),W&&(w?g._hideClone():g._showClone(N),N!==I&&(pt(U,Qe?Qe.options.ghostClass:g.options.ghostClass,!1),pt(U,d.ghostClass,!0)),Qe!==N&&N!==ce.active?Qe=N:N===ce.active&&Qe&&(Qe=null),I===N&&(N._ignoreWhileAnimating=o),N.animateAll(function(){oe("dragOverAnimationComplete"),N._ignoreWhileAnimating=null}),N!==I&&(I.animateAll(),I._ignoreWhileAnimating=null)),(o===U&&!U.animated||o===n&&!o.animated)&&(Ln=null),!d.dragoverBubble&&!e.rootEl&&o!==document&&(U.parentNode[ft]._isOutsideThisEl(e.target),!W&&pn(e)),!d.dragoverBubble&&e.stopPropagation&&e.stopPropagation(),F=!0}function fe(){gt=yt(U),Gt=yt(U,d.draggable),st({sortable:N,name:"change",toEl:n,newIndex:gt,newDraggableIndex:Gt,originalEvent:e})}if(e.preventDefault!==void 0&&e.cancelable&&e.preventDefault(),o=bt(o,d.draggable,n,!0),oe("dragOver"),ce.eventCanceled)return F;if(U.contains(e.target)||o.animated&&o.animatingX&&o.animatingY||N._ignoreWhileAnimating===o)return ee(!1);if(Co=!1,g&&!d.disabled&&(w?y||(u=$e!==je):Qe===this||(this.lastPutMode=ao.checkPull(this,g,U,e))&&h.checkPut(this,g,U,e))){if(R=this._getDirection(e,o)==="vertical",a=He(U),oe("dragOverValid"),ce.eventCanceled)return F;if(u)return $e=je,te(),this._hideClone(),oe("revert"),ce.eventCanceled||(gn?je.insertBefore(U,gn):je.appendChild(U)),ee(!0);var se=oa(n,d.draggable);if(!se||Ad(e,R,this)&&!se.animated){if(se===U)return ee(!1);if(se&&n===e.target&&(o=se),o&&(l=He(o)),uo(je,n,U,a,o,l,e,!!o)!==!1)return te(),se&&se.nextSibling?n.insertBefore(U,se.nextSibling):n.appendChild(U),$e=n,fe(),ee(!0)}else if(se&&Dd(e,R,this)){var ne=Hn(n,0,d,!0);if(ne===U)return ee(!1);if(o=ne,l=He(o),uo(je,n,U,a,o,l,e,!1)!==!1)return te(),n.insertBefore(U,ne),$e=n,fe(),ee(!0)}else if(o.parentNode===n){l=He(o);var K=0,Z,B=U.parentNode!==n,Y=!kd(U.animated&&U.toRect||a,o.animated&&o.toRect||l,R),ie=R?"top":"left",he=js(o,"top","top")||js(U,"top","top"),ge=he?he.scrollTop:void 0;Ln!==o&&(Z=l[ie],Sr=!1,so=!Y&&d.invertSwap||B),K=Id(e,o,l,R,Y?1:d.swapThreshold,d.invertedSwapThreshold==null?d.swapThreshold:d.invertedSwapThreshold,so,Ln===o);var ye;if(K!==0){var Ce=yt(U);do Ce-=K,ye=$e.children[Ce];while(ye&&(ue(ye,"display")==="none"||ye===pe))}if(K===0||ye===o)return ee(!1);Ln=o,xr=K;var Re=o.nextElementSibling,le=!1;le=K===1;var we=uo(je,n,U,a,o,l,e,le);if(we!==!1)return(we===1||we===-1)&&(le=we===1),zi=!0,setTimeout(Pd,30),te(),le&&!Re?n.appendChild(U):o.parentNode.insertBefore(U,le?Re:o),he&&Gl(he,0,ge-he.scrollTop),$e=U.parentNode,Z!==void 0&&!so&&(mo=Math.abs(Z-He(o)[ie])),fe(),ee(!0)}if(n.contains(U))return ee(!1)}return!1},_ignoreWhileAnimating:null,_offMoveEvents:function(){Se(document,"mousemove",this._onTouchMove),Se(document,"touchmove",this._onTouchMove),Se(document,"pointermove",this._onTouchMove),Se(document,"dragover",pn),Se(document,"mousemove",pn),Se(document,"touchmove",pn)},_offUpEvents:function(){var e=this.el.ownerDocument;Se(e,"mouseup",this._onDrop),Se(e,"touchend",this._onDrop),Se(e,"pointerup",this._onDrop),Se(e,"pointercancel",this._onDrop),Se(e,"touchcancel",this._onDrop),Se(document,"selectstart",this)},_onDrop:function(e){var n=this.el,o=this.options;if(gt=yt(U),Gt=yt(U,o.draggable),ct("drop",this,{evt:e}),$e=U&&U.parentNode,gt=yt(U),Gt=yt(U,o.draggable),ce.eventCanceled){this._nulling();return}Kn=!1,so=!1,Sr=!1,clearInterval(this._loopId),clearTimeout(this._dragStartTimer),qi(this.cloneId),qi(this._dragStartId),this.nativeDraggable&&(Se(document,"drop",this),Se(n,"dragstart",this._onDragStart)),this._offMoveEvents(),this._offUpEvents(),br&&ue(document.body,"user-select",""),ue(U,"transform",""),e&&(hr&&(e.cancelable&&e.preventDefault(),!o.dropBubble&&e.stopPropagation()),pe&&pe.parentNode&&pe.parentNode.removeChild(pe),(je===$e||Qe&&Qe.lastPutMode!=="clone")&&Me&&Me.parentNode&&Me.parentNode.removeChild(Me),U&&(this.nativeDraggable&&Se(U,"dragend",this),Ai(U),U.style["will-change"]="",hr&&!Kn&&pt(U,Qe?Qe.options.ghostClass:this.options.ghostClass,!1),pt(U,this.options.chosenClass,!1),st({sortable:this,name:"unchoose",toEl:$e,newIndex:null,newDraggableIndex:null,originalEvent:e}),je!==$e?(gt>=0&&(st({rootEl:$e,name:"add",toEl:$e,fromEl:je,originalEvent:e}),st({sortable:this,name:"remove",toEl:$e,originalEvent:e}),st({rootEl:$e,name:"sort",toEl:$e,fromEl:je,originalEvent:e}),st({sortable:this,name:"sort",toEl:$e,originalEvent:e})),Qe&&Qe.save()):gt!==zn&&gt>=0&&(st({sortable:this,name:"update",toEl:$e,originalEvent:e}),st({sortable:this,name:"sort",toEl:$e,originalEvent:e})),ce.active&&((gt==null||gt===-1)&&(gt=zn,Gt=_r),st({sortable:this,name:"end",toEl:$e,originalEvent:e}),this.save()))),this._nulling()},_nulling:function(){ct("nulling",this),je=U=$e=pe=gn=Me=go=Yt=hn=vt=hr=gt=Gt=zn=_r=Ln=xr=Qe=ao=ce.dragged=ce.ghost=ce.clone=ce.active=null,Po.forEach(function(e){e.checked=!0}),Po.length=Oi=Pi=0},handleEvent:function(e){switch(e.type){case"drop":case"dragend":this._onDrop(e);break;case"dragenter":case"dragover":U&&(this._onDragOver(e),Od(e));break;case"selectstart":e.preventDefault();break}},toArray:function(){for(var e=[],n,o=this.el.children,a=0,l=o.length,u=this.options;a<l;a++)n=o[a],bt(n,u.draggable,this.el,!1)&&e.push(n.getAttribute(u.dataIdAttr)||Rd(n));return e},sort:function(e,n){var o={},a=this.el;this.toArray().forEach(function(l,u){var d=a.children[u];bt(d,this.options.draggable,a,!1)&&(o[l]=d)},this),n&&this.captureAnimationState(),e.forEach(function(l){o[l]&&(a.removeChild(o[l]),a.appendChild(o[l]))}),n&&this.animateAll()},save:function(){var e=this.options.store;e&&e.set&&e.set(this)},closest:function(e,n){return bt(e,n||this.options.draggable,this.el,!1)},option:function(e,n){var o=this.options;if(n===void 0)return o[e];var a=Dr.modifyOption(this,e,n);typeof a<"u"?o[e]=a:o[e]=n,e==="group"&&Jl(o)},destroy:function(){ct("destroy",this);var e=this.el;e[ft]=null,Se(e,"mousedown",this._onTapStart),Se(e,"touchstart",this._onTapStart),Se(e,"pointerdown",this._onTapStart),this.nativeDraggable&&(Se(e,"dragover",this),Se(e,"dragenter",this)),Array.prototype.forEach.call(e.querySelectorAll("[draggable]"),function(n){n.removeAttribute("draggable")}),this._onDrop(),this._disableDelayedDragEvents(),Oo.splice(Oo.indexOf(this.el),1),this.el=e=null},_hideClone:function(){if(!Yt){if(ct("hideClone",this),ce.eventCanceled)return;ue(Me,"display","none"),this.options.removeCloneOnHide&&Me.parentNode&&Me.parentNode.removeChild(Me),Yt=!0}},_showClone:function(e){if(e.lastPutMode!=="clone"){this._hideClone();return}if(Yt){if(ct("showClone",this),ce.eventCanceled)return;U.parentNode==je&&!this.options.group.revertClone?je.insertBefore(Me,U):gn?je.insertBefore(Me,gn):je.appendChild(Me),this.options.group.revertClone&&this.animate(U,Me),ue(Me,"display",""),Yt=!1}}};function Od(t){t.dataTransfer&&(t.dataTransfer.dropEffect="move"),t.cancelable&&t.preventDefault()}function uo(t,e,n,o,a,l,u,d){var h,g=t[ft],w=g.options.onMove,y;return window.CustomEvent&&!Ft&&!Pr?h=new CustomEvent("move",{bubbles:!0,cancelable:!0}):(h=document.createEvent("Event"),h.initEvent("move",!0,!0)),h.to=e,h.from=t,h.dragged=n,h.draggedRect=o,h.related=a||e,h.relatedRect=l||He(e),h.willInsertAfter=d,h.originalEvent=u,t.dispatchEvent(h),w&&(y=w.call(g,h,u)),y}function Ai(t){t.draggable=!1}function Pd(){zi=!1}function Dd(t,e,n){var o=He(Hn(n.el,0,n.options,!0)),a=Zl(n.el,n.options,pe),l=10;return e?t.clientX<a.left-l||t.clientY<o.top&&t.clientX<o.right:t.clientY<a.top-l||t.clientY<o.bottom&&t.clientX<o.left}function Ad(t,e,n){var o=He(oa(n.el,n.options.draggable)),a=Zl(n.el,n.options,pe),l=10;return e?t.clientX>a.right+l||t.clientY>o.bottom&&t.clientX>o.left:t.clientY>a.bottom+l||t.clientX>o.right&&t.clientY>o.top}function Id(t,e,n,o,a,l,u,d){var h=o?t.clientY:t.clientX,g=o?n.height:n.width,w=o?n.top:n.left,y=o?n.bottom:n.right,I=!1;if(!u){if(d&&mo<g*a){if(!Sr&&(xr===1?h>w+g*l/2:h<y-g*l/2)&&(Sr=!0),Sr)I=!0;else if(xr===1?h<w+mo:h>y-mo)return-xr}else if(h>w+g*(1-a)/2&&h<y-g*(1-a)/2)return Td(e)}return I=I||u,I&&(h<w+g*l/2||h>y-g*l/2)?h>w+g/2?1:-1:0}function Td(t){return yt(U)<yt(t)?1:-1}function Rd(t){for(var e=t.tagName+t.className+t.src+t.href+t.textContent,n=e.length,o=0;n--;)o+=e.charCodeAt(n);return o.toString(36)}function Nd(t){Po.length=0;for(var e=t.getElementsByTagName("input"),n=e.length;n--;){var o=e[n];o.checked&&Po.push(o)}}function yo(t){return setTimeout(t,0)}function qi(t){return clearTimeout(t)}No&&Ee(document,"touchmove",function(t){(ce.active||Kn)&&t.cancelable&&t.preventDefault()});ce.utils={on:Ee,off:Se,css:ue,find:Hl,is:function(e,n){return!!bt(e,n,e,!1)},extend:md,throttle:Wl,closest:bt,toggleClass:pt,clone:Yl,index:yt,nextTick:yo,cancelNextTick:qi,detectDirection:Ql,getChild:Hn,expando:ft};ce.get=function(t){return t[ft]};ce.mount=function(){for(var t=arguments.length,e=new Array(t),n=0;n<t;n++)e[n]=arguments[n];e[0].constructor===Array&&(e=e[0]),e.forEach(function(o){if(!o.prototype||!o.prototype.constructor)throw"Sortable: Mounted plugin must be a constructor function, not ".concat({}.toString.call(o));o.utils&&(ce.utils=Ot(Ot({},ce.utils),o.utils)),Dr.mount(o)})};ce.create=function(t,e){return new ce(t,e)};ce.version=pd;var Ve=[],pr,Ui,Vi=!1,Ii,Ti,Do,gr;function Ld(){function t(){this.defaults={scroll:!0,forceAutoScrollFallback:!1,scrollSensitivity:30,scrollSpeed:10,bubbleScroll:!0};for(var e in this)e.charAt(0)==="_"&&typeof this[e]=="function"&&(this[e]=this[e].bind(this))}return t.prototype={dragStarted:function(n){var o=n.originalEvent;this.sortable.nativeDraggable?Ee(document,"dragover",this._handleAutoScroll):this.options.supportPointer?Ee(document,"pointermove",this._handleFallbackAutoScroll):o.touches?Ee(document,"touchmove",this._handleFallbackAutoScroll):Ee(document,"mousemove",this._handleFallbackAutoScroll)},dragOverCompleted:function(n){var o=n.originalEvent;!this.options.dragOverBubble&&!o.rootEl&&this._handleAutoScroll(o)},drop:function(){this.sortable.nativeDraggable?Se(document,"dragover",this._handleAutoScroll):(Se(document,"pointermove",this._handleFallbackAutoScroll),Se(document,"touchmove",this._handleFallbackAutoScroll),Se(document,"mousemove",this._handleFallbackAutoScroll)),$s(),vo(),yd()},nulling:function(){Do=Ui=pr=Vi=gr=Ii=Ti=null,Ve.length=0},_handleFallbackAutoScroll:function(n){this._handleAutoScroll(n,!0)},_handleAutoScroll:function(n,o){var a=this,l=(n.touches?n.touches[0]:n).clientX,u=(n.touches?n.touches[0]:n).clientY,d=document.elementFromPoint(l,u);if(Do=n,o||this.options.forceAutoScrollFallback||Pr||Ft||br){Ri(n,this.options,d,o);var h=Zt(d,!0);Vi&&(!gr||l!==Ii||u!==Ti)&&(gr&&$s(),gr=setInterval(function(){var g=Zt(document.elementFromPoint(l,u),!0);g!==h&&(h=g,vo()),Ri(n,a.options,g,o)},10),Ii=l,Ti=u)}else{if(!this.options.bubbleScroll||Zt(d,!0)===Ct()){vo();return}Ri(n,this.options,Zt(d,!1),!1)}}},jt(t,{pluginName:"scroll",initializeByDefault:!0})}function vo(){Ve.forEach(function(t){clearInterval(t.pid)}),Ve=[]}function $s(){clearInterval(gr)}var Ri=Wl(function(t,e,n,o){if(e.scroll){var a=(t.touches?t.touches[0]:t).clientX,l=(t.touches?t.touches[0]:t).clientY,u=e.scrollSensitivity,d=e.scrollSpeed,h=Ct(),g=!1,w;Ui!==n&&(Ui=n,vo(),pr=e.scroll,w=e.scrollFn,pr===!0&&(pr=Zt(n,!0)));var y=0,I=pr;do{var R=I,N=He(R),F=N.top,oe=N.bottom,te=N.left,ee=N.right,fe=N.width,se=N.height,ne=void 0,K=void 0,Z=R.scrollWidth,B=R.scrollHeight,Y=ue(R),ie=R.scrollLeft,he=R.scrollTop;R===h?(ne=fe<Z&&(Y.overflowX==="auto"||Y.overflowX==="scroll"||Y.overflowX==="visible"),K=se<B&&(Y.overflowY==="auto"||Y.overflowY==="scroll"||Y.overflowY==="visible")):(ne=fe<Z&&(Y.overflowX==="auto"||Y.overflowX==="scroll"),K=se<B&&(Y.overflowY==="auto"||Y.overflowY==="scroll"));var ge=ne&&(Math.abs(ee-a)<=u&&ie+fe<Z)-(Math.abs(te-a)<=u&&!!ie),ye=K&&(Math.abs(oe-l)<=u&&he+se<B)-(Math.abs(F-l)<=u&&!!he);if(!Ve[y])for(var Ce=0;Ce<=y;Ce++)Ve[Ce]||(Ve[Ce]={});(Ve[y].vx!=ge||Ve[y].vy!=ye||Ve[y].el!==R)&&(Ve[y].el=R,Ve[y].vx=ge,Ve[y].vy=ye,clearInterval(Ve[y].pid),(ge!=0||ye!=0)&&(g=!0,Ve[y].pid=setInterval((function(){o&&this.layer===0&&ce.active._onTouchMove(Do);var Re=Ve[this.layer].vy?Ve[this.layer].vy*d:0,le=Ve[this.layer].vx?Ve[this.layer].vx*d:0;typeof w=="function"&&w.call(ce.dragged.parentNode[ft],le,Re,t,Do,Ve[this.layer].el)!=="continue"||Gl(Ve[this.layer].el,le,Re)}).bind({layer:y}),24))),y++}while(e.bubbleScroll&&I!==h&&(I=Zt(I,!1)));Vi=g}},30),nu=function(e){var n=e.originalEvent,o=e.putSortable,a=e.dragEl,l=e.activeSortable,u=e.dispatchSortableEvent,d=e.hideGhostForTarget,h=e.unhideGhostForTarget;if(n){var g=o||l;d();var w=n.changedTouches&&n.changedTouches.length?n.changedTouches[0]:n,y=document.elementFromPoint(w.clientX,w.clientY);h(),g&&!g.el.contains(y)&&(u("spill"),this.onSpill({dragEl:a,putSortable:o}))}};function ia(){}ia.prototype={startIndex:null,dragStart:function(e){var n=e.oldDraggableIndex;this.startIndex=n},onSpill:function(e){var n=e.dragEl,o=e.putSortable;this.sortable.captureAnimationState(),o&&o.captureAnimationState();var a=Hn(this.sortable.el,this.startIndex,this.options);a?this.sortable.el.insertBefore(n,a):this.sortable.el.appendChild(n),this.sortable.animateAll(),o&&o.animateAll()},drop:nu};jt(ia,{pluginName:"revertOnSpill"});function aa(){}aa.prototype={onSpill:function(e){var n=e.dragEl,o=e.putSortable,a=o||this.sortable;a.captureAnimationState(),n.parentNode&&n.parentNode.removeChild(n),a.animateAll()},drop:nu};jt(aa,{pluginName:"removeOnSpill"});ce.mount(new Ld);ce.mount(aa,ia);const jd=({draggable:t,handle:e,onEnd:n})=>{const o=Ae(null),a=Ae(n);return Je(()=>{a.current=n},[n]),Je(()=>{const l=o.current;if(!l)return;const u=new ce(l,{draggable:t,handle:e,onEnd:d=>a.current?.(d)});return()=>{u.destroy()}},[t,e]),{ref:o}},Fd=()=>{const{i18n:t}=xn();return Xe(()=>new Date().toLocaleDateString(t.resolvedLanguage,{year:"numeric",month:"long",day:"numeric"}),[t.resolvedLanguage])},ru=wn(null),sa=()=>{const t=Qt(ru);if(!t)throw new Error("useCalculatorContext must be used within <CalculatorContext />");return t},ou=wn(null),la=()=>{const t=Qt(ou);if(!t)throw new Error("useRowContext must be used within <RowContext />");return t};function Md(t,e,n,o){var a=this,l=Ae(null),u=Ae(0),d=Ae(0),h=Ae(null),g=Ae([]),w=Ae(),y=Ae(),I=Ae(t),R=Ae(!0),N=Ae(),F=Ae();I.current=t;var oe=typeof window<"u",te=!e&&e!==0&&oe;if(typeof t!="function")throw new TypeError("Expected a function");e=+e||0;var ee=!!(n=n||{}).leading,fe=!("trailing"in n)||!!n.trailing,se=!!n.flushOnExit&&fe,ne="maxWait"in n,K="debounceOnServer"in n&&!!n.debounceOnServer,Z=ne?Math.max(+n.maxWait||0,e):null,B=Xe(function(){var Y=function(le){var we=g.current,W=w.current;return g.current=w.current=null,u.current=le,d.current=d.current||le,y.current=I.current.apply(W,we)},ie=function(le,we){te&&cancelAnimationFrame(h.current),h.current=te?requestAnimationFrame(le):setTimeout(le,we)},he=function(le){if(!R.current)return!1;var we=le-l.current;return!l.current||we>=e||we<0||ne&&le-u.current>=Z},ge=function(le){return h.current=null,fe&&g.current?Y(le):(g.current=w.current=null,y.current)},ye=function le(){var we=Date.now();if(ee&&d.current===u.current&&Ce(),he(we))return ge(we);if(R.current){var W=e-(we-l.current),ze=ne?Math.min(W,Z-(we-u.current)):W;ie(le,ze)}},Ce=function(){},Re=function(){if(oe||K){var le,we=Date.now(),W=he(we);if(g.current=[].slice.call(arguments),w.current=a,l.current=we,se&&!N.current&&(N.current=function(){var ze;((ze=global.document)==null?void 0:ze.visibilityState)==="hidden"&&F.current.flush()},(le=global.document)==null||le.addEventListener==null||le.addEventListener("visibilitychange",N.current)),W){if(!h.current&&R.current)return u.current=l.current,ie(ye,e),ee?Y(l.current):y.current;if(ne)return ie(ye,e),Y(l.current)}return h.current||ie(ye,e),y.current}};return Re.cancel=function(){var le=h.current;le&&(te?cancelAnimationFrame(h.current):clearTimeout(h.current)),u.current=0,g.current=l.current=w.current=h.current=null},Re.isPending=function(){return!!h.current},Re.flush=function(){return h.current?ge(Date.now()):y.current},Re},[ee,ne,e,Z,fe,se,te,oe,K,o]);return F.current=B,Je(function(){return R.current=!0,function(){var Y;se&&F.current.flush(),N.current&&((Y=global.document)==null||Y.removeEventListener==null||Y.removeEventListener("visibilitychange",N.current),N.current=null),R.current=!1}},[se]),B}const Kd=300,Bd="https://www.fatsecret.es/calor%C3%ADas-nutrici%C3%B3n/search?q=%q",$d=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",...t},Pe("path",{fillRule:"evenodd",d:"M9.47 6.47a.75.75 0 0 1 1.06 0l4.25 4.25a.75.75 0 1 1-1.06 1.06L10 8.06l-3.72 3.72a.75.75 0 0 1-1.06-1.06l4.25-4.25Z",clipRule:"evenodd"})),iu=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",...t},Pe("path",{fillRule:"evenodd",d:"M5.22 8.22a.75.75 0 0 1 1.06 0L10 11.94l3.72-3.72a.75.75 0 1 1 1.06 1.06l-4.25 4.25a.75.75 0 0 1-1.06 0L5.22 9.28a.75.75 0 0 1 0-1.06Z",clipRule:"evenodd"})),zd=()=>{const{t}=xn(),{toggleSection:e,isSectionCollapsed:n,isSectionEmpty:o}=Ro(),{focusIdRef:a}=sa(),{autoFocus:l,entry:u,onEntryChange:d,save:h,debouncedSave:g}=la(),w=n(u.id),y=o(u.id),I=Ae(null);return Je(()=>{a.current===u.id&&(I.current?.focus(),a.current="")},[a,u.id]),L(Nt,{children:[L("td",{colSpan:3,children:L("input",{autoFocus:l,ref:I,type:"text",placeholder:t`section-name`,value:u.name,onInput:g,onChange:R=>d({...u,name:R.currentTarget.value}),onBlur:h,"aria-label":t`section-name`,class:"input w-full col-span-3 border-2 border-primary/50 outline-primary"})}),L("td",{class:mn.compact,children:L("button",{type:"button",disabled:y,onClick:()=>e(u.id),class:wt("btn btn-square btn-ghost btn-sm",{"opacity-0":y}),children:w?L(iu,{}):L($d,{})})})]})},qd=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",className:"size-5",...t},Pe("path",{fillRule:"evenodd",d:"M9 3.5a5.5 5.5 0 1 0 0 11 5.5 5.5 0 0 0 0-11ZM2 9a7 7 0 1 1 12.452 4.391l3.328 3.329a.75.75 0 1 1-1.06 1.06l-3.329-3.328A7 7 0 0 1 2 9Z",clipRule:"evenodd"})),Ud=t=>Pe("svg",{xmlns:"http://www.w3.org/2000/svg",height:"20px",viewBox:"0 -960 960 960",width:"20px",fill:"currentColor",...t},Pe("path",{d:"M240-144v-600q0-29.7 21.15-50.85Q282.3-816 312-816h336q29.7 0 50.85 21.15Q720-773.7 720-744v600l-240-96-240 96Zm72-107 168-67 168 67v-493H312v493Zm0-493h336-336Z"})),Vd="_Combobox_1mh0y_1",Hd={Combobox:Vd},zs=t=>t.normalize("NFD").replace(/[\u0300-\u036f]/g,"").toLowerCase(),Wd=()=>Cr((t,e)=>e.type=="open"?{...t,open:!0,activeIndex:e.activeIndex??t.activeIndex}:e.type=="close"?{...t,open:!1,activeIndex:-1}:e.type=="toggle"?{...t,open:!t.open,activeIndex:-1}:e.type=="next"?{...t,activeIndex:(t.activeIndex+2)%(e.size+1)-1}:e.type=="back"?{...t,activeIndex:Math.max(-1,t.activeIndex-1)}:t,{open:!1,activeIndex:-1}),Gd=ea(({value:t,onChange:e,onSelectOption:n,options:o,renderOption:a,class:l,...u},d)=>{const[h,g]=Wd(),w=Ae(null),y=Ae(null),I=Ae(null),R=Ae(null),N=Ae([]),F=t?o.filter(K=>zs(K.name).includes(t==null?"":zs(`${t}`.trim()))):o,oe=K=>{const Z=w.current,B=K.relatedTarget;!Z||!B||B&&!Z.contains(B)&&g({type:"close"})},te=K=>{switch(K.key){case"ArrowDown":{K.preventDefault(),g({type:"open",activeIndex:0});break}case"ArrowUp":{K.preventDefault(),g({type:"open",activeIndex:F.length-1});break}case"Escape":{K.preventDefault(),g({type:"close"});break}}},ee=K=>{g({type:"open"}),e?.(K)},fe=K=>{K.preventDefault(),g({type:"toggle"})},se=(K,Z)=>{switch(K.key){case"ArrowDown":{K.preventDefault(),g({type:"next",size:F.length});break}case"ArrowUp":{K.preventDefault(),g({type:"back"});break}case"Tab":{n(F[Z]),g({type:"close"});break}case"Enter":{K.preventDefault(),n(F[Z]),g({type:"close"}),y.current?.focus();break}case"Escape":{K.preventDefault(),g({type:"close"}),y.current?.focus();break}}},ne=(K,Z)=>{K.button===0&&(K.preventDefault(),g({type:"close"}),n(Z))};return Je(()=>{const K=w.current,Z=I.current,B=R.current;if(!K||!Z||!B)return;if(!h.open){B.style.visibility="hidden";return}const Y=K.getBoundingClientRect(),ie=Z.getBoundingClientRect(),he=B.getBoundingClientRect(),ge=window.innerHeight-ie.bottom,ye=ie.left-Y.left,Ce=ie.top-Y.top;B.style.minWidth=`${ie.width}px`,B.style.left=`${ye}px`,ge>=he.height?(B.style.top=`${Ce+ie.height}px`,B.style.bottom="auto"):(B.style.bottom=`${Y.height-Ce}px`,B.style.top="auto"),B.style.visibility="visible"},[h.open,F.length]),Je(()=>{h.open&&h.activeIndex<0?y.current?.focus():N.current[h.activeIndex]?.focus()},[h.open,h.activeIndex]),Je(()=>{const K=Z=>{const B=w.current;if(!B)return;const Y=Z.target;(B===Y||!B.contains(Y))&&g({type:"close"})};return window.addEventListener("mousedown",K),()=>{window.removeEventListener("mousedown",K)}},[g]),L("div",{ref:w,onBlur:oe,class:wt(Hd.Combobox,l),children:[L("div",{ref:I,className:wt("join w-full","focus-within:outline-2 focus-within:outline-offset-2 focus-within:outline-(--color-base-content)"),style:{borderRadius:"var(--radius-field)"},children:[L("input",{...u,ref:K=>{y.current=K,typeof d=="function"?d(K):d&&(d.current=K)},type:"text",value:t,onChange:ee,onKeyDown:te,class:wt("input w-full join-item focus:outline-none focus-within:outline-none",l)}),L("button",{type:"button",tabIndex:-1,onMouseDown:fe,class:"join-item btn btn-square focus:outline-none",children:L(iu,{className:"size-4"})})]}),h.open&&F.length>0&&L("ul",{ref:R,class:"absolute z-10 menu bg-base-100 border border-base-300 shadow-md/30 mt-1.5 rounded-md -ml-1 flex-nowrap overflow-y-auto max-h-[40vh]",style:{visibility:"hidden"},children:F.map((K,Z)=>L("li",{ref:B=>{N.current[Z]=B},tabIndex:-1,onKeyDown:B=>se(B,Z),class:"cursor-default hover:bg-base-300 focus:bg-base-300 outline-none",children:a(K,B=>ne(B,K))},K.id))})]})}),Yd=()=>{const{t}=xn(),{articleList:e,updateArticle:n,deleteArticle:o,updateEntry:a,searchArticleById:l,searchArticleByName:u}=Ro(),{focusIdRef:d}=sa(),{autoFocus:h,entry:g,onEntryChange:w,save:y,debouncedSave:I}=la(),{notify:R}=Ml(),N=Ae(null),F=async te=>{const ee=await l(te);if(!ee)return;const fe={...g,name:ee.name,kcal:ee.kcal,total:ee.total,type:ee.type};w(fe),await a(fe)},oe=async()=>{const te=await u(g.name);await n({id:te?.id||ko(),createdAt:te?.createdAt||Date.now(),type:g.type,name:g.name,kcal:g.kcal,total:g.total}),R({header:t`success`,message:te?t`article-saved`:t`article-created`})};return Je(()=>{d.current===g.id&&(N.current?.focus(),d.current="")},[d,g.id]),L(Nt,{children:[L("td",{children:L("div",{class:"flex items-center gap-1.5",children:[L(Gd,{autoFocus:h,ref:N,placeholder:t`entry-name`,value:g.name,onInput:I,onChange:te=>w({...g,name:te.currentTarget.value}),onBlur:y,options:e,renderOption:(te,ee)=>L("div",{class:"flex gap-1",children:[L("a",{type:"button",onMouseDown:ee,class:"grow",children:L("span",{class:"whitespace-nowrap",children:te.name})}),L("button",{type:"button",tabIndex:-1,onClick:()=>o(te.id),class:"btn btn-ghost btn-square btn-sm",children:L(zl,{"aria-label":"delete"})})]}),onSelectOption:te=>F(te.id),class:"w-full"}),L("a",{href:`${Bd.replace("%q",encodeURIComponent(g.name.trim()))}`,target:"_blank",rel:"noreferrer",type:"button",class:"btn btn-square",children:L(qd,{})})]})}),L("td",{children:L("div",{class:"join w-full",children:[L("input",{type:"number",placeholder:t`entry-kcal`,value:isNaN(g.kcal)?"":g.kcal,onInput:I,onChange:te=>w({...g,kcal:parseFloat(te.currentTarget.value)}),onBlur:y,class:wt("input join-item",{"border-kcal-per-100g":g.type=="kcalPer100g","border-kcal-per-unit":g.type=="kcalPerUnit"})}),L("select",{value:g.type,onChange:te=>w({...g,type:te.currentTarget.value}),onBlur:y,class:wt("input join-item",{"border-kcal-per-100g":g.type=="kcalPer100g","border-kcal-per-unit":g.type=="kcalPerUnit"}),children:[L("option",{value:"kcalPer100g",children:t`kcalPer100g`}),L("option",{value:"kcalPerUnit",children:t`kcalPerUnit`})," "]})]})}),L("td",{children:L("div",{class:"flex items-center gap-1.5",children:[L("input",{type:"number",step:g.type=="kcalPer100g"?10:1,placeholder:t`entry-total`,value:isNaN(g.total)?"":g.total,onInput:I,onChange:te=>w({...g,total:parseFloat(te.currentTarget.value)}),onBlur:y,class:"input w-full"}),L("button",{type:"button",onClick:oe,class:"btn btn-square",children:L(Ud,{})})]})}),L("td",{children:""})]})},Zd=()=>{const{getTotalSum:t}=Ro(),{entry:e,onEntryChange:n,debouncedSave:o}=la(),a=e.type,l=t(e.id),u=Ao();return L(Nt,{children:[a=="section"&&L(zd,{}),(a=="kcalPer100g"||a=="kcalPerUnit")&&L(Yd,{}),L("td",{class:wt("text-right whitespace-nowrap",mn.compact),children:!isNaN(l)&&L("label",{class:wt("text-right",{"font-medium text-lg":a=="section","line-through opacity-50":e.discard}),htmlFor:u,children:[l.toFixed(2)," kcal"]})}),L("td",{class:mn.compact,children:(a=="kcalPer100g"||a=="kcalPerUnit")&&L("input",{id:u,type:"checkbox",checked:!e.discard,onInput:o,onChange:d=>{n({...e,discard:!d.currentTarget.checked})},class:"toggle toggle-xs mb-1"},e.discard)})]})},Xd=({autoFocus:t,entry:e,onSave:n})=>{const[o,a]=_t(e),l=vn(()=>n({...o,displayOrder:e.displayOrder}),[o,e,n]),u=Md(l,Kd),d=Xe(()=>({autoFocus:t,entry:o,onEntryChange:a,save:l,debouncedSave:u}),[t,o,l,u]);return L(ou,{value:d,children:L(Zd,{})})};function Qd(){const{t}=xn(),{articleList:e,replaceArticles:n,entryList:o,totalSum:a,clearEntries:l,updateEntry:u,deleteEntry:d,isSectionCollapsed:h}=Ro(),{confirm:g,notify:w}=Ml(),{focusIdRef:y}=sa(),I=Fd(),R=Xe(()=>o?.filter(ne=>!ne.hide)??[],[o]),N=async ne=>{if(h(ne)){w({header:t`alert`,message:t`delete-section-not-allowed`});return}await d(ne)},F=async(ne,K)=>{if(!o)return;const Z=cd(o,ne);y.current=ko(),await u({id:y.current,createdAt:Date.now(),displayOrder:Z,type:K,name:"",kcal:NaN,total:NaN,discard:!1,hide:!1})},oe=()=>{g({header:t`delete-entries-header`,message:t`delete-entries-message`,onAccept:l})},te=()=>{const K=`calory-articles-${new Date().toISOString().slice(0,10)}.json`;ud(e,K),w({header:t`success`,message:t`export-articles-success`})},ee=async()=>{const ne=await ld();await n(ne),w({header:t`success`,message:t`import-articles-success`})},fe=vn(ne=>{const K=ne.oldIndex,Z=ne.newIndex;if(R.length<2||K===void 0||Z===void 0||K===Z)return;const B=R[K];if(!B)return;const Y=K<Z?1:-1,ie=R[Z]?.displayOrder??null,he=R[Z+Y]?.displayOrder??null,ge=Y>0?ho(ie,he):ho(he,ie);u({...B,displayOrder:ge})},[R,u]),{ref:se}=jd({draggable:"tr",handle:".handle",onEnd:fe});return Je(()=>{!o||o.length>0||(y.current=ko(),u({id:y.current,createdAt:Date.now(),displayOrder:ho(null,null),type:"section",name:"",kcal:NaN,total:NaN,discard:!1,hide:!1}))},[o,y,u]),L("table",{class:mn.entries,children:[L("thead",{children:L("tr",{children:[L("th",{children:""}),L("th",{colSpan:5,class:"text-xl font-medium",children:L("div",{class:"flex flex-row justify-between",children:[L("span",{children:I}),L("span",{children:isNaN(a)?"":`${a.toFixed(2)} kcal`})]})}),L("th",{colSpan:2,class:"text-right",children:L("div",{class:"inline-flex gap-1.5",children:[L("button",{type:"button",onClick:oe,class:"btn btn-square btn-warning tooltip tooltip-bottom","data-tip":t`delete-all-entries`,"aria-label":t`delete-all-entries`,children:L(zl,{})}),L("div",{class:"join",children:[L("button",{type:"button",onClick:ee,class:"btn btn-square join-item",children:L(sd,{})}),L("button",{type:"button",onClick:te,class:"btn btn-square join-item",children:L(ad,{})})]})]})})]})}),L("tbody",{ref:se,children:R.map((ne,K)=>{const Z=ne.type=="section"&&h(ne.id);return L("tr",{class:wt({"drag-disabled":Z}),children:[L("td",{class:wt("cursor-grab active:cursor-grabbing",mn.compact,Z&&mn.dragDisabled,{handle:!Z}),children:L(od,{})}),L(Xd,{entry:ne,autoFocus:K==R.length-1,onSave:u}),L("td",{class:mn.compact,children:L("div",{class:"flex items-center gap-1.5",children:[L("button",{type:"button",disabled:Z,onClick:()=>N(ne.id),class:"btn btn-square",children:L(nd,{})}),L("div",{class:"join",children:[L("button",{type:"button",disabled:Z,onClick:()=>F(ne.id,"kcalPer100g"),class:"btn btn-square join-item",children:L(rd,{})}),L("button",{type:"button",onClick:()=>F(ne.id,"section"),class:"btn btn-square join-item",children:L(id,{})})]})]})})]},ne.id)})})]})}const Jd=()=>{const t=Ae(""),[e,n]=_t(""),o=Xe(()=>({focusIdRef:t,focusId:e,setFocusId:n}),[e]);return L(ru,{value:o,children:L(Qd,{})})},eh=["light","cupcake","caramellatte","valentine"],th=()=>{const t=Ae(null),{theme:e,setTheme:n}=Yc(),o=a=>{const l=t.current;l&&(n(a),l.open=!1)};return L("div",{class:"flex flex-col h-screen max-w-6xl mx-auto",children:[L("div",{class:"navbar",children:[L("div",{class:"flex-1 flex items-center gap-1.5 text-2xl font-medium",children:[L(ic,{}),L("span",{children:"Calory App"})]}),L("div",{class:"flex-none",children:L("ul",{class:"menu menu-horizontal px-1",children:L("li",{children:L("details",{ref:t,children:[L("summary",{children:"Theme"}),L("ul",{class:"bg-base-100 rounded-t-none p-2",children:eh.map((a,l)=>L("li",{children:L("a",{class:wt({"font-semibold":e==a}),onClick:()=>o(a),children:Zc(a)})},l))})]})})})})]}),L("div",{class:"grow overflow-auto py-8 px-6 bg-base-100 border-2 border-neutral/15 border-b-0 rounded-2xl rounded-b-none",children:L(Jd,{})})]})},nh=()=>L(qf,{children:L(Yf,{children:L(th,{})})}),{slice:rh,forEach:oh}=[];function ih(t){return oh.call(rh.call(arguments,1),e=>{if(e)for(const n in e)t[n]===void 0&&(t[n]=e[n])}),t}function ah(t){return typeof t!="string"?!1:[/<\s*script.*?>/i,/<\s*\/\s*script\s*>/i,/<\s*img.*?on\w+\s*=/i,/<\s*\w+\s*on\w+\s*=.*?>/i,/javascript\s*:/i,/vbscript\s*:/i,/expression\s*\(/i,/eval\s*\(/i,/alert\s*\(/i,/document\.cookie/i,/document\.write\s*\(/i,/window\.location/i,/innerHTML/i].some(n=>n.test(t))}const qs=/^[\u0009\u0020-\u007e\u0080-\u00ff]+$/,sh=function(t,e){const o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{path:"/"},a=encodeURIComponent(e);let l=`${t}=${a}`;if(o.maxAge>0){const u=o.maxAge-0;if(Number.isNaN(u))throw new Error("maxAge should be a Number");l+=`; Max-Age=${Math.floor(u)}`}if(o.domain){if(!qs.test(o.domain))throw new TypeError("option domain is invalid");l+=`; Domain=${o.domain}`}if(o.path){if(!qs.test(o.path))throw new TypeError("option path is invalid");l+=`; Path=${o.path}`}if(o.expires){if(typeof o.expires.toUTCString!="function")throw new TypeError("option expires is invalid");l+=`; Expires=${o.expires.toUTCString()}`}if(o.httpOnly&&(l+="; HttpOnly"),o.secure&&(l+="; Secure"),o.sameSite)switch(typeof o.sameSite=="string"?o.sameSite.toLowerCase():o.sameSite){case!0:l+="; SameSite=Strict";break;case"lax":l+="; SameSite=Lax";break;case"strict":l+="; SameSite=Strict";break;case"none":l+="; SameSite=None";break;default:throw new TypeError("option sameSite is invalid")}return o.partitioned&&(l+="; Partitioned"),l},Us={create(t,e,n,o){let a=arguments.length>4&&arguments[4]!==void 0?arguments[4]:{path:"/",sameSite:"strict"};n&&(a.expires=new Date,a.expires.setTime(a.expires.getTime()+n*60*1e3)),o&&(a.domain=o),document.cookie=sh(t,e,a)},read(t){const e=`${t}=`,n=document.cookie.split(";");for(let o=0;o<n.length;o++){let a=n[o];for(;a.charAt(0)===" ";)a=a.substring(1,a.length);if(a.indexOf(e)===0)return a.substring(e.length,a.length)}return null},remove(t,e){this.create(t,"",-1,e)}};var lh={name:"cookie",lookup(t){let{lookupCookie:e}=t;if(e&&typeof document<"u")return Us.read(e)||void 0},cacheUserLanguage(t,e){let{lookupCookie:n,cookieMinutes:o,cookieDomain:a,cookieOptions:l}=e;n&&typeof document<"u"&&Us.create(n,t,o,a,l)}},uh={name:"querystring",lookup(t){let{lookupQuerystring:e}=t,n;if(typeof window<"u"){let{search:o}=window.location;!window.location.search&&window.location.hash?.indexOf("?")>-1&&(o=window.location.hash.substring(window.location.hash.indexOf("?")));const l=o.substring(1).split("&");for(let u=0;u<l.length;u++){const d=l[u].indexOf("=");d>0&&l[u].substring(0,d)===e&&(n=l[u].substring(d+1))}}return n}},ch={name:"hash",lookup(t){let{lookupHash:e,lookupFromHashIndex:n}=t,o;if(typeof window<"u"){const{hash:a}=window.location;if(a&&a.length>2){const l=a.substring(1);if(e){const u=l.split("&");for(let d=0;d<u.length;d++){const h=u[d].indexOf("=");h>0&&u[d].substring(0,h)===e&&(o=u[d].substring(h+1))}}if(o)return o;if(!o&&n>-1){const u=a.match(/\/([a-zA-Z-]*)/g);return Array.isArray(u)?u[typeof n=="number"?n:0]?.replace("/",""):void 0}}}return o}};let jn=null;const Vs=()=>{if(jn!==null)return jn;try{if(jn=typeof window<"u"&&window.localStorage!==null,!jn)return!1;const t="i18next.translate.boo";window.localStorage.setItem(t,"foo"),window.localStorage.removeItem(t)}catch{jn=!1}return jn};var fh={name:"localStorage",lookup(t){let{lookupLocalStorage:e}=t;if(e&&Vs())return window.localStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupLocalStorage:n}=e;n&&Vs()&&window.localStorage.setItem(n,t)}};let Fn=null;const Hs=()=>{if(Fn!==null)return Fn;try{if(Fn=typeof window<"u"&&window.sessionStorage!==null,!Fn)return!1;const t="i18next.translate.boo";window.sessionStorage.setItem(t,"foo"),window.sessionStorage.removeItem(t)}catch{Fn=!1}return Fn};var dh={name:"sessionStorage",lookup(t){let{lookupSessionStorage:e}=t;if(e&&Hs())return window.sessionStorage.getItem(e)||void 0},cacheUserLanguage(t,e){let{lookupSessionStorage:n}=e;n&&Hs()&&window.sessionStorage.setItem(n,t)}},hh={name:"navigator",lookup(t){const e=[];if(typeof navigator<"u"){const{languages:n,userLanguage:o,language:a}=navigator;if(n)for(let l=0;l<n.length;l++)e.push(n[l]);o&&e.push(o),a&&e.push(a)}return e.length>0?e:void 0}},ph={name:"htmlTag",lookup(t){let{htmlTag:e}=t,n;const o=e||(typeof document<"u"?document.documentElement:null);return o&&typeof o.getAttribute=="function"&&(n=o.getAttribute("lang")),n}},gh={name:"path",lookup(t){let{lookupFromPathIndex:e}=t;if(typeof window>"u")return;const n=window.location.pathname.match(/\/([a-zA-Z-]*)/g);return Array.isArray(n)?n[typeof e=="number"?e:0]?.replace("/",""):void 0}},mh={name:"subdomain",lookup(t){let{lookupFromSubdomainIndex:e}=t;const n=typeof e=="number"?e+1:1,o=typeof window<"u"&&window.location?.hostname?.match(/^(\w{2,5})\.(([a-z0-9-]{1,63}\.[a-z]{2,6})|localhost)/i);if(o)return o[n]}};let au=!1;try{document.cookie,au=!0}catch{}const su=["querystring","cookie","localStorage","sessionStorage","navigator","htmlTag"];au||su.splice(1,1);const yh=()=>({order:su,lookupQuerystring:"lng",lookupCookie:"i18next",lookupLocalStorage:"i18nextLng",lookupSessionStorage:"i18nextLng",caches:["localStorage"],excludeCacheFor:["cimode"],convertDetectedLanguage:t=>t});class lu{constructor(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};this.type="languageDetector",this.detectors={},this.init(e,n)}init(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{languageUtils:{}},n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{},o=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};this.services=e,this.options=ih(n,this.options||{},yh()),typeof this.options.convertDetectedLanguage=="string"&&this.options.convertDetectedLanguage.indexOf("15897")>-1&&(this.options.convertDetectedLanguage=a=>a.replace("-","_")),this.options.lookupFromUrlIndex&&(this.options.lookupFromPathIndex=this.options.lookupFromUrlIndex),this.i18nOptions=o,this.addDetector(lh),this.addDetector(uh),this.addDetector(fh),this.addDetector(dh),this.addDetector(hh),this.addDetector(ph),this.addDetector(gh),this.addDetector(mh),this.addDetector(ch)}addDetector(e){return this.detectors[e.name]=e,this}detect(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.order,n=[];return e.forEach(o=>{if(this.detectors[o]){let a=this.detectors[o].lookup(this.options);a&&typeof a=="string"&&(a=[a]),a&&(n=n.concat(a))}}),n=n.filter(o=>o!=null&&!ah(o)).map(o=>this.options.convertDetectedLanguage(o)),this.services&&this.services.languageUtils&&this.services.languageUtils.getBestMatchFromCodes?n:n.length>0?n[0]:null}cacheUserLanguage(e){let n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.caches;n&&(this.options.excludeCacheFor&&this.options.excludeCacheFor.indexOf(e)>-1||n.forEach(o=>{this.detectors[o]&&this.detectors[o].cacheUserLanguage(e,this.options)}))}}lu.type="languageDetector";const vh="Cancelar",bh="Aceptar",wh="Bien!",_h="Alerta",xh="kcal/100g",Sh="kcal/Unidad",kh={cancel:vh,accept:bh,success:wh,alert:_h,"section-name":"Desayuno, Almuerzo, Merienda, Cena, etc.","entry-name":"Arroz, margarina, rebanada de pan, etc.","entry-total":"Gramos o unidades","entry-kcal":"kilocaloras (kcal)",kcalPer100g:xh,kcalPerUnit:Sh,"empty-table":"Borrar entradas","delete-entries-header":"Confirme","delete-entries-message":"Est a punto de borrar todas las entradas. Desea continuar?","export-articles-success":"Los artculos se han exportado correctamente.","import-articles-success":"Los artculos se han importado correctamente.","article-saved":"Se ha actualizado el artculo.","article-created":"Se ha creado un nuevo artculo.","no-options":`No hay opciones.
Por favor, guarde al menos un artculo.`,"delete-section-not-allowed":"Esta seccin contiene entradas ocultas. Expanda la seccin antes de eliminarla.","add-entry-not-allowed":"Esta seccin contiene entradas ocultas. Expanda la seccin antes de aadir nuevas entradas.","delete-all-entries":"Borrar todas las entradas"},Eh="Cancel",Ch="Accept",Oh="Success!",Ph="Alert",Dh="kcal/100g",Ah="kcal/unit",Ih={cancel:Eh,accept:Ch,success:Oh,alert:Ph,"section-name":"Breakfast, Lunch, Snack, Dinner, etc.","entry-name":"Rice, margarine, sliced bread, etc.","entry-total":"Grams or units","entry-kcal":"kilocalories (kcal)",kcalPer100g:Dh,kcalPerUnit:Ah,"empty-table":"Clear entries","delete-entries-header":"Confirm","delete-entries-message":"You are about to delete all entries. Do you want to continue?","export-articles-success":"Articles were exported successfully.","import-articles-success":"Articles were imported successfully.","article-saved":"The article has been updated.","article-created":"A new article has been created.","no-options":`No options.
Please save at least one article.`,"delete-section-not-allowed":"This section contains hidden entries. Expand the section before deleting it.","add-entry-not-allowed":"This section contains hidden entries. Expand the section before adding new entries.","delete-all-entries":"Delete all entries"};ut.use(lu).use(If).init({fallbackLng:"es",resources:{es:{translation:kh},en:{translation:Ih}},interpolation:{escapeValue:!1},detection:{order:["querystring","navigator","localStorage","htmlTag"],lookupQuerystring:"lng",caches:["localStorage"]}});kr(L(nh,{}),document.getElementById("app"));
